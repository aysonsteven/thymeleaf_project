!function($e,oe){"object"==typeof exports&&"object"==typeof module?module.exports=oe():"function"==typeof define&&define.amd?define([],oe):"object"==typeof exports?exports.grapesjs=oe():$e.grapesjs=oe()}("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:this,function(){return function($e){var oe={};function i(Z){if(oe[Z])return oe[Z].exports;var ne=oe[Z]={i:Z,l:!1,exports:{}};return $e[Z].call(ne.exports,ne,ne.exports,i),ne.l=!0,ne.exports}return i.m=$e,i.c=oe,i.d=function(Z,ne,Y){i.o(Z,ne)||Object.defineProperty(Z,ne,{enumerable:!0,get:Y})},i.r=function(Z){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(Z,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(Z,"__esModule",{value:!0})},i.t=function(Z,ne){if(1&ne&&(Z=i(Z)),8&ne||4&ne&&"object"==typeof Z&&Z&&Z.__esModule)return Z;var Y=Object.create(null);if(i.r(Y),Object.defineProperty(Y,"default",{enumerable:!0,value:Z}),2&ne&&"string"!=typeof Z)for(var U in Z)i.d(Y,U,function(M){return Z[M]}.bind(null,U));return Y},i.n=function(Z){var ne=Z&&Z.__esModule?function(){return Z.default}:function(){return Z};return i.d(ne,"a",ne),ne},i.o=function(Z,ne){return Object.prototype.hasOwnProperty.call(Z,ne)},i.p="",i(i.s=100)}([function($e,oe,i){"use strict";i.r(oe),i.d(oe,"default",function(){return ko}),i.d(oe,"VERSION",function(){return ne.e}),i.d(oe,"restArguments",function(){return Y}),i.d(oe,"isObject",function(){return U}),i.d(oe,"isNull",function(){return M}),i.d(oe,"isUndefined",function(){return x}),i.d(oe,"isBoolean",function(){return c}),i.d(oe,"isElement",function(){return h}),i.d(oe,"isString",function(){return p}),i.d(oe,"isNumber",function(){return f}),i.d(oe,"isDate",function(){return P}),i.d(oe,"isRegExp",function(){return w}),i.d(oe,"isError",function(){return b}),i.d(oe,"isSymbol",function(){return A}),i.d(oe,"isArrayBuffer",function(){return R}),i.d(oe,"isDataView",function(){return v}),i.d(oe,"isArray",function(){return d}),i.d(oe,"isFunction",function(){return T}),i.d(oe,"isArguments",function(){return g}),i.d(oe,"isFinite",function(){return L}),i.d(oe,"isNaN",function(){return K}),i.d(oe,"isTypedArray",function(){return se}),i.d(oe,"isEmpty",function(){return J}),i.d(oe,"isMatch",function(){return $}),i.d(oe,"isEqual",function(){return n}),i.d(oe,"isMap",function(){return Pe}),i.d(oe,"isWeakMap",function(){return He}),i.d(oe,"isSet",function(){return ut}),i.d(oe,"isWeakSet",function(){return rt}),i.d(oe,"keys",function(){return re}),i.d(oe,"allKeys",function(){return m}),i.d(oe,"values",function(){return G}),i.d(oe,"pairs",function(){return ae}),i.d(oe,"invert",function(){return Oe}),i.d(oe,"functions",function(){return ze}),i.d(oe,"methods",function(){return ze}),i.d(oe,"extend",function(){return Je}),i.d(oe,"extendOwn",function(){return ot}),i.d(oe,"assign",function(){return ot}),i.d(oe,"defaults",function(){return X}),i.d(oe,"create",function(){return Ae}),i.d(oe,"clone",function(){return Ne}),i.d(oe,"tap",function(){return he}),i.d(oe,"get",function(){return dt}),i.d(oe,"has",function(){return vt}),i.d(oe,"mapObject",function(){return F}),i.d(oe,"identity",function(){return Xe}),i.d(oe,"constant",function(){return ee}),i.d(oe,"noop",function(){return me}),i.d(oe,"toPath",function(){return Be}),i.d(oe,"property",function(){return je}),i.d(oe,"propertyOf",function(){return le}),i.d(oe,"matcher",function(){return ft}),i.d(oe,"matches",function(){return ft}),i.d(oe,"times",function(){return Me}),i.d(oe,"random",function(){return Ze}),i.d(oe,"now",function(){return ct}),i.d(oe,"escape",function(){return At}),i.d(oe,"unescape",function(){return St}),i.d(oe,"templateSettings",function(){return Dt}),i.d(oe,"template",function(){return It}),i.d(oe,"result",function(){return Tt}),i.d(oe,"uniqueId",function(){return Kt}),i.d(oe,"chain",function(){return Et}),i.d(oe,"iteratee",function(){return Ge}),i.d(oe,"partial",function(){return mn}),i.d(oe,"bind",function(){return I}),i.d(oe,"bindAll",function(){return Te}),i.d(oe,"memoize",function(){return at}),i.d(oe,"delay",function(){return yt}),i.d(oe,"defer",function(){return bt}),i.d(oe,"throttle",function(){return mt}),i.d(oe,"debounce",function(){return wt}),i.d(oe,"wrap",function(){return Ht}),i.d(oe,"negate",function(){return tn}),i.d(oe,"compose",function(){return cn}),i.d(oe,"after",function(){return kn}),i.d(oe,"before",function(){return Vn}),i.d(oe,"once",function(){return sr}),i.d(oe,"findKey",function(){return Yn}),i.d(oe,"findIndex",function(){return Un}),i.d(oe,"findLastIndex",function(){return er}),i.d(oe,"sortedIndex",function(){return tr}),i.d(oe,"indexOf",function(){return Sr}),i.d(oe,"lastIndexOf",function(){return Hn}),i.d(oe,"find",function(){return yn}),i.d(oe,"detect",function(){return yn}),i.d(oe,"findWhere",function(){return Kn}),i.d(oe,"each",function(){return Cn}),i.d(oe,"forEach",function(){return Cn}),i.d(oe,"map",function(){return Nn}),i.d(oe,"collect",function(){return Nn}),i.d(oe,"reduce",function(){return cr}),i.d(oe,"foldl",function(){return cr}),i.d(oe,"inject",function(){return cr}),i.d(oe,"reduceRight",function(){return br}),i.d(oe,"foldr",function(){return br}),i.d(oe,"filter",function(){return Wn}),i.d(oe,"select",function(){return Wn}),i.d(oe,"reject",function(){return ur}),i.d(oe,"every",function(){return Zn}),i.d(oe,"all",function(){return Zn}),i.d(oe,"some",function(){return nr}),i.d(oe,"any",function(){return nr}),i.d(oe,"contains",function(){return En}),i.d(oe,"includes",function(){return En}),i.d(oe,"include",function(){return En}),i.d(oe,"invoke",function(){return Ir}),i.d(oe,"pluck",function(){return Fn}),i.d(oe,"where",function(){return $r}),i.d(oe,"max",function(){return fr}),i.d(oe,"min",function(){return gn}),i.d(oe,"shuffle",function(){return Cr}),i.d(oe,"sample",function(){return hr}),i.d(oe,"sortBy",function(){return dr}),i.d(oe,"groupBy",function(){return An}),i.d(oe,"indexBy",function(){return Dr}),i.d(oe,"countBy",function(){return jr}),i.d(oe,"partition",function(){return Lt}),i.d(oe,"toArray",function(){return zt}),i.d(oe,"size",function(){return Ft}),i.d(oe,"pick",function(){return $n}),i.d(oe,"omit",function(){return wr}),i.d(oe,"first",function(){return Jn}),i.d(oe,"head",function(){return Jn}),i.d(oe,"take",function(){return Jn}),i.d(oe,"initial",function(){return pr}),i.d(oe,"last",function(){return ti}),i.d(oe,"rest",function(){return gr}),i.d(oe,"tail",function(){return gr}),i.d(oe,"drop",function(){return gr}),i.d(oe,"compact",function(){return qr}),i.d(oe,"flatten",function(){return Tr}),i.d(oe,"without",function(){return zn}),i.d(oe,"uniq",function(){return wn}),i.d(oe,"unique",function(){return wn}),i.d(oe,"union",function(){return Yi}),i.d(oe,"intersection",function(){return bi}),i.d(oe,"difference",function(){return xr}),i.d(oe,"unzip",function(){return Er}),i.d(oe,"transpose",function(){return Er}),i.d(oe,"zip",function(){return wi}),i.d(oe,"object",function(){return Ki}),i.d(oe,"range",function(){return ni}),i.d(oe,"chunk",function(){return xi}),i.d(oe,"mixin",function(){return ki});var Z={};i.r(Z),i.d(Z,"VERSION",function(){return ne.e}),i.d(Z,"restArguments",function(){return Y}),i.d(Z,"isObject",function(){return U}),i.d(Z,"isNull",function(){return M}),i.d(Z,"isUndefined",function(){return x}),i.d(Z,"isBoolean",function(){return c}),i.d(Z,"isElement",function(){return h}),i.d(Z,"isString",function(){return p}),i.d(Z,"isNumber",function(){return f}),i.d(Z,"isDate",function(){return P}),i.d(Z,"isRegExp",function(){return w}),i.d(Z,"isError",function(){return b}),i.d(Z,"isSymbol",function(){return A}),i.d(Z,"isArrayBuffer",function(){return R}),i.d(Z,"isDataView",function(){return v}),i.d(Z,"isArray",function(){return d}),i.d(Z,"isFunction",function(){return T}),i.d(Z,"isArguments",function(){return g}),i.d(Z,"isFinite",function(){return L}),i.d(Z,"isNaN",function(){return K}),i.d(Z,"isTypedArray",function(){return se}),i.d(Z,"isEmpty",function(){return J}),i.d(Z,"isMatch",function(){return $}),i.d(Z,"isEqual",function(){return n}),i.d(Z,"isMap",function(){return Pe}),i.d(Z,"isWeakMap",function(){return He}),i.d(Z,"isSet",function(){return ut}),i.d(Z,"isWeakSet",function(){return rt}),i.d(Z,"keys",function(){return re}),i.d(Z,"allKeys",function(){return m}),i.d(Z,"values",function(){return G}),i.d(Z,"pairs",function(){return ae}),i.d(Z,"invert",function(){return Oe}),i.d(Z,"functions",function(){return ze}),i.d(Z,"methods",function(){return ze}),i.d(Z,"extend",function(){return Je}),i.d(Z,"extendOwn",function(){return ot}),i.d(Z,"assign",function(){return ot}),i.d(Z,"defaults",function(){return X}),i.d(Z,"create",function(){return Ae}),i.d(Z,"clone",function(){return Ne}),i.d(Z,"tap",function(){return he}),i.d(Z,"get",function(){return dt}),i.d(Z,"has",function(){return vt}),i.d(Z,"mapObject",function(){return F}),i.d(Z,"identity",function(){return Xe}),i.d(Z,"constant",function(){return ee}),i.d(Z,"noop",function(){return me}),i.d(Z,"toPath",function(){return Be}),i.d(Z,"property",function(){return je}),i.d(Z,"propertyOf",function(){return le}),i.d(Z,"matcher",function(){return ft}),i.d(Z,"matches",function(){return ft}),i.d(Z,"times",function(){return Me}),i.d(Z,"random",function(){return Ze}),i.d(Z,"now",function(){return ct}),i.d(Z,"escape",function(){return At}),i.d(Z,"unescape",function(){return St}),i.d(Z,"templateSettings",function(){return Dt}),i.d(Z,"template",function(){return It}),i.d(Z,"result",function(){return Tt}),i.d(Z,"uniqueId",function(){return Kt}),i.d(Z,"chain",function(){return Et}),i.d(Z,"iteratee",function(){return Ge}),i.d(Z,"partial",function(){return mn}),i.d(Z,"bind",function(){return I}),i.d(Z,"bindAll",function(){return Te}),i.d(Z,"memoize",function(){return at}),i.d(Z,"delay",function(){return yt}),i.d(Z,"defer",function(){return bt}),i.d(Z,"throttle",function(){return mt}),i.d(Z,"debounce",function(){return wt}),i.d(Z,"wrap",function(){return Ht}),i.d(Z,"negate",function(){return tn}),i.d(Z,"compose",function(){return cn}),i.d(Z,"after",function(){return kn}),i.d(Z,"before",function(){return Vn}),i.d(Z,"once",function(){return sr}),i.d(Z,"findKey",function(){return Yn}),i.d(Z,"findIndex",function(){return Un}),i.d(Z,"findLastIndex",function(){return er}),i.d(Z,"sortedIndex",function(){return tr}),i.d(Z,"indexOf",function(){return Sr}),i.d(Z,"lastIndexOf",function(){return Hn}),i.d(Z,"find",function(){return yn}),i.d(Z,"detect",function(){return yn}),i.d(Z,"findWhere",function(){return Kn}),i.d(Z,"each",function(){return Cn}),i.d(Z,"forEach",function(){return Cn}),i.d(Z,"map",function(){return Nn}),i.d(Z,"collect",function(){return Nn}),i.d(Z,"reduce",function(){return cr}),i.d(Z,"foldl",function(){return cr}),i.d(Z,"inject",function(){return cr}),i.d(Z,"reduceRight",function(){return br}),i.d(Z,"foldr",function(){return br}),i.d(Z,"filter",function(){return Wn}),i.d(Z,"select",function(){return Wn}),i.d(Z,"reject",function(){return ur}),i.d(Z,"every",function(){return Zn}),i.d(Z,"all",function(){return Zn}),i.d(Z,"some",function(){return nr}),i.d(Z,"any",function(){return nr}),i.d(Z,"contains",function(){return En}),i.d(Z,"includes",function(){return En}),i.d(Z,"include",function(){return En}),i.d(Z,"invoke",function(){return Ir}),i.d(Z,"pluck",function(){return Fn}),i.d(Z,"where",function(){return $r}),i.d(Z,"max",function(){return fr}),i.d(Z,"min",function(){return gn}),i.d(Z,"shuffle",function(){return Cr}),i.d(Z,"sample",function(){return hr}),i.d(Z,"sortBy",function(){return dr}),i.d(Z,"groupBy",function(){return An}),i.d(Z,"indexBy",function(){return Dr}),i.d(Z,"countBy",function(){return jr}),i.d(Z,"partition",function(){return Lt}),i.d(Z,"toArray",function(){return zt}),i.d(Z,"size",function(){return Ft}),i.d(Z,"pick",function(){return $n}),i.d(Z,"omit",function(){return wr}),i.d(Z,"first",function(){return Jn}),i.d(Z,"head",function(){return Jn}),i.d(Z,"take",function(){return Jn}),i.d(Z,"initial",function(){return pr}),i.d(Z,"last",function(){return ti}),i.d(Z,"rest",function(){return gr}),i.d(Z,"tail",function(){return gr}),i.d(Z,"drop",function(){return gr}),i.d(Z,"compact",function(){return qr}),i.d(Z,"flatten",function(){return Tr}),i.d(Z,"without",function(){return zn}),i.d(Z,"uniq",function(){return wn}),i.d(Z,"unique",function(){return wn}),i.d(Z,"union",function(){return Yi}),i.d(Z,"intersection",function(){return bi}),i.d(Z,"difference",function(){return xr}),i.d(Z,"unzip",function(){return Er}),i.d(Z,"transpose",function(){return Er}),i.d(Z,"zip",function(){return wi}),i.d(Z,"object",function(){return Ki}),i.d(Z,"range",function(){return ni}),i.d(Z,"chunk",function(){return xi}),i.d(Z,"mixin",function(){return ki}),i.d(Z,"default",function(){return Zi});var ne=i(7);function Y(we,Le){return Le=null==Le?we.length-1:+Le,function(){for(var We=Math.max(arguments.length-Le,0),Ye=Array(We),lt=0;lt<We;lt++)Ye[lt]=arguments[lt+Le];switch(Le){case 0:return we.call(this,Ye);case 1:return we.call(this,arguments[0],Ye);case 2:return we.call(this,arguments[0],arguments[1],Ye)}var Qe=Array(Le+1);for(lt=0;lt<Le;lt++)Qe[lt]=arguments[lt];return Qe[Le]=Ye,we.apply(this,Qe)}}function U(we){var Le=typeof we;return"function"===Le||"object"===Le&&!!we}function M(we){return null===we}function x(we){return void 0===we}function c(we){return!0===we||!1===we||"[object Boolean]"===ne.t.call(we)}function h(we){return!(!we||1!==we.nodeType)}function u(we){var Le="[object "+we+"]";return function(We){return ne.t.call(We)===Le}}var p=u("String"),f=u("Number"),P=u("Date"),w=u("RegExp"),b=u("Error"),A=u("Symbol"),R=u("ArrayBuffer"),_=u("Function");"object"!=typeof Int8Array&&"function"!=typeof(ne.p.document&&ne.p.document.childNodes)&&(_=function(we){return"function"==typeof we||!1});var T=_,C=u("Object"),j=ne.s&&C(new DataView(new ArrayBuffer(8))),N="undefined"!=typeof Map&&C(new Map),H=u("DataView"),v=j?function(we){return null!=we&&T(we.getInt8)&&R(we.buffer)}:H,d=ne.k||u("Array");function l(we,Le){return null!=we&&ne.i.call(we,Le)}var y=u("Arguments");!function(){y(arguments)||(y=function(we){return l(we,"callee")})}();var g=y;function L(we){return!A(we)&&Object(ne.f)(we)&&!isNaN(parseFloat(we))}function K(we){return f(we)&&Object(ne.g)(we)}function ee(we){return function(){return we}}function De(we){return function(Le){var We=we(Le);return"number"==typeof We&&We>=0&&We<=ne.b}}function fe(we){return function(Le){return null==Le?void 0:Le[we]}}var ce=fe("byteLength"),Ce=De(ce),Se=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/,se=ne.r?function(we){return ne.l?Object(ne.l)(we)&&!v(we):Ce(we)&&Se.test(ne.t.call(we))}:ee(!1),ue=fe("length");function xe(we,Le){Le=function(ht){for(var xt={},Vt=ht.length,$t=0;$t<Vt;++$t)xt[ht[$t]]=!0;return{contains:function(dn){return xt[dn]},push:function(dn){return xt[dn]=!0,ht.push(dn)}}}(Le);var We=ne.n.length,Ye=we.constructor,lt=T(Ye)&&Ye.prototype||ne.c,Qe="constructor";for(l(we,Qe)&&!Le.contains(Qe)&&Le.push(Qe);We--;)(Qe=ne.n[We])in we&&we[Qe]!==lt[Qe]&&!Le.contains(Qe)&&Le.push(Qe)}function re(we){if(!U(we))return[];if(ne.m)return Object(ne.m)(we);var Le=[];for(var We in we)l(we,We)&&Le.push(We);return ne.h&&xe(we,Le),Le}function J(we){if(null==we)return!0;var Le=ue(we);return"number"==typeof Le&&(d(we)||p(we)||g(we))?0===Le:0===ue(re(we))}function $(we,Le){var We=re(Le),Ye=We.length;if(null==we)return!Ye;for(var lt=Object(we),Qe=0;Qe<Ye;Qe++){var ht=We[Qe];if(Le[ht]!==lt[ht]||!(ht in lt))return!1}return!0}function V(we){return we instanceof V?we:this instanceof V?void(this._wrapped=we):new V(we)}function S(we){return new Uint8Array(we.buffer||we,we.byteOffset||0,ce(we))}V.VERSION=ne.e,V.prototype.valueOf=V.prototype.toJSON=V.prototype.value=function(){return this._wrapped},V.prototype.toString=function(){return String(this._wrapped)};var O="[object DataView]";function z(we,Le,We,Ye){if(we===Le)return 0!==we||1/we==1/Le;if(null==we||null==Le)return!1;if(we!=we)return Le!=Le;var lt=typeof we;return("function"===lt||"object"===lt||"object"==typeof Le)&&function Qe(ht,xt,Vt,$t){ht instanceof V&&(ht=ht._wrapped),xt instanceof V&&(xt=xt._wrapped);var dn=ne.t.call(ht);if(dn!==ne.t.call(xt))return!1;if(j&&"[object Object]"==dn&&v(ht)){if(!v(xt))return!1;dn=O}switch(dn){case"[object RegExp]":case"[object String]":return""+ht==""+xt;case"[object Number]":return+ht!=+ht?+xt!=+xt:0==+ht?1/+ht==1/xt:+ht==+xt;case"[object Date]":case"[object Boolean]":return+ht==+xt;case"[object Symbol]":return ne.d.valueOf.call(ht)===ne.d.valueOf.call(xt);case"[object ArrayBuffer]":case O:return Qe(S(ht),S(xt),Vt,$t)}var jn="[object Array]"===dn;if(!jn&&se(ht)){if(ce(ht)!==ce(xt))return!1;if(ht.buffer===xt.buffer&&ht.byteOffset===xt.byteOffset)return!0;jn=!0}if(!jn){if("object"!=typeof ht||"object"!=typeof xt)return!1;var Bn=ht.constructor,rr=xt.constructor;if(Bn!==rr&&!(T(Bn)&&Bn instanceof Bn&&T(rr)&&rr instanceof rr)&&"constructor"in ht&&"constructor"in xt)return!1}$t=$t||[];for(var mr=(Vt=Vt||[]).length;mr--;)if(Vt[mr]===ht)return $t[mr]===xt;if(Vt.push(ht),$t.push(xt),jn){if((mr=ht.length)!==xt.length)return!1;for(;mr--;)if(!z(ht[mr],xt[mr],Vt,$t))return!1}else{var Gr,Xi=re(ht);if(mr=Xi.length,re(xt).length!==mr)return!1;for(;mr--;)if(!l(xt,Gr=Xi[mr])||!z(ht[Gr],xt[Gr],Vt,$t))return!1}return Vt.pop(),$t.pop(),!0}(we,Le,We,Ye)}function n(we,Le){return z(we,Le)}function m(we){if(!U(we))return[];var Le=[];for(var We in we)Le.push(We);return ne.h&&xe(we,Le),Le}function s(we){var Le=ue(we);return function(We){if(null==We)return!1;var Ye=m(We);if(ue(Ye))return!1;for(var lt=0;lt<Le;lt++)if(!T(We[we[lt]]))return!1;return we!==de||!T(We[E])}}var E="forEach",pe=["clear","delete"],Ee=["get","has","set"],be=pe.concat(E,Ee),de=pe.concat(Ee),_e=["add"].concat(pe,E,"has"),Pe=N?s(be):u("Map"),He=N?s(de):u("WeakMap"),ut=N?s(_e):u("Set"),rt=u("WeakSet");function G(we){for(var Le=re(we),We=Le.length,Ye=Array(We),lt=0;lt<We;lt++)Ye[lt]=we[Le[lt]];return Ye}function ae(we){for(var Le=re(we),We=Le.length,Ye=Array(We),lt=0;lt<We;lt++)Ye[lt]=[Le[lt],we[Le[lt]]];return Ye}function Oe(we){for(var Le={},We=re(we),Ye=0,lt=We.length;Ye<lt;Ye++)Le[we[We[Ye]]]=We[Ye];return Le}function ze(we){var Le=[];for(var We in we)T(we[We])&&Le.push(We);return Le.sort()}function qe(we,Le){return function(We){var Ye=arguments.length;if(Le&&(We=Object(We)),Ye<2||null==We)return We;for(var lt=1;lt<Ye;lt++)for(var Qe=arguments[lt],ht=we(Qe),xt=ht.length,Vt=0;Vt<xt;Vt++){var $t=ht[Vt];Le&&void 0!==We[$t]||(We[$t]=Qe[$t])}return We}}var Je=qe(m),ot=qe(re),X=qe(m,!0);function ke(we){if(!U(we))return{};if(ne.j)return Object(ne.j)(we);var Le=function(){};Le.prototype=we;var We=new Le;return Le.prototype=null,We}function Ae(we,Le){var We=ke(we);return Le&&ot(We,Le),We}function Ne(we){return U(we)?d(we)?we.slice():Je({},we):we}function he(we,Le){return Le(we),we}function Be(we){return d(we)?we:[we]}function Ve(we){return V.toPath(we)}function tt(we,Le){for(var We=Le.length,Ye=0;Ye<We;Ye++){if(null==we)return;we=we[Le[Ye]]}return We?we:void 0}function dt(we,Le,We){var Ye=tt(we,Ve(Le));return x(Ye)?We:Ye}function vt(we,Le){for(var We=(Le=Ve(Le)).length,Ye=0;Ye<We;Ye++){var lt=Le[Ye];if(!l(we,lt))return!1;we=we[lt]}return!!We}function Xe(we){return we}function ft(we){return we=ot({},we),function(Le){return $(Le,we)}}function je(we){return we=Ve(we),function(Le){return tt(Le,we)}}function st(we,Le,We){if(void 0===Le)return we;switch(null==We?3:We){case 1:return function(Ye){return we.call(Le,Ye)};case 3:return function(Ye,lt,Qe){return we.call(Le,Ye,lt,Qe)};case 4:return function(Ye,lt,Qe,ht){return we.call(Le,Ye,lt,Qe,ht)}}return function(){return we.apply(Le,arguments)}}function te(we,Le,We){return null==we?Xe:T(we)?st(we,Le,We):U(we)&&!d(we)?ft(we):je(we)}function Ge(we,Le){return te(we,Le,1/0)}function B(we,Le,We){return V.iteratee!==Ge?V.iteratee(we,Le):te(we,Le,We)}function F(we,Le,We){Le=B(Le,We);for(var Ye=re(we),lt=Ye.length,Qe={},ht=0;ht<lt;ht++){var xt=Ye[ht];Qe[xt]=Le(we[xt],xt,we)}return Qe}function me(){}function le(we){return null==we?me:function(Le){return dt(we,Le)}}function Me(we,Le,We){var Ye=Array(Math.max(0,we));Le=st(Le,We,1);for(var lt=0;lt<we;lt++)Ye[lt]=Le(lt);return Ye}function Ze(we,Le){return null==Le&&(Le=we,we=0),we+Math.floor(Math.random()*(Le-we+1))}V.toPath=Be,V.iteratee=Ge;var ct=Date.now||function(){return(new Date).getTime()};function et(we){var Le=function(Qe){return we[Qe]},We="(?:"+re(we).join("|")+")",Ye=RegExp(We),lt=RegExp(We,"g");return function(Qe){return Ye.test(Qe=null==Qe?"":""+Qe)?Qe.replace(lt,Le):Qe}}var kt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},At=et(kt),St=et(Oe(kt)),Dt=V.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},Mt=/(.)^/,Gt={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Xt=/\\|'|\r|\n|\u2028|\u2029/g;function ln(we){return"\\"+Gt[we]}var Qt=/^\s*(\w|\$)+\s*$/;function It(we,Le,We){!Le&&We&&(Le=We),Le=X({},Le,V.templateSettings);var Ye=RegExp([(Le.escape||Mt).source,(Le.interpolate||Mt).source,(Le.evaluate||Mt).source].join("|")+"|$","g"),lt=0,Qe="__p+='";we.replace(Ye,function($t,dn,jn,Bn,rr){return Qe+=we.slice(lt,rr).replace(Xt,ln),lt=rr+$t.length,dn?Qe+="'+\n((__t=("+dn+"))==null?'':_.escape(__t))+\n'":jn?Qe+="'+\n((__t=("+jn+"))==null?'':__t)+\n'":Bn&&(Qe+="';\n"+Bn+"\n__p+='"),$t}),Qe+="';\n";var ht,xt=Le.variable;if(xt){if(!Qt.test(xt))throw new Error("variable is not a bare identifier: "+xt)}else Qe="with(obj||{}){\n"+Qe+"}\n",xt="obj";Qe="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+Qe+"return __p;\n";try{ht=new Function(xt,"_",Qe)}catch($t){throw $t.source=Qe,$t}var Vt=function($t){return ht.call(this,$t,V)};return Vt.source="function("+xt+"){\n"+Qe+"}",Vt}function Tt(we,Le,We){var Ye=(Le=Ve(Le)).length;if(!Ye)return T(We)?We.call(we):We;for(var lt=0;lt<Ye;lt++){var Qe=null==we?void 0:we[Le[lt]];void 0===Qe&&(Qe=We,lt=Ye),we=T(Qe)?Qe.call(we):Qe}return we}var Ut=0;function Kt(we){var Le=++Ut+"";return we?we+Le:Le}function Et(we){var Le=V(we);return Le._chain=!0,Le}function qt(we,Le,We,Ye,lt){if(!(Ye instanceof Le))return we.apply(We,lt);var Qe=ke(we.prototype),ht=we.apply(Qe,lt);return U(ht)?ht:Qe}var On=Y(function(we,Le){var We=On.placeholder,Ye=function(){for(var lt=0,Qe=Le.length,ht=Array(Qe),xt=0;xt<Qe;xt++)ht[xt]=Le[xt]===We?arguments[lt++]:Le[xt];for(;lt<arguments.length;)ht.push(arguments[lt++]);return qt(we,Ye,this,this,ht)};return Ye});On.placeholder=V;var mn=On,I=Y(function(we,Le,We){if(!T(we))throw new TypeError("Bind must be called on a function");var Ye=Y(function(lt){return qt(we,Ye,Le,this,We.concat(lt))});return Ye}),q=De(ue);function ge(we,Le,We,Ye){if(Ye=Ye||[],Le||0===Le){if(Le<=0)return Ye.concat(we)}else Le=1/0;for(var lt=Ye.length,Qe=0,ht=ue(we);Qe<ht;Qe++){var xt=we[Qe];if(q(xt)&&(d(xt)||g(xt)))if(Le>1)ge(xt,Le-1,We,Ye),lt=Ye.length;else for(var Vt=0,$t=xt.length;Vt<$t;)Ye[lt++]=xt[Vt++];else We||(Ye[lt++]=xt)}return Ye}var Te=Y(function(we,Le){var We=(Le=ge(Le,!1,!1)).length;if(We<1)throw new Error("bindAll must be passed function names");for(;We--;){var Ye=Le[We];we[Ye]=I(we[Ye],we)}return we});function at(we,Le){var We=function(Ye){var lt=We.cache,Qe=""+(Le?Le.apply(this,arguments):Ye);return l(lt,Qe)||(lt[Qe]=we.apply(this,arguments)),lt[Qe]};return We.cache={},We}var yt=Y(function(we,Le,We){return setTimeout(function(){return we.apply(null,We)},Le)}),bt=mn(yt,V,1);function mt(we,Le,We){var Ye,lt,Qe,ht,xt=0;We||(We={});var Vt=function(){xt=!1===We.leading?0:ct(),Ye=null,ht=we.apply(lt,Qe),Ye||(lt=Qe=null)},$t=function(){var dn=ct();xt||!1!==We.leading||(xt=dn);var jn=Le-(dn-xt);return lt=this,Qe=arguments,jn<=0||jn>Le?(Ye&&(clearTimeout(Ye),Ye=null),xt=dn,ht=we.apply(lt,Qe),Ye||(lt=Qe=null)):Ye||!1===We.trailing||(Ye=setTimeout(Vt,jn)),ht};return $t.cancel=function(){clearTimeout(Ye),xt=0,Ye=lt=Qe=null},$t}function wt(we,Le,We){var Ye,lt,Qe,ht,xt,Vt=function(){var dn=ct()-lt;Le>dn?Ye=setTimeout(Vt,Le-dn):(Ye=null,We||(ht=we.apply(xt,Qe)),Ye||(Qe=xt=null))},$t=Y(function(dn){return xt=this,Qe=dn,lt=ct(),Ye||(Ye=setTimeout(Vt,Le),We&&(ht=we.apply(xt,Qe))),ht});return $t.cancel=function(){clearTimeout(Ye),Ye=Qe=xt=null},$t}function Ht(we,Le){return mn(Le,we)}function tn(we){return function(){return!we.apply(this,arguments)}}function cn(){var we=arguments,Le=we.length-1;return function(){for(var We=Le,Ye=we[Le].apply(this,arguments);We--;)Ye=we[We].call(this,Ye);return Ye}}function kn(we,Le){return function(){if(--we<1)return Le.apply(this,arguments)}}function Vn(we,Le){var We;return function(){return--we>0&&(We=Le.apply(this,arguments)),we<=1&&(Le=null),We}}var sr=mn(Vn,2);function Yn(we,Le,We){Le=B(Le,We);for(var Ye,lt=re(we),Qe=0,ht=lt.length;Qe<ht;Qe++)if(Le(we[Ye=lt[Qe]],Ye,we))return Ye}function lr(we){return function(Le,We,Ye){We=B(We,Ye);for(var lt=ue(Le),Qe=we>0?0:lt-1;Qe>=0&&Qe<lt;Qe+=we)if(We(Le[Qe],Qe,Le))return Qe;return-1}}var Un=lr(1),er=lr(-1);function tr(we,Le,We,Ye){for(var lt=(We=B(We,Ye,1))(Le),Qe=0,ht=ue(we);Qe<ht;){var xt=Math.floor((Qe+ht)/2);We(we[xt])<lt?Qe=xt+1:ht=xt}return Qe}function Pn(we,Le,We){return function(Ye,lt,Qe){var ht=0,xt=ue(Ye);if("number"==typeof Qe)we>0?ht=Qe>=0?Qe:Math.max(Qe+xt,ht):xt=Qe>=0?Math.min(Qe+1,xt):Qe+xt+1;else if(We&&Qe&&xt)return Ye[Qe=We(Ye,lt)]===lt?Qe:-1;if(lt!=lt)return(Qe=Le(ne.q.call(Ye,ht,xt),K))>=0?Qe+ht:-1;for(Qe=we>0?ht:xt-1;Qe>=0&&Qe<xt;Qe+=we)if(Ye[Qe]===lt)return Qe;return-1}}var Sr=Pn(1,Un,tr),Hn=Pn(-1,er);function yn(we,Le,We){var Ye=(q(we)?Un:Yn)(we,Le,We);if(void 0!==Ye&&-1!==Ye)return we[Ye]}function Kn(we,Le){return yn(we,ft(Le))}function Cn(we,Le,We){var Ye,lt;if(Le=st(Le,We),q(we))for(Ye=0,lt=we.length;Ye<lt;Ye++)Le(we[Ye],Ye,we);else{var Qe=re(we);for(Ye=0,lt=Qe.length;Ye<lt;Ye++)Le(we[Qe[Ye]],Qe[Ye],we)}return we}function Nn(we,Le,We){Le=B(Le,We);for(var Ye=!q(we)&&re(we),lt=(Ye||we).length,Qe=Array(lt),ht=0;ht<lt;ht++){var xt=Ye?Ye[ht]:ht;Qe[ht]=Le(we[xt],xt,we)}return Qe}function _r(we){var Le=function(We,Ye,lt,Qe){var ht=!q(We)&&re(We),xt=(ht||We).length,Vt=we>0?0:xt-1;for(Qe||(lt=We[ht?ht[Vt]:Vt],Vt+=we);Vt>=0&&Vt<xt;Vt+=we){var $t=ht?ht[Vt]:Vt;lt=Ye(lt,We[$t],$t,We)}return lt};return function(We,Ye,lt,Qe){var ht=arguments.length>=3;return Le(We,st(Ye,Qe,4),lt,ht)}}var cr=_r(1),br=_r(-1);function Wn(we,Le,We){var Ye=[];return Le=B(Le,We),Cn(we,function(lt,Qe,ht){Le(lt,Qe,ht)&&Ye.push(lt)}),Ye}function ur(we,Le,We){return Wn(we,tn(B(Le)),We)}function Zn(we,Le,We){Le=B(Le,We);for(var Ye=!q(we)&&re(we),lt=(Ye||we).length,Qe=0;Qe<lt;Qe++){var ht=Ye?Ye[Qe]:Qe;if(!Le(we[ht],ht,we))return!1}return!0}function nr(we,Le,We){Le=B(Le,We);for(var Ye=!q(we)&&re(we),lt=(Ye||we).length,Qe=0;Qe<lt;Qe++){var ht=Ye?Ye[Qe]:Qe;if(Le(we[ht],ht,we))return!0}return!1}function En(we,Le,We,Ye){return q(we)||(we=G(we)),("number"!=typeof We||Ye)&&(We=0),Sr(we,Le,We)>=0}var Ir=Y(function(we,Le,We){var Ye,lt;return T(Le)?lt=Le:(Le=Ve(Le),Ye=Le.slice(0,-1),Le=Le[Le.length-1]),Nn(we,function(Qe){var ht=lt;if(!ht){if(Ye&&Ye.length&&(Qe=tt(Qe,Ye)),null==Qe)return;ht=Qe[Le]}return null==ht?ht:ht.apply(Qe,We)})});function Fn(we,Le){return Nn(we,je(Le))}function $r(we,Le){return Wn(we,ft(Le))}function fr(we,Le,We){var Ye,lt,Qe=-1/0,ht=-1/0;if(null==Le||"number"==typeof Le&&"object"!=typeof we[0]&&null!=we)for(var xt=0,Vt=(we=q(we)?we:G(we)).length;xt<Vt;xt++)null!=(Ye=we[xt])&&Ye>Qe&&(Qe=Ye);else Le=B(Le,We),Cn(we,function($t,dn,jn){((lt=Le($t,dn,jn))>ht||lt===-1/0&&Qe===-1/0)&&(Qe=$t,ht=lt)});return Qe}function gn(we,Le,We){var Ye,lt,Qe=1/0,ht=1/0;if(null==Le||"number"==typeof Le&&"object"!=typeof we[0]&&null!=we)for(var xt=0,Vt=(we=q(we)?we:G(we)).length;xt<Vt;xt++)null!=(Ye=we[xt])&&Ye<Qe&&(Qe=Ye);else Le=B(Le,We),Cn(we,function($t,dn,jn){((lt=Le($t,dn,jn))<ht||lt===1/0&&Qe===1/0)&&(Qe=$t,ht=lt)});return Qe}function hr(we,Le,We){if(null==Le||We)return q(we)||(we=G(we)),we[Ze(we.length-1)];var Ye=q(we)?Ne(we):G(we),lt=ue(Ye);Le=Math.max(Math.min(Le,lt),0);for(var Qe=lt-1,ht=0;ht<Le;ht++){var xt=Ze(ht,Qe),Vt=Ye[ht];Ye[ht]=Ye[xt],Ye[xt]=Vt}return Ye.slice(0,Le)}function Cr(we){return hr(we,1/0)}function dr(we,Le,We){var Ye=0;return Le=B(Le,We),Fn(Nn(we,function(lt,Qe,ht){return{value:lt,index:Ye++,criteria:Le(lt,Qe,ht)}}).sort(function(lt,Qe){var ht=lt.criteria,xt=Qe.criteria;if(ht!==xt){if(ht>xt||void 0===ht)return 1;if(ht<xt||void 0===xt)return-1}return lt.index-Qe.index}),"value")}function Xn(we,Le){return function(We,Ye,lt){var Qe=Le?[[],[]]:{};return Ye=B(Ye,lt),Cn(We,function(ht,xt){var Vt=Ye(ht,xt,We);we(Qe,ht,Vt)}),Qe}}var An=Xn(function(we,Le,We){l(we,We)?we[We].push(Le):we[We]=[Le]}),Dr=Xn(function(we,Le,We){we[We]=Le}),jr=Xn(function(we,Le,We){l(we,We)?we[We]++:we[We]=1}),Lt=Xn(function(we,Le,We){we[We?0:1].push(Le)},!0),Rt=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function zt(we){return we?d(we)?ne.q.call(we):p(we)?we.match(Rt):q(we)?Nn(we,Xe):G(we):[]}function Ft(we){return null==we?0:q(we)?we.length:re(we).length}function _n(we,Le,We){return Le in We}var $n=Y(function(we,Le){var We={},Ye=Le[0];if(null==we)return We;T(Ye)?(Le.length>1&&(Ye=st(Ye,Le[1])),Le=m(we)):(Ye=_n,Le=ge(Le,!1,!1),we=Object(we));for(var lt=0,Qe=Le.length;lt<Qe;lt++){var ht=Le[lt],xt=we[ht];Ye(xt,ht,we)&&(We[ht]=xt)}return We}),wr=Y(function(we,Le){var We,Ye=Le[0];return T(Ye)?(Ye=tn(Ye),Le.length>1&&(We=Le[1])):(Le=Nn(ge(Le,!1,!1),String),Ye=function(lt,Qe){return!En(Le,Qe)}),$n(we,Ye,We)});function pr(we,Le,We){return ne.q.call(we,0,Math.max(0,we.length-(null==Le||We?1:Le)))}function Jn(we,Le,We){return null==we||we.length<1?null==Le||We?void 0:[]:null==Le||We?we[0]:pr(we,we.length-Le)}function gr(we,Le,We){return ne.q.call(we,null==Le||We?1:Le)}function ti(we,Le,We){return null==we||we.length<1?null==Le||We?void 0:[]:null==Le||We?we[we.length-1]:gr(we,Math.max(0,we.length-Le))}function qr(we){return Wn(we,Boolean)}function Tr(we,Le){return ge(we,Le,!1)}var xr=Y(function(we,Le){return Le=ge(Le,!0,!0),Wn(we,function(We){return!En(Le,We)})}),zn=Y(function(we,Le){return xr(we,Le)});function wn(we,Le,We,Ye){c(Le)||(Ye=We,We=Le,Le=!1),null!=We&&(We=B(We,Ye));for(var lt=[],Qe=[],ht=0,xt=ue(we);ht<xt;ht++){var Vt=we[ht],$t=We?We(Vt,ht,we):Vt;Le&&!We?(ht&&Qe===$t||lt.push(Vt),Qe=$t):We?En(Qe,$t)||(Qe.push($t),lt.push(Vt)):En(lt,Vt)||lt.push(Vt)}return lt}var Yi=Y(function(we){return wn(ge(we,!0,!0))});function bi(we){for(var Le=[],We=arguments.length,Ye=0,lt=ue(we);Ye<lt;Ye++){var Qe=we[Ye];if(!En(Le,Qe)){var ht;for(ht=1;ht<We&&En(arguments[ht],Qe);ht++);ht===We&&Le.push(Qe)}}return Le}function Er(we){for(var Le=we&&fr(we,ue).length||0,We=Array(Le),Ye=0;Ye<Le;Ye++)We[Ye]=Fn(we,Ye);return We}var wi=Y(Er);function Ki(we,Le){for(var We={},Ye=0,lt=ue(we);Ye<lt;Ye++)Le?We[we[Ye]]=Le[Ye]:We[we[Ye][0]]=we[Ye][1];return We}function ni(we,Le,We){null==Le&&(Le=we||0,we=0),We||(We=Le<we?-1:1);for(var Ye=Math.max(Math.ceil((Le-we)/We),0),lt=Array(Ye),Qe=0;Qe<Ye;Qe++,we+=We)lt[Qe]=we;return lt}function xi(we,Le){if(null==Le||Le<1)return[];for(var We=[],Ye=0,lt=we.length;Ye<lt;)We.push(ne.q.call(we,Ye,Ye+=Le));return We}function Oi(we,Le){return we._chain?V(Le).chain():Le}function ki(we){return Cn(ze(we),function(Le){var We=V[Le]=we[Le];V.prototype[Le]=function(){var Ye=[this._wrapped];return ne.o.apply(Ye,arguments),Oi(this,We.apply(V,Ye))}}),V}Cn(["pop","push","reverse","shift","sort","splice","unshift"],function(we){var Le=ne.a[we];V.prototype[we]=function(){var We=this._wrapped;return null!=We&&(Le.apply(We,arguments),"shift"!==we&&"splice"!==we||0!==We.length||delete We[0]),Oi(this,We)}}),Cn(["concat","join","slice"],function(we){var Le=ne.a[we];V.prototype[we]=function(){var We=this._wrapped;return null!=We&&(We=Le.apply(We,arguments)),Oi(this,We)}});var Zi=V,ri=ki(Z);ri._=ri;var ko=ri},function($e,oe,i){"use strict";i.r(oe),i.d(oe,"hasWin",function(){return x}),i.d(oe,"toLowerCase",function(){return c}),i.d(oe,"getUiClass",function(){return p}),i.d(oe,"isCommentNode",function(){return N}),i.d(oe,"isTaggableNode",function(){return H}),i.d(oe,"find",function(){return v}),i.d(oe,"escape",function(){return d}),i.d(oe,"on",function(){return w}),i.d(oe,"off",function(){return b}),i.d(oe,"hasDnd",function(){return T}),i.d(oe,"upFirst",function(){return R}),i.d(oe,"matches",function(){return u}),i.d(oe,"getModel",function(){return l}),i.d(oe,"getElRect",function(){return y}),i.d(oe,"camelCase",function(){return _}),i.d(oe,"isTextNode",function(){return j}),i.d(oe,"getKeyCode",function(){return L}),i.d(oe,"getKeyChar",function(){return K}),i.d(oe,"isEscKey",function(){return ee}),i.d(oe,"isEnterKey",function(){return De}),i.d(oe,"getElement",function(){return C}),i.d(oe,"shallowDiff",function(){return P}),i.d(oe,"normalizeFloat",function(){return k}),i.d(oe,"getPointerEvent",function(){return g}),i.d(oe,"getUnitFromValue",function(){return A}),i.d(oe,"capitalize",function(){return Ce}),i.d(oe,"getViewEl",function(){return ue}),i.d(oe,"setViewEl",function(){return xe}),i.d(oe,"appendStyles",function(){return f}),i.d(oe,"isObject",function(){return fe}),i.d(oe,"isEmptyObj",function(){return ce}),i.d(oe,"isComponent",function(){return Se}),i.d(oe,"createId",function(){return re}),i.d(oe,"isRule",function(){return se});var Z=i(14),ne=i.n(Z),Y=i(11),U=i.n(Y),M=i(0),x=function(){return"undefined"!=typeof window},c=function(J){return(J||"").toLowerCase()},h=x()?window.Element.prototype:{},u=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.msMatchesSelector,p=function(J,$){var V=J.getConfig();return[V.customUI&&"".concat(V.stylePrefix,"cui"),$].filter(function(O){return O}).join(" ")},f=function J($){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S=Object(M.isArray)($)?U()($):[$];if(S.length){var O=S.shift();if(O&&(!V.unique||!document.querySelector('link[href="'.concat(O,'"]')))){var z=document,n=z.head,m=document.createElement("link");m.href=O,m.rel="stylesheet",V.prepand?n.insertBefore(m,n.firstChild):n.appendChild(m)}J(S)}},P=function(J,$){var V={},S=Object(M.keys)($);for(var O in J)if(J.hasOwnProperty(O)){var z=J[O],n=$[O];S.indexOf(O)>=0?z!==n&&(V[O]=n):V[O]=null}for(var m in $)$.hasOwnProperty(m)&&Object(M.isUndefined)(J[m])&&(V[m]=$[m]);return V},w=function(J,$,V,S){$=$.split(/\s+/),J=J instanceof Array?J:[J];for(var O=function(n){J.forEach(function(m){return m&&m.addEventListener($[n],V,S)})},z=0;z<$.length;++z)O(z)},b=function(J,$,V,S){$=$.split(/\s+/),J=J instanceof Array?J:[J];for(var O=function(n){J.forEach(function(m){return m&&m.removeEventListener($[n],V,S)})},z=0;z<$.length;++z)O(z)},A=function(J){return J.replace(parseFloat(J),"")},R=function(J){return J[0].toUpperCase()+J.toLowerCase().slice(1)},_=function(J){var $=J.split("-").filter(String);return $[0].toLowerCase()+$.slice(1).map(R)},k=function(J){var $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,S=0;if(isNaN(J))return V;if(J=parseFloat(J),Math.floor(J)!==J){var O=$.toString().split(".")[1];S=O?O.length:0}return S?parseFloat(J.toFixed(S)):J},T=function(J){return"draggable"in document.createElement("i")&&(J?J.get("Config").nativeDnD:1)},C=function(J){return Object(M.isElement)(J)||j(J)?J:J&&J.getEl?J.getEl():void 0},j=function(J){return J&&3===J.nodeType},N=function(J){return J&&8===J.nodeType},H=function(J){return J&&!j(J)&&!N(J)},v=function(J,$){var V=null;return J.some(function(S,O){return $(S,O,J)?(V=S,1):0}),V},d=function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(J).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},l=function(J,$){var V=J;return Object(M.isElement)(J)&&(V=$(J).data("model")),V},y=function(J){var $,V={top:0,left:0,width:0,height:0};if(!J)return V;if(j(J)){var S=document.createRange();S.selectNode(J),$=S.getBoundingClientRect(),S.detach()}return $||(J.getBoundingClientRect?J.getBoundingClientRect():V)},g=function(J){return J.touches&&J.touches[0]?J.touches[0]:J},L=function(J){return J.which||J.keyCode},K=function(J){return String.fromCharCode(L(J))},ee=function(J){return 27===L(J)},De=function(J){return 13===L(J)},fe=function(J){return null!==J&&!Array.isArray(J)&&"object"===ne()(J)},ce=function(J){return Object.keys(J).length<=0},Ce=function(J){return J&&J.charAt(0).toUpperCase()+J.substring(1)},Se=function(J){return J&&J.toHTML},se=function(J){return J&&J.toCSS},ue=function(J){return J.__gjsv},xe=function(J,$){J.__gjsv=$},re=function(){for(var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,$="",V="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",S=V.length,O=0;O<J;O++)$+=V.charAt(Math.floor(Math.random()*S));return $}},function($e,oe,i){(function(Z){var ne,Y,M;M="object"==typeof self&&self.self===self&&self||"object"==typeof Z&&Z.global===Z&&Z,ne=[i(0),i(18),oe],void 0===(Y=function(x,c,h){M.Backbone=function(u,p,f,P){var w=u.Backbone,b=Array.prototype.slice;p.VERSION="1.3.3",p.$=P,p.noConflict=function(){return u.Backbone=w,this},p.emulateHTTP=!1,p.emulateJSON=!1;var A=function(n,m,s){f.each(m,function(E,W){f[W]&&(n.prototype[W]=function(pe,Ee,be){switch(pe){case 1:return function(){return f[Ee](this[be])};case 2:return function(de){return f[Ee](this[be],de)};case 3:return function(de,_e){return f[Ee](this[be],R(de,this),_e)};case 4:return function(de,_e,Pe){return f[Ee](this[be],R(de,this),_e,Pe)};default:return function(){var de=b.call(arguments);return de.unshift(this[be]),f[Ee].apply(f,de)}}}(E,W,s))})},R=function(n,m){return f.isFunction(n)?n:f.isObject(n)&&!m._isModel(n)?_(n):f.isString(n)?function(s){return s.get(n)}:n},_=function(n){var m=f.matches(n);return function(s){return m(s.attributes)}},k=p.Events={},T=/\s+/,C=function(n,m,s,E,W){var pe,Ee=0;if(s&&"object"==typeof s)for((void 0!==E&&"context"in W&&void 0===W.context&&(W.context=E),pe=f.keys(s));Ee<pe.length;Ee++)m=C(n,m,pe[Ee],s[pe[Ee]],W);else if(s&&T.test(s))for(pe=s.split(T);Ee<pe.length;Ee++)m=n(m,pe[Ee],E,W);else m=n(m,s,E,W);return m};k.on=function(n,m,s){return j(this,n,m,s)};var j=function(n,m,s,E,W){return n._events=C(N,n._events||{},m,s,{context:E,ctx:n,listening:W}),W&&((n._listeners||(n._listeners={}))[W.id]=W),n};k.listenTo=function(n,m,s){if(!n)return this;var E=n._listenId||(n._listenId=f.uniqueId("l")),W=this._listeningTo||(this._listeningTo={}),pe=W[E];if(!pe){var Ee=this._listenId||(this._listenId=f.uniqueId("l"));pe=W[E]={obj:n,objId:E,id:Ee,listeningTo:W,count:0}}return j(n,m,s,this,pe),this};var N=function(n,m,s,E){if(s){var W=n[m]||(n[m]=[]),pe=E.context,Ee=E.ctx,be=E.listening;be&&be.count++,W.push({callback:s,context:pe,ctx:pe||Ee,listening:be})}return n};k.off=function(n,m,s){return this._events?(this._events=C(H,this._events,n,m,{context:s,listeners:this._listeners}),this):this},k.stopListening=function(n,m,s){var E=this._listeningTo;if(!E)return this;for(var W=n?[n._listenId]:f.keys(E),pe=0;pe<W.length;pe++){var Ee=E[W[pe]];if(!Ee)break;Ee.obj.off(m,s,this)}return this};var H=function(n,m,s,E){if(n){var W,pe=0,Ee=E.context,be=E.listeners;if(m||s||Ee){for(var de=m?[m]:f.keys(n);pe<de.length;pe++){var _e=n[m=de[pe]];if(!_e)break;for(var Pe=[],He=0;He<_e.length;He++){var ut=_e[He];s&&s!==ut.callback&&s!==ut.callback._callback||Ee&&Ee!==ut.context?Pe.push(ut):(W=ut.listening)&&0==--W.count&&(delete be[W.id],delete W.listeningTo[W.objId])}Pe.length?n[m]=Pe:delete n[m]}return n}for(var rt=f.keys(be);pe<rt.length;pe++)delete be[(W=be[rt[pe]]).id],delete W.listeningTo[W.objId]}};k.once=function(n,m,s){var E=C(v,{},n,m,f.bind(this.off,this));return"string"==typeof n&&null==s&&(m=void 0),this.on(E,m,s)},k.listenToOnce=function(n,m,s){var E=C(v,{},m,s,f.bind(this.stopListening,this,n));return this.listenTo(n,E)};var v=function(n,m,s,E){if(s){var W=n[m]=f.once(function(){E(m,W),s.apply(this,arguments)});W._callback=s}return n};k.trigger=function(n){if(!this._events)return this;for(var m=Math.max(0,arguments.length-1),s=Array(m),E=0;E<m;E++)s[E]=arguments[E+1];return C(d,this._events,n,void 0,s),this};var d=function(n,m,s,E){if(n){var W=n[m],pe=n.all;W&&pe&&(pe=pe.slice()),W&&l(W,E),pe&&l(pe,[m].concat(E))}return n},l=function(n,m){var s,E=-1,W=n.length,pe=m[0],Ee=m[1],be=m[2];switch(m.length){case 0:for(;++E<W;)(s=n[E]).callback.call(s.ctx);return;case 1:for(;++E<W;)(s=n[E]).callback.call(s.ctx,pe);return;case 2:for(;++E<W;)(s=n[E]).callback.call(s.ctx,pe,Ee);return;case 3:for(;++E<W;)(s=n[E]).callback.call(s.ctx,pe,Ee,be);return;default:for(;++E<W;)(s=n[E]).callback.apply(s.ctx,m);return}};k.bind=k.on,k.unbind=k.off,f.extend(p,k);var y=p.Model=function(n,m){var s=n||{};m||(m={}),this.cid=f.uniqueId(this.cidPrefix),this.attributes={},m.collection&&(this.collection=m.collection),m.parse&&(s=this.parse(s,m)||{});var E=f.result(this,"defaults");s=f.defaults(f.extend({},E,s),E),this.set(s,m),this.changed={},this.initialize.apply(this,arguments)};f.extend(y.prototype,k,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(n){return f.clone(this.attributes)},sync:function(){return p.sync.apply(this,arguments)},get:function(n){return this.attributes[n]},escape:function(n){return f.escape(this.get(n))},has:function(n){return null!=this.get(n)},matches:function(n){return!!f.iteratee(n,this)(this.attributes)},set:function(n,m,s){if(null==n)return this;var E;if("object"==typeof n?(E=n,s=m):(E={})[n]=m,s||(s={}),!this._validate(E,s))return!1;var W=s.unset,pe=s.silent,Ee=[],be=this._changing;this._changing=!0,be||(this._previousAttributes=f.clone(this.attributes),this.changed={});var de=this.attributes,_e=this.changed,Pe=this._previousAttributes;for(var He in E)f.isEqual(de[He],m=E[He])||Ee.push(He),f.isEqual(Pe[He],m)?delete _e[He]:_e[He]=m,W?delete de[He]:de[He]=m;if(this.idAttribute in E&&(this.id=this.get(this.idAttribute)),!pe){Ee.length&&(this._pending=s);for(var ut=0;ut<Ee.length;ut++)this.trigger("change:"+Ee[ut],this,de[Ee[ut]],s)}if(be)return this;if(!pe)for(;this._pending;)s=this._pending,this._pending=!1,this.trigger("change",this,s);return this._pending=!1,this._changing=!1,this},unset:function(n,m){return this.set(n,void 0,f.extend({},m,{unset:!0}))},clear:function(n){var m={};for(var s in this.attributes)m[s]=void 0;return this.set(m,f.extend({},n,{unset:!0}))},hasChanged:function(n){return null==n?!f.isEmpty(this.changed):f.has(this.changed,n)},changedAttributes:function(n){if(!n)return!!this.hasChanged()&&f.clone(this.changed);var m=this._changing?this._previousAttributes:this.attributes,s={};for(var E in n){var W=n[E];f.isEqual(m[E],W)||(s[E]=W)}return!!f.size(s)&&s},previous:function(n){return null!=n&&this._previousAttributes?this._previousAttributes[n]:null},previousAttributes:function(){return f.clone(this._previousAttributes)},fetch:function(n){n=f.extend({parse:!0},n);var m=this,s=n.success;return n.success=function(E){var W=n.parse?m.parse(E,n):E;if(!m.set(W,n))return!1;s&&s.call(n.context,m,E,n),m.trigger("sync",m,E,n)},z(this,n),this.sync("read",this,n)},save:function(n,m,s){var E;null==n||"object"==typeof n?(E=n,s=m):(E={})[n]=m;var W=(s=f.extend({validate:!0,parse:!0},s)).wait;if(E&&!W){if(!this.set(E,s))return!1}else if(!this._validate(E,s))return!1;var pe=this,Ee=s.success,be=this.attributes;s.success=function(Pe){pe.attributes=be;var He=s.parse?pe.parse(Pe,s):Pe;if(W&&(He=f.extend({},E,He)),He&&!pe.set(He,s))return!1;Ee&&Ee.call(s.context,pe,Pe,s),pe.trigger("sync",pe,Pe,s)},z(this,s),E&&W&&(this.attributes=f.extend({},be,E));var de=this.isNew()?"create":s.patch?"patch":"update";"patch"!==de||s.attrs||(s.attrs=E);var _e=this.sync(de,this,s);return this.attributes=be,_e},destroy:function(n){n=n?f.clone(n):{};var m=this,s=n.success,E=n.wait,W=function(){m.stopListening(),m.trigger("destroy",m,m.collection,n)};n.success=function(Ee){E&&W(),s&&s.call(n.context,m,Ee,n),m.isNew()||m.trigger("sync",m,Ee,n)};var pe=!1;return this.isNew()?f.defer(n.success):(z(this,n),pe=this.sync("delete",this,n)),E||W(),pe},url:function(){var n=f.result(this,"urlRoot")||f.result(this.collection,"url")||O();if(this.isNew())return n;var m=this.get(this.idAttribute);return n.replace(/[^\/]$/,"$&/")+encodeURIComponent(m)},parse:function(n,m){return n},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(n){return this._validate({},f.extend({},n,{validate:!0}))},_validate:function(n,m){if(!m.validate||!this.validate)return!0;n=f.extend({},this.attributes,n);var s=this.validationError=this.validate(n,m)||null;return!s||(this.trigger("invalid",this,s,f.extend(m,{validationError:s})),!1)}}),A(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var g=p.Collection=function(n,m){m||(m={}),m.model&&(this.model=m.model),void 0!==m.comparator&&(this.comparator=m.comparator),this._reset(),this.initialize.apply(this,arguments),n&&this.reset(n,f.extend({silent:!0},m))},L={add:!0,remove:!0,merge:!0},K={add:!0,remove:!1},ee=function(n,m,s){s=Math.min(Math.max(s,0),n.length);var E,W=Array(n.length-s),pe=m.length;for(E=0;E<W.length;E++)W[E]=n[E+s];for(E=0;E<pe;E++)n[E+s]=m[E];for(E=0;E<W.length;E++)n[E+pe+s]=W[E]};f.extend(g.prototype,k,{model:y,initialize:function(){},toJSON:function(n){return this.map(function(m){return m.toJSON(n)})},sync:function(){return p.sync.apply(this,arguments)},add:function(n,m){return this.set(n,f.extend({merge:!1},m,K))},remove:function(n,m){m=f.extend({},m);var s=!f.isArray(n);n=s?[n]:n.slice();var E=this._removeModels(n,m);return!m.silent&&E.length&&(m.changes={added:[],merged:[],removed:E},this.trigger("update",this,m)),s?E[0]:E},set:function(n,m){if(null!=n){(m=f.extend({},L,m)).parse&&!this._isModel(n)&&(n=this.parse(n,m)||[]);var s=!f.isArray(n);n=s?[n]:n.slice();var E=m.at;null!=E&&(E=+E),E>this.length&&(E=this.length),E<0&&(E+=this.length+1);var W,pe,Ee=[],be=[],de=[],_e=[],Pe={},He=m.add,ut=m.merge,rt=m.remove,G=!1,ae=this.comparator&&null==E&&!1!==m.sort,Oe=f.isString(this.comparator)?this.comparator:null;for(pe=0;pe<n.length;pe++){var ze=this.get(W=n[pe]);if(ze){if(ut&&W!==ze){var qe=this._isModel(W)?W.attributes:W;m.parse&&(qe=ze.parse(qe,m)),ze.set(qe,m),de.push(ze),ae&&!G&&(G=ze.hasChanged(Oe))}Pe[ze.cid]||(Pe[ze.cid]=!0,Ee.push(ze)),n[pe]=ze}else He&&(W=n[pe]=this._prepareModel(W,m))&&(be.push(W),this._addReference(W,m),Pe[W.cid]=!0,Ee.push(W))}if(rt){for(pe=0;pe<this.length;pe++)Pe[(W=this.models[pe]).cid]||_e.push(W);_e.length&&this._removeModels(_e,m)}var Je=!1;if(Ee.length&&!ae&&He&&rt?(Je=this.length!==Ee.length||f.some(this.models,function(X,ke){return X!==Ee[ke]}),this.models.length=0,ee(this.models,Ee,0),this.length=this.models.length):be.length&&(ae&&(G=!0),ee(this.models,be,null==E?this.length:E),this.length=this.models.length),G&&this.sort({silent:!0}),!m.silent){for(pe=0;pe<be.length;pe++)null!=E&&(m.index=E+pe),(W=be[pe]).trigger("add",W,this,m);(G||Je)&&this.trigger("sort",this,m),(be.length||_e.length||de.length)&&(m.changes={added:be,removed:_e,merged:de},this.trigger("update",this,m))}return s?n[0]:n}},reset:function(n,m){m=m?f.clone(m):{};for(var s=0;s<this.models.length;s++)this._removeReference(this.models[s],m);return m.previousModels=this.models,this._reset(),n=this.add(n,f.extend({silent:!0},m)),m.silent||this.trigger("reset",this,m),n},push:function(n,m){return this.add(n,f.extend({at:this.length},m))},pop:function(n){var m=this.at(this.length-1);return this.remove(m,n)},unshift:function(n,m){return this.add(n,f.extend({at:0},m))},shift:function(n){var m=this.at(0);return this.remove(m,n)},slice:function(){return b.apply(this.models,arguments)},get:function(n){if(null!=n)return this._byId[n]||this._byId[this.modelId(n.attributes||n)]||n.cid&&this._byId[n.cid]},has:function(n){return null!=this.get(n)},at:function(n){return n<0&&(n+=this.length),this.models[n]},where:function(n,m){return this[m?"find":"filter"](n)},findWhere:function(n){return this.where(n,!0)},sort:function(n){var m=this.comparator;if(!m)throw new Error("Cannot sort a set without a comparator");n||(n={});var s=m.length;return f.isFunction(m)&&(m=f.bind(m,this)),1===s||f.isString(m)?this.models=this.sortBy(m):this.models.sort(m),n.silent||this.trigger("sort",this,n),this},pluck:function(n){return this.map(n+"")},fetch:function(n){var m=(n=f.extend({parse:!0},n)).success,s=this;return n.success=function(E){s[n.reset?"reset":"set"](E,n),m&&m.call(n.context,s,E,n),s.trigger("sync",s,E,n)},z(this,n),this.sync("read",this,n)},create:function(n,m){var s=(m=m?f.clone(m):{}).wait;if(!(n=this._prepareModel(n,m)))return!1;s||this.add(n,m);var E=this,W=m.success;return m.success=function(pe,Ee,be){s&&E.add(pe,be),W&&W.call(be.context,pe,Ee,be)},n.save(null,m),n},parse:function(n,m){return n},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(n){return n[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(n,m){if(this._isModel(n))return n.collection||(n.collection=this),n;(m=m?f.clone(m):{}).collection=this;var s=new this.model(n,m);return s.validationError?(this.trigger("invalid",this,s.validationError,m),!1):s},_removeModels:function(n,m){for(var s=[],E=0;E<n.length;E++){var W=this.get(n[E]);if(W){var pe=this.indexOf(W);this.models.splice(pe,1),this.length--,delete this._byId[W.cid];var Ee=this.modelId(W.attributes);null!=Ee&&delete this._byId[Ee],m.silent||(m.index=pe,W.trigger("remove",W,this,m)),s.push(W),this._removeReference(W,m)}}return s},_isModel:function(n){return n instanceof y},_addReference:function(n,m){this._byId[n.cid]=n;var s=this.modelId(n.attributes);null!=s&&(this._byId[s]=n),n.on("all",this._onModelEvent,this)},_removeReference:function(n,m){delete this._byId[n.cid];var s=this.modelId(n.attributes);null!=s&&delete this._byId[s],this===n.collection&&delete n.collection,n.off("all",this._onModelEvent,this)},_onModelEvent:function(n,m,s,E){if(m){if(("add"===n||"remove"===n)&&s!==this)return;if("destroy"===n&&this.remove(m,E),"change"===n){var W=this.modelId(m.previousAttributes()),pe=this.modelId(m.attributes);W!==pe&&(null!=W&&delete this._byId[W],null!=pe&&(this._byId[pe]=m))}}this.trigger.apply(this,arguments)}}),A(g,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models");var De=p.View=function(n){this.cid=f.uniqueId("view"),f.extend(this,f.pick(n,ce)),this._ensureElement(),this.initialize.apply(this,arguments)},fe=/^(\S+)\s*(.*)$/,ce=["model","collection","el","id","attributes","className","tagName","events"];f.extend(De.prototype,k,{tagName:"div",$:function(n){return this.$el.find(n)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(n){return this.undelegateEvents(),this._setElement(n),this.delegateEvents(),this},_setElement:function(n){this.$el=n instanceof p.$?n:p.$(n),this.el=this.$el[0]},delegateEvents:function(n){if(n||(n=f.result(this,"events")),!n)return this;for(var m in this.undelegateEvents(),n){var s=n[m];if(f.isFunction(s)||(s=this[s]),s){var E=m.match(fe);this.delegate(E[1],E[2],f.bind(s,this))}}return this},delegate:function(n,m,s){return this.$el.on(n+".delegateEvents"+this.cid,m,s),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(n,m,s){return this.$el.off(n+".delegateEvents"+this.cid,m,s),this},_createElement:function(n){return document.createElement(n)},_ensureElement:function(){if(this.el)this.setElement(f.result(this,"el"));else{var n=f.extend({},f.result(this,"attributes"));this.id&&(n.id=f.result(this,"id")),this.className&&(n.class=f.result(this,"className")),this.setElement(this._createElement(f.result(this,"tagName"))),this._setAttributes(n)}},_setAttributes:function(n){this.$el.attr(n)}}),p.sync=function(n,m,s){var E=Ce[n];f.defaults(s||(s={}),{emulateHTTP:p.emulateHTTP,emulateJSON:p.emulateJSON});var W={type:E,dataType:"json"};if(s.url||(W.url=f.result(m,"url")||O()),null!=s.data||!m||"create"!==n&&"update"!==n&&"patch"!==n||(W.contentType="application/json",W.data=JSON.stringify(s.attrs||m.toJSON(s))),s.emulateJSON&&(W.contentType="application/x-www-form-urlencoded",W.data=W.data?{model:W.data}:{}),s.emulateHTTP&&("PUT"===E||"DELETE"===E||"PATCH"===E)){W.type="POST",s.emulateJSON&&(W.data._method=E);var pe=s.beforeSend;s.beforeSend=function(de){if(de.setRequestHeader("X-HTTP-Method-Override",E),pe)return pe.apply(this,arguments)}}"GET"===W.type||s.emulateJSON||(W.processData=!1);var Ee=s.error;s.error=function(de,_e,Pe){s.textStatus=_e,s.errorThrown=Pe,Ee&&Ee.call(s.context,de,_e,Pe)};var be=s.xhr=p.ajax(f.extend(W,s));return m.trigger("request",m,be,s),be};var Ce={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};p.ajax=function(){return p.$.ajax.apply(p.$,arguments)};var Se=p.Router=function(n){n||(n={}),n.routes&&(this.routes=n.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},se=/\((.*?)\)/g,ue=/(\(\?)?:\w+/g,xe=/\*\w+/g,re=/[\-{}\[\]+?.,\\\^$|#\s]/g;f.extend(Se.prototype,k,{initialize:function(){},route:function(n,m,s){f.isRegExp(n)||(n=this._routeToRegExp(n)),f.isFunction(m)&&(s=m,m=""),s||(s=this[m]);var E=this;return p.history.route(n,function(W){var pe=E._extractParameters(n,W);!1!==E.execute(s,pe,m)&&(E.trigger.apply(E,["route:"+m].concat(pe)),E.trigger("route",m,pe),p.history.trigger("route",E,m,pe))}),this},execute:function(n,m,s){n&&n.apply(this,m)},navigate:function(n,m){return p.history.navigate(n,m),this},_bindRoutes:function(){if(this.routes){this.routes=f.result(this,"routes");for(var n,m=f.keys(this.routes);null!=(n=m.pop());)this.route(n,this.routes[n])}},_routeToRegExp:function(n){return n=n.replace(re,"\\$&").replace(se,"(?:$1)?").replace(ue,function(m,s){return s?m:"([^/?]+)"}).replace(xe,"([^?]*?)"),new RegExp("^"+n+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(n,m){var s=n.exec(m).slice(1);return f.map(s,function(E,W){return W===s.length-1?E||null:E?decodeURIComponent(E):null})}});var J=p.History=function(){this.handlers=[],this.checkUrl=f.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},$=/^[#\/]|\s+$/g,V=/^\/+|\/+$/g,S=/#.*$/;J.started=!1,f.extend(J.prototype,k,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(n){return decodeURI(n.replace(/%25/g,"%2525"))},getSearch:function(){var n=this.location.href.replace(/#.*/,"").match(/\?.+/);return n?n[0]:""},getHash:function(n){var m=(n||this).location.href.match(/#(.*)$/);return m?m[1]:""},getPath:function(){var n=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===n.charAt(0)?n.slice(1):n},getFragment:function(n){return null==n&&(n=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),n.replace($,"")},start:function(n){if(J.started)throw new Error("Backbone.history has already been started");if(J.started=!0,this.options=f.extend({root:"/"},this.options,n),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(V,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var m=this.root.slice(0,-1)||"/";return this.location.replace(m+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var s=document.body,E=s.insertBefore(this.iframe,s.firstChild).contentWindow;E.document.open(),E.document.close(),E.location.hash="#"+this.fragment}var W=window.addEventListener||function(pe,Ee){return attachEvent("on"+pe,Ee)};if(this._usePushState?W("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?W("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var n=window.removeEventListener||function(m,s){return detachEvent("on"+m,s)};this._usePushState?n("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&n("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),J.started=!1},route:function(n,m){this.handlers.unshift({route:n,callback:m})},checkUrl:function(n){var m=this.getFragment();if(m===this.fragment&&this.iframe&&(m=this.getHash(this.iframe.contentWindow)),m===this.fragment)return!1;this.iframe&&this.navigate(m),this.loadUrl()},loadUrl:function(n){return!!this.matchRoot()&&(n=this.fragment=this.getFragment(n),f.some(this.handlers,function(m){if(m.route.test(n))return m.callback(n),!0}))},navigate:function(n,m){if(!J.started)return!1;m&&!0!==m||(m={trigger:!!m}),n=this.getFragment(n||"");var s=this.root;""!==n&&"?"!==n.charAt(0)||(s=s.slice(0,-1)||"/");var E=s+n;if(n=this.decodeFragment(n.replace(S,"")),this.fragment!==n){if(this.fragment=n,this._usePushState)this.history[m.replace?"replaceState":"pushState"]({},document.title,E);else{if(!this._wantsHashChange)return this.location.assign(E);if(this._updateHash(this.location,n,m.replace),this.iframe&&n!==this.getHash(this.iframe.contentWindow)){var W=this.iframe.contentWindow;m.replace||(W.document.open(),W.document.close()),this._updateHash(W.location,n,m.replace)}}return m.trigger?this.loadUrl(n):void 0}},_updateHash:function(n,m,s){if(s){var E=n.href.replace(/(javascript:|#).*$/,"");n.replace(E+"#"+m)}else n.hash="#"+m}}),p.history=new J,y.extend=g.extend=Se.extend=De.extend=J.extend=function(n,m){var s,E=this;return s=n&&f.has(n,"constructor")?n.constructor:function(){return E.apply(this,arguments)},f.extend(s,E,m),s.prototype=f.create(E.prototype,n),s.prototype.constructor=s,s.__super__=E.prototype,s};var O=function(){throw new Error('A "url" property or function must be specified')},z=function(n,m){var s=m.error;m.error=function(E){s&&s.call(m.context,n,E,m),n.trigger("error",n,E,m)}};return p}(M,h,x,c)}.apply(oe,ne))||($e.exports=Y)}).call(this,i(35))},function($e,oe){$e.exports=function(i,Z,ne){return Z in i?Object.defineProperty(i,Z,{value:ne,enumerable:!0,configurable:!0,writable:!0}):i[Z]=ne,i},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe){function i(Z){return $e.exports=i=Object.setPrototypeOf?Object.getPrototypeOf:function(ne){return ne.__proto__||Object.getPrototypeOf(ne)},$e.exports.default=$e.exports,$e.exports.__esModule=!0,i(Z)}$e.exports=i,$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe){$e.exports=function(i,Z){if(!(i instanceof Z))throw new TypeError("Cannot call a class as a function")},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe){function i(Z,ne){for(var Y=0;Y<ne.length;Y++){var U=ne[Y];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(Z,U.key,U)}}$e.exports=function(Z,ne,Y){return ne&&i(Z.prototype,ne),Y&&i(Z,Y),Z},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe,i){"use strict";(function(Z){i.d(oe,"e",function(){return ne}),i.d(oe,"p",function(){return Y}),i.d(oe,"a",function(){return U}),i.d(oe,"c",function(){return M}),i.d(oe,"d",function(){return x}),i.d(oe,"o",function(){return c}),i.d(oe,"q",function(){return h}),i.d(oe,"t",function(){return u}),i.d(oe,"i",function(){return p}),i.d(oe,"r",function(){return f}),i.d(oe,"s",function(){return P}),i.d(oe,"k",function(){return w}),i.d(oe,"m",function(){return b}),i.d(oe,"j",function(){return A}),i.d(oe,"l",function(){return R}),i.d(oe,"g",function(){return _}),i.d(oe,"f",function(){return k}),i.d(oe,"h",function(){return T}),i.d(oe,"n",function(){return C}),i.d(oe,"b",function(){return j});var ne="1.13.1",Y="object"==typeof self&&self.self===self&&self||"object"==typeof Z&&Z.global===Z&&Z||Function("return this")()||{},U=Array.prototype,M=Object.prototype,x="undefined"!=typeof Symbol?Symbol.prototype:null,c=U.push,h=U.slice,u=M.toString,p=M.hasOwnProperty,f="undefined"!=typeof ArrayBuffer,P="undefined"!=typeof DataView,w=Array.isArray,b=Object.keys,A=Object.create,R=f&&ArrayBuffer.isView,_=isNaN,k=isFinite,T=!{toString:null}.propertyIsEnumerable("toString"),C=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],j=Math.pow(2,53)-1}).call(this,i(35))},function($e,oe,i){var Z=i(87);$e.exports=function(ne,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Super expression must either be null or a function");ne.prototype=Object.create(Y&&Y.prototype,{constructor:{value:ne,writable:!0,configurable:!0}}),Y&&Z(ne,Y)},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe,i){var Z=i(14).default,ne=i(88);$e.exports=function(Y,U){return!U||"object"!==Z(U)&&"function"!=typeof U?ne(Y):U},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe,i){"use strict";i.d(oe,"b",function(){return se}),i.d(oe,"a",function(){return V});var Z=i(14),ne=i.n(Z),Y=i(11),U=i.n(Y),M=i(41),x=i.n(M),c=i(3),h=i.n(c),u=i(5),p=i.n(u),f=i(6),P=i.n(f),w=i(8),b=i.n(w),A=i(9),R=i.n(A),_=i(4),k=i.n(_),T=i(0),C=i(1),j=i(32),N=i(2),H=i.n(N),v=i(30),d=i(16),l=i(20);function y(S,O){var z=Object.keys(S);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(S);O&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(S,m).enumerable})),z.push.apply(z,n)}return z}function g(S){for(var O=1;O<arguments.length;O++){var z=null!=arguments[O]?arguments[O]:{};O%2?y(Object(z),!0).forEach(function(n){h()(S,n,z[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(z)):y(Object(z)).forEach(function(n){Object.defineProperty(S,n,Object.getOwnPropertyDescriptor(z,n))})}return S}var L,K=H.a.Model.extend({defaults:{type:"text",label:"",name:"",min:"",max:"",unit:"",step:1,value:"",target:"",default:"",placeholder:"",changeProp:0,options:[]},initialize:function(){var S=this.get("target"),O=this.get("name"),z=this.get("changeProp");if(!this.get("id")&&this.set("id",O),S){this.target=S,this.unset("target");var n=z?"change:".concat(O):"change:attributes:".concat(O);this.listenTo(S,n,this.targetUpdated)}},props:function(){return this.attributes},targetUpdated:function(){var S=this.getTargetValue();this.set({value:S},{fromTarget:1})},getTargetValue:function(){var S,O=this.get("name"),z=this.target;return S=this.get("changeProp")?z.get(O):z.getAttributes()[O],Object(T.isUndefined)(S)?"":S},setTargetValue:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=this.target,n=this.get("name");if(!Object(T.isUndefined)(S)){var m=S;if("false"===S?m=!1:"true"===S&&(m=!0),this.get("changeProp"))z.set(n,m,O);else{var s=g({},z.get("attributes"));s[n]=m,z.set("attributes",s,O)}}},setValueFromInput:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={value:S};this.set(n,g(g({},z),{},{avoidStore:1})),O&&(this.set("value","",z),this.set(n,z))},getInitValue:function(){var S,O=this.target,z=this.get("name");if(O){var n=O.get("attributes");S=this.get("changeProp")?O.get(z):n[z]}return S||this.get("value")||this.get("default")}}),ee=H.a.Collection.extend({model:K,initialize:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.em=O.em||"",this.listenTo(this,"add",this.handleAdd),this.listenTo(this,"reset",this.handleReset)},handleReset:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=O.previousModels,n=void 0===z?[]:z;n.forEach(function(m){return m.trigger("remove")})},handleAdd:function(S){var O=this.target;O&&(S.target=O)},setTarget:function(S){this.target=S},add:function(S,O){var z=this.em;if(Object(T.isString)(S)||Object(T.isArray)(S)){var n=z&&z.get&&z.get("TraitManager"),m=function(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{build:function(be){var de=[];"string"==typeof be&&(be=[be]);for(var _e=0;_e<be.length;_e++){var Pe={},He=be[_e];"target"===(Pe.name=He,He)&&(Pe.type="select",Pe.default=!1,Pe.options=Ee.optionsTarget),de.push(Pe)}return de}}}(n&&n.getConfig());Object(T.isString)(S)&&(S=[S]);for(var s=0,E=S.length;s<E;s++){var W=S[s],pe=Object(T.isString)(W)?m.build(W)[0]:W;pe.target=this.target,S[s]=pe}}return H.a.Collection.prototype.add.apply(this,[S,O])}});function De(S,O){var z=Object.keys(S);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(S);O&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(S,m).enumerable})),z.push.apply(z,n)}return z}function fe(S){for(var O=1;O<arguments.length;O++){var z=null!=arguments[O]?arguments[O]:{};O%2?De(Object(z),!0).forEach(function(n){h()(S,n,z[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(z)):De(Object(z)).forEach(function(n){Object.defineProperty(S,n,Object.getOwnPropertyDescriptor(z,n))})}return S}var Ce=function(S){return S.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Se=function(S){return S&&S.getConfig("avoidInlineStyle")},se="component:drag",ue="__symbols",xe="__symbol",re="__symbol_ovrd",J="component:update",$="".concat(J,"-inside"),V=function(S){b()(z,S);var O=function ce(S){var O=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(z){return!1}}();return function(){var z,n=k()(S);if(O){var m=k()(this).constructor;z=Reflect.construct(n,arguments,m)}else z=n.apply(this,arguments);return R()(this,z)}}(z);function z(){return p()(this,z),O.apply(this,arguments)}return P()(z,[{key:"init",value:function(){}},{key:"updated",value:function(n,m,s){}},{key:"removed",value:function(){}},{key:"initialize",value:function(){var n=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(T.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var E=s.em,W=this.parent(),pe=W&&W.attributes;if(pe&&pe.propagate){var Ee={},be=pe.propagate;be.forEach(function(rt){return Ee[rt]=W.get(rt)}),Ee.propagate=be,Ee=fe(fe({},Ee),m),this.set(Ee)}var de=this.get("propagate");if(de&&this.set("propagate",Object(T.isArray)(de)?de:[de]),s&&s.config&&s.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),s.em=E,this.opt=s,this.em=E,this.frame=s.frame,this.config=s.config||{},this.set("attributes",fe(fe({},Object(T.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=z.createId(this,s),this.initClasses(),this.initTraits(),this.initComponents(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on($,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(rt){var G="add remove ".concat("components"!==rt?"change":"");n.listenTo(n.get(rt),G.trim(),function(){for(var ae=arguments.length,Oe=new Array(ae),ze=0;ze<ae;ze++)Oe[ze]=arguments[ze];return n.emitUpdate.apply(n,[rt].concat(Oe))})}),!s.temporary){var _e=E&&E.get("CssComposer"),Pe=this.attributes,He=Pe.styles,ut=Pe.type;He&&_e&&_e.addCollection(He,{},{group:"cmp:".concat(ut)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),E&&E.trigger("component:create",this)}}},{key:"__postAdd",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.em,s=m&&m.get("UndoManager"),E=this.components();s&&!this.__hasUm&&(s.add(E),s.add(this.getSelectors()),this.__hasUm=1),n.recursive&&E.map(function(W){return W.__postAdd(n)})}},{key:"__postRemove",value:function(){var n=this.em,m=n&&n.get("UndoManager");m&&(m.remove(this.components()),m.remove(this.getSelectors()),delete this.__hasUm)}},{key:"__onChange",value:function(n,m){var s=this.changedAttributes();["status","open","toolbar","traits"].forEach(function(E){return delete s[E]}),Object(C.isEmptyObj)(s)||(this.__changesUp(m),this.__propSelfToParent({component:this,changed:s,options:m}))}},{key:"__changesUp",value:function(n){[this.frame,this.em].forEach(function(s){return s&&s.changesUp(n)})}},{key:"__propSelfToParent",value:function(n){this.trigger(J,n),this.__propToParent(n)}},{key:"__propToParent",value:function(n){var m=this.parent();m&&m.trigger($,n)}},{key:"__emitUpdateTlb",value:function(){this.emitUpdate("toolbar")}},{key:"is",value:function(n){return this.get("type")==n}},{key:"props",value:function(){return this.attributes}},{key:"index",value:function(){var n=this.collection;return n?n.indexOf(this):0}},{key:"setDragMode",value:function(n){return this.set("dmode",n)}},{key:"find",value:function(n){var m=[],s=this.view.$el.find(n);return s.each(function(E){var W=s.eq(E).data("model");W&&m.push(W)}),m}},{key:"findType",value:function(n){var m=[];return function s(E){return E.forEach(function(W){W.is(n)&&m.push(W),s(W.components())})}(this.components()),m}},{key:"closest",value:function(n){var m=this.view.$el.closest(n);return m.length&&m.data("model")}},{key:"closestType",value:function(n){for(var m=this.parent();m&&!m.is(n);)m=m.parent();return m}},{key:"contains",value:function(n){var m=!1;return n?(function E(W){!m&&W.forEach(function(pe){pe===n&&(m=!0),!m&&E(pe.components())})}(this.components()),m):m}},{key:"tagUpdated",value:function(){this.trigger("rerender")}},{key:"replaceWith",value:function(n){var m=this.collection,s=m.indexOf(this);return m.remove(this),m.add(n,{at:s})}},{key:"attrUpdated",value:function(n,m){var s=this,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},W=this.get("attributes"),pe=W.class;pe&&this.setClass(pe),delete W.class;var Ee=W.style;Ee&&this.setStyle(Ee),delete W.style;var be=fe({},this.previous("attributes")),de=Object(C.shallowDiff)(be,this.get("attributes"));Object(T.keys)(de).forEach(function(_e){return s.trigger("change:attributes:".concat(_e),s,de[_e],E)})}},{key:"setAttributes",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.set("attributes",fe({},n),m),this}},{key:"addAttributes",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.setAttributes(fe(fe({},this.getAttributes({noClass:1})),n),m)}},{key:"removeAttributes",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Array.isArray(n)?n:[n],E=this.getAttributes();return s.map(function(W){return delete E[W]}),this.setAttributes(E,m)}},{key:"getStyle",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.em,E=Object(T.isString)(n)?n:"",W=E?m:n;if(s&&s.getConfig("avoidInlineStyle")&&!W.inline){var pe=s.get("state"),Ee=s.get("CssComposer"),be=Ee.getIdRule(this.getId(),fe({state:pe},W));if(this.rule=be,be)return be.getStyle(E)}return j.a.getStyle.call(this,E)}},{key:"setStyle",value:function(){var n=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=this.em,W=this.opt;if(E&&E.getConfig("avoidInlineStyle")&&!W.temporary&&!s.inline){var pe=this.get("style")||{};m=fe(fe({},m=Object(T.isString)(m)?this.parseStyle(m):m),pe);var Ee=E.get("state"),be=E.get("CssComposer"),de=this.getStyle(s);this.rule=be.setIdRule(this.getId(),m,fe(fe({},s),{},{state:Ee}));var _e=Object(C.shallowDiff)(de,m);this.set("style","",{silent:1}),Object(T.keys)(_e).forEach(function(Pe){return n.trigger("change:style:".concat(Pe))})}else m=j.a.setStyle.apply(this,arguments);return m}},{key:"getAttributes",value:function(){var n,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=this.em,E=[],W=fe({},this.get("attributes")),pe=s&&s.get("SelectorManager"),Ee=this.getId();if(m.noClass||(this.get("classes").forEach(function(de){return E.push(Object(T.isString)(de)?de:de.get("name"))}),E.length&&(W.class=E.join(" "))),!m.noStyle){var be=this.get("style");Object(C.isObject)(be)&&!Object(C.isEmptyObj)(be)&&(W.style=this.styleToString({inline:1}))}return Object(T.has)(W,"id")||(Se(s)?n=pe&&pe.get(Ee,pe.Selector.TYPE_ID):Object(T.isEmpty)(this.getStyle())||(n=1),(this.__getSymbol()||this.__getSymbols())&&(n=1),n&&(W.id=Ee)),W}},{key:"addClass",value:function(n){var m=this.em.get("SelectorManager").addClass(n);return this.get("classes").add(m)}},{key:"setClass",value:function(n){return this.get("classes").reset(),this.addClass(n)}},{key:"removeClass",value:function(n){var m=[];n=Object(T.isArray)(n)?n:[n];var s=this.get("classes"),E=d.a.TYPE_CLASS;return n.forEach(function(W){W.split(" ").forEach(function(pe){var Ee=s.where({name:pe,type:E})[0];Ee&&m.push(s.remove(Ee))})}),m}},{key:"getClasses",value:function(){var n=this.getAttributes().class;return n?n.split(" "):[]}},{key:"__logSymbol",value:function(n,m){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},E=this.__getSymbol(),W=this.__getSymbols();(E||W)&&this.em.log(n,{model:this,toUp:m,context:"symbols",opts:s})}},{key:"__initSymb",value:function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=1)}},{key:"__isSymbol",value:function(){return Object(T.isArray)(this.get(ue))}},{key:"__isSymbolOrInst",value:function(){return!(!this.__isSymbol()&&!this.get(xe))}},{key:"__isSymbolTop",value:function(){var n=this.parent();return this.__isSymbolOrInst()&&(!n||n&&!n.__isSymbol()&&!n.__getSymbol())}},{key:"__isSymbolNested",value:function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var n=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),m=this.__getSymbTop();return(m.__isSymbol()?m:m.__getSymbol())!==n}},{key:"__getAllById",value:function(){var n=this.em;return n?n.get("DomComponents").allById():{}}},{key:"__getSymbol",value:function(){var n=this.get(xe);if(n&&Object(T.isString)(n)){var m=this.__getAllById()[n];m?(n=m,this.set(xe,m)):n=0}return n}},{key:"__getSymbols",value:function(){var n=this,m=this.get(ue);return m&&Object(T.isArray)(m)&&(m.forEach(function(s,E){s&&Object(T.isString)(s)&&(m[E]=n.__getAllById()[s])}),m=m.filter(function(s){return s&&!Object(T.isString)(s)})),m}},{key:"__isSymbOvrd",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",m=this.get(re),s=n.split(":"),E=x()(s,1),W=E[0],pe=n!==W?[n,W]:[n];return!0===m||Object(T.isArray)(m)&&pe.some(function(Ee){return m.indexOf(Ee)>=0})}},{key:"__getSymbToUp",value:function(){var n=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=[],E=this.em,W=m.changed,pe=E&&E.get("symbols");if(m.fromInstance||m.noPropagate||m.fromUndo||!pe||W&&this.__isSymbOvrd(W))return s;var Ee=this.__getSymbols()||[],be=this.__getSymbol(),de=be?[be].concat(U()(be.__getSymbols()||[])):Ee;return de.filter(function(_e){return _e!==n}).filter(function(_e){return!(W&&_e.__isSymbOvrd(W))})}},{key:"__getSymbTop",value:function(n){for(var m=this,s=this.parent(n);s&&(s.__isSymbol()||s.__getSymbol());)m=s,s=s.parent(n);return m}},{key:"__upSymbProps",value:function(n){var m=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=this.changedAttributes(),W=E.attributes||{};if(delete E.status,delete E.open,delete E[ue],delete E[xe],delete E[re],delete E.attributes,delete W.id,Object(C.isEmptyObj)(W)||(E.attributes=W),!Object(C.isEmptyObj)(E)){var pe=this.__getSymbToUp(s);Object(T.keys)(E).map(function(Ee){m.__isSymbOvrd(Ee)&&delete E[Ee]}),this.__logSymbol("props",pe,{opts:s,changed:E}),pe.forEach(function(Ee){var be=fe({},E);Object(T.keys)(be).map(function(de){Ee.__isSymbOvrd(de)&&delete be[de]}),Ee.set(be,fe({fromInstance:m},s))})}}},{key:"__upSymbCls",value:function(n,m){var s=this,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},W=this.__getSymbToUp(E);this.__logSymbol("classes",W,{opts:E}),W.forEach(function(pe){pe.set("classes",s.get("classes"),{fromInstance:s})}),this.__changesUp(E)}},{key:"__upSymbComps",value:function(n,m,s){var E=this,W=s||m||{},pe={fromInstance:W.fromInstance,fromUndo:W.fromUndo},Ee=n.opt.temporary;if(s)if(s.add){var be=[],de=!!this.__getSymbols(),_e=this.__getSymbToUp(fe(fe({},pe),{},{changed:"components:add"}));if(_e.length){var Pe=n.__getSymbol();be=(Pe?Pe.__getSymbols():n.__getSymbols())||[],(be=U()(be)).push(Pe||n)}!Ee&&this.__logSymbol("add",_e,{opts:s,addedInstances:be.map(function(ot){return ot.cid}),added:n.cid}),_e.forEach(function(ot){var X=ot.__getSymbTop(),ke=be.filter(function(Ae){var Ne=Ae.__getSymbTop({prev:1});return X&&Ne&&Ne===X})[0]||n.clone({symbol:1,symbolInv:de});ot.append(ke,fe({fromInstance:E},s))})}else{var He=n.__getSymbol();if(He&&!s.temporary&&He.set(ue,He.__getSymbols().filter(function(ot){return ot!==n})),!n.__isSymbolTop()){var ut="components:remove",rt=s.index,G=n.parent(),ae=fe({fromInstance:n},s),Oe=n.__isSymbolNested(),ze=function(ot){var X=ot.parent();X&&!X.__isSymbOvrd(ut)&&ot.remove(ae)},qe=G.__isSymbOvrd(ut)?[]:n.__getSymbToUp(pe);Oe&&(qe=G.__getSymbToUp(fe(fe({},pe),{},{changed:ut})),ze=function(ot){var X=ot.components().at(rt);X&&X.remove(fe({fromInstance:G},ae))}),!Ee&&this.__logSymbol("remove",qe,{opts:s,removed:n.cid,isSymbNested:Oe}),qe.forEach(ze)}}else{var Je=this.__getSymbToUp(fe(fe({},pe),{},{changed:"components:reset"}));this.__logSymbol("reset",Je,{components:n.models}),Je.forEach(function(ot){var X=n.models.map(function(ke){return ke.clone({symbol:1})});ot.components().reset(X,fe({fromInstance:E},m))})}this.__changesUp(W)}},{key:"initClasses",value:function(n,m){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},E="change:classes",W=this.get("attributes").class||[],pe=[this,E,this.initClasses],Ee=this.get("classes")||W,be=Object(T.isString)(Ee)?Ee.split(" "):Ee;this.stopListening.apply(this,pe);var de=this.normalizeClasses(be),_e=new l.a([]);return this.set("classes",_e,s),_e.add(de),_e.on("add remove reset",this.__upSymbCls),this.listenTo.apply(this,pe),this}},{key:"initComponents",value:function(){var n=[this,"change:components",this.initComponents];this.stopListening.apply(this,n);var m=new v.a(null,this.opt);m.parent=this;var s=this.get("components"),E=!this.opt.avoidChildren;return this.set("components",m),E&&s&&m.add(Object(T.isFunction)(s)?s(this):s,this.opt),m.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,n),this}},{key:"initTraits",value:function(n){var m=this.em,s=[this,"change:traits",this.initTraits];this.stopListening.apply(this,s),this.loadTraits();var E=fe({},this.get("attributes")),W=this.get("traits");return W.each(function(pe){if(!pe.get("changeProp")){var Ee=pe.get("name"),be=pe.getInitValue();Ee&&be&&(E[Ee]=be)}}),W.length&&this.set("attributes",E),this.listenTo.apply(this,s),n&&m&&m.trigger("component:toggled"),this}},{key:"initScriptProps",value:function(){if(!this.opt.temporary){var n="script-props",m=["change:".concat(n),this.initScriptProps];this.off.apply(this,m);var s=this.previous(n)||[],E=this.get(n)||[],W=s.map(function(Ee){return"change:".concat(Ee)}).join(" "),pe=E.map(function(Ee){return"change:".concat(Ee)}).join(" ");W&&this.off(W,this.__scriptPropsChange),pe&&this.on(pe,this.__scriptPropsChange),this.on.apply(this,m)}}},{key:"__scriptPropsChange",value:function(n,m){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s.avoidStore||this.trigger("rerender")}},{key:"append",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Object(T.isArray)(n)?n:[n],E=s.map(function(pe){return Object(T.isString)(pe)||pe.collection&&pe.collection.remove(pe,{temporary:1}),pe}),W=this.components().add(E,m);return Object(T.isArray)(W)?W:[W]}},{key:"components",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.get("components");return Object(T.isUndefined)(n)?s:(s.reset(null,m),n?this.append(n,m):[])}},{key:"getChildAt",value:function(n){return this.components().at(n||0)||null}},{key:"getLastChild",value:function(){var n=this.components();return n.at(n.length-1)||null}},{key:"empty",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.components().reset(null,n),this}},{key:"parent",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.collection||n.prev&&this.prevColl;return m?m.parent:null}},{key:"scriptUpdated",value:function(){this.set("scriptUpdated",1)}},{key:"initToolbar",value:function(){var n=this.em,m=n&&n.getConfig("stylePrefix")||"";if(!this.get("toolbar")){var s=[];this.collection&&s.push({attributes:{class:"fa fa-arrow-up"},command:function(E){return E.runCommand("core:component-exit",{force:1})}}),this.get("draggable")&&s.push({attributes:{class:"fa fa-arrows ".concat(m,"no-touch-actions"),draggable:!0},command:"tlb-move"}),this.get("copyable")&&s.push({attributes:{class:"fa fa-clone"},command:"tlb-clone"}),this.get("removable")&&s.push({attributes:{class:"fa fa-trash-o"},command:"tlb-delete"}),this.set("toolbar",s)}}},{key:"loadTraits",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n=n||this.get("traits"),!((n=Object(T.isFunction)(n)?n(this):n)instanceof ee)){var s=new ee([],this.opt);s.setTarget(this),n.length&&(n.forEach(function(E){return E.attributes&&delete E.attributes.value}),s.add(n)),this.set("traits",s,m)}return this}},{key:"getTrait",value:function(n){return this.get("traits").filter(function(m){return m.get("id")===n||m.get("name")===n})[0]}},{key:"updateTrait",value:function(n,m){var s=this.em,E=this.getTrait(n);return E&&E.set(m),s&&s.trigger("component:toggled"),this}},{key:"getTraitIndex",value:function(n){var m=this.getTrait(n);return m?this.get("traits").indexOf(m):-1}},{key:"removeTrait",value:function(n){var m=this,s=this.em,E=(Object(T.isArray)(n)?n:[n]).map(function(pe){return m.getTrait(pe)}),W=this.get("traits").remove(E);return s&&s.trigger("component:toggled"),W}},{key:"addTrait",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=this.em,E=this.get("traits").add(n,m);return s&&s.trigger("component:toggled"),E}},{key:"normalizeClasses",value:function(n){var m=[],s=this.em,E=s&&s.get("SelectorManager");if(E)return n.models?U()(n.models):(n.forEach(function(W){return m.push(E.add(W))}),m)}},{key:"clone",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.em,s=fe({},this.attributes),E=fe({},this.opt),W=this.getId(),pe=m&&m.get("CssComposer");s.attributes=fe({},s.attributes),delete s.attributes.id,s.components=[],s.classes=[],s.traits=[],this.__isSymbolTop()&&(n.symbol=1),this.get("components").each(function(ut,rt){s.components[rt]=ut.clone(fe(fe({},n),{},{_inner:1}))}),this.get("traits").each(function(ut,rt){s.traits[rt]=ut.clone()}),this.get("classes").each(function(ut,rt){s.classes[rt]=ut.get("name")}),s.status="",E.collection=null;var Ee=new this.constructor(s,E),be="#".concat(Ee.getId()),de=pe?pe.getRules("#".concat(W)):[];de.forEach(function(ut){var rt=ut.clone();rt.set("selectors",[be]),pe.getAll().add(rt)}),Ee.set(ue,0);var _e=this.__getSymbol(),Pe=this.__getSymbols();n.symbol||!_e&&!Pe?_e?(_e.set(ue,[].concat(U()(_e.__getSymbols()),[Ee])),Ee.__initSymb()):n.symbol&&(this.__isSymbol()?(this.set(ue,[].concat(U()(Pe),[Ee])),Ee.set(xe,this),Ee.__initSymb()):n.symbolInv?(this.set(ue,[Ee]),Ee.set(xe,this),[this,Ee].map(function(ut){return ut.__initSymb()})):(Ee.set(ue,[this]),[this,Ee].map(function(ut){return ut.__initSymb()}),this.set(xe,Ee))):(Ee.set(xe,0),Ee.set(ue,0));var He="component:clone";return m&&m.trigger(He,Ee),this.trigger(He,Ee),Ee}},{key:"getName",value:function(){var n=this.em,m=this.attributes,s=m.type,E=m.tagName,W=this.get("name"),pe="div"==E,Ee=s||(pe?"box":E),be=!s&&E&&!pe&&E,de="domComponents.names.",_e=W&&n&&n.t("".concat(de).concat(W)),Pe=be&&n&&n.t("".concat(de).concat(be)),He=n&&(n.t("".concat(de).concat(s))||n.t("".concat(de).concat(E)));return this.get("custom-name")||_e||W||Pe||Object(C.capitalize)(be)||He||Object(C.capitalize)(Ee)}},{key:"getIcon",value:function(){var n=this.get("icon");return n?n+" ":""}},{key:"toHTML",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this,s=[],E=n.tag,W=E||m.get("tagName"),pe=m.get("void"),Ee=n.attributes,be=this.getAttrToHTML();for(var de in delete n.tag,Ee&&(Object(T.isFunction)(Ee)?be=Ee(m,be)||{}:Object(C.isObject)(Ee)&&(be=Ee)),be){var _e=be[de],Pe=Object(T.isString)(_e)?_e.replace(/"/g,"&quot;"):_e;Object(T.isUndefined)(Pe)||(Object(T.isBoolean)(Pe)?Pe&&s.push(de):s.push("".concat(de,'="').concat(Pe,'"')))}var He=s.length?" ".concat(s.join(" ")):"",ut=m.__innerHTML(n),rt="<".concat(W).concat(He).concat(pe?"/":"",">").concat(ut);return!pe&&(rt+="</".concat(W,">")),rt}},{key:"__innerHTML",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.components();return m.length?m.map(function(s){return s.toHTML(n)}).join(""):this.get("content")}},{key:"getAttrToHTML",value:function(){var n=this.getAttributes();return delete n.style,n}},{key:"toJSON",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=N.Model.prototype.toJSON.call(this,n);if(m.attributes=this.getAttributes(),delete m.attributes.class,delete m.toolbar,delete m.traits,delete m.status,delete m.open,!n.fromUndo){var s=m[xe],E=m[ue];E&&Object(T.isArray)(E)&&(m[ue]=E.filter(function(W){return W}).map(function(W){return W.getId?W.getId():W})),s&&!Object(T.isString)(s)&&(m[xe]=s.getId())}return this.em.getConfig("avoidDefaults")&&this.getChangedProps(m),m}},{key:"getChangedProps",value:function(n){var m=n||N.Model.prototype.toJSON.apply(this),s=Object(T.result)(this,"defaults");return Object(T.forEach)(s,function(E,W){-1===["type"].indexOf(W)&&m[W]===E&&delete m[W]}),Object(T.isEmpty)(m.type)&&delete m.type,Object(T.forEach)(["attributes","style"],function(E){Object(T.isEmpty)(s[E])&&Object(T.isEmpty)(m[E])&&delete m[E]}),Object(T.forEach)(["classes","components"],function(E){(!m[E]||Object(T.isEmpty)(s[E])&&!m[E].length)&&delete m[E]}),m}},{key:"getId",value:function(){return(this.get("attributes")||{}).id||this.ccid||this.cid}},{key:"setId",value:function(n,m){var s=fe({},this.get("attributes"));return s.id=n,this.set("attributes",s,m),this}},{key:"getEl",value:function(n){var m=this.getView(n);return m&&m.el}},{key:"getView",value:function(n){var m=this.view;return n&&(m=this.views.filter(function(E){return E._getFrame()===n.view})[0]),m}},{key:"getCurrentView",value:function(){var n=(this.em.get("currentFrame")||{}).model;return this.getView(n)}},{key:"__getScriptProps",value:function(){var n=this.props();return(this.get("script-props")||[]).reduce(function(m,s){return m[s]=n[s],m},{})}},{key:"getScriptString",value:function(n){var m=this,s=n||this.get("script");if(!s)return s;if(this.get("script-props"))s=s.toString().trim();else{if("function"==typeof s){var E=s.toString().trim();s=(E=E.replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"")).trim()}var W=this.em.getConfig(),pe=Ce(W.tagVarStart||"{[ "),Ee=Ce(W.tagVarEnd||" ]}"),be=new RegExp("".concat(pe,"([\\w\\d-]*)").concat(Ee),"g");s=s.replace(be,function(de,_e){m.scriptUpdated();var Pe=m.attributes[_e]||"";return Object(T.isArray)(Pe)||"object"==ne()(Pe)?JSON.stringify(Pe):Pe})}return s}},{key:"emitUpdate",value:function(n){for(var m=this.em,s=J+(n?":".concat(n):""),E=n&&this.get(n),W=arguments.length,pe=new Array(W>1?W-1:0),Ee=1;Ee<W;Ee++)pe[Ee-1]=arguments[Ee];n&&this.updated.apply(this,[n,E,n&&this.previous(n)].concat(pe)),this.trigger.apply(this,[s].concat(pe)),m&&m.trigger.apply(m,[s,this].concat(pe)),["components","classes"].indexOf(n)>=0&&this.__propSelfToParent({component:this,changed:h()({},n,E),options:pe[2]||pe[1]||{}})}},{key:"onAll",value:function(n){return Object(T.isFunction)(n)&&(n(this),this.components().forEach(function(m){return m.onAll(n)})),this}},{key:"remove",value:function(){var n=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s=this.em,E=this.collection,W=function(){E&&E.remove(n,m),m.root&&n.components("")},pe=fe({},m);return[this,s].map(function(Ee){return Ee.trigger("component:remove:before",n,W,pe)}),!pe.abort&&W(),this}},{key:"move",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.remove({temporary:1}),n&&n.append(this,m),this}},{key:"resetId",value:function(){var n=this.em,m=this.getId();if(m){var s=z.createId(this);this.setId(s);var E=n&&n.get("CssComposer").getIdRule(m),W=E&&E.get("selectors").at(0);return W&&W.set("name",s),this}}},{key:"_getStyleRule",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=n.id,s=this.em,E=m||this.getId();return s&&s.get("CssComposer").getIdRule(E)}},{key:"_getStyleSelector",value:function(n){var m=this._getStyleRule(n);return m&&m.get("selectors").at(0)}},{key:"_idUpdated",value:function(n,m){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!s.idUpdate){var E=this.ccid,W=this.get("attributes")||{},pe=W.id,Ee=(this.previous("attributes")||{}).id||E,be=z.getList(this);if(be[pe]||!pe&&Ee)return this.setId(Ee,{idUpdate:1});delete be[Ee],be[pe]=this,this.ccid=pe;var de=this._getStyleSelector({id:Ee});de&&de.set({name:pe,label:pe})}}}]),z}(N.Model.extend(j.a));V.isComponent=function(S){return{tagName:Object(C.toLowerCase)(S.tagName)}},V.ensureInList=function(S){var O=V.getList(S),z=S.getId(),n=O[z];if(n){if(n!==S){var m=V.getIncrementId(z,O);S.setId(m),O[m]=S}}else O[z]=S;S.components().forEach(function(s){return V.ensureInList(s)})},V.createId=function(S){var O,z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=V.getList(S),m=z.idMap,s=void 0===m?{}:m,E=S.get("attributes"),W=E.id;return W?(O=V.getIncrementId(W,n,z),S.setId(O),W!==O&&(s[W]=O)):O=V.getNewId(n),n[O]=S,O},V.getNewId=function(S){for(var O=Object.keys(S).length.toString().length+2,z=(Math.random()+1.1).toString(36).slice(-O),n="i".concat(z);S[n];)n=V.getNewId(S);return n},V.getIncrementId=function(S,O){var z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=z.keepIds,m=void 0===n?[]:n,s=1,E=S;if(m.indexOf(S)<0)for(;O[E];)s++,E="".concat(S,"-").concat(s);return E},V.getList=function(S){var O=S.opt,z=void 0===O?{}:O,m=z.em,s=z.domc||m&&m.get("DomComponents");return s?s.componentsById:{}},V.checkId=function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},m=Object(T.isArray)(S)?S:[S],s=n.keepIds,E=void 0===s?[]:s;m.forEach(function(W){var pe=W.attributes,Ee=void 0===pe?{}:pe,be=W.components,de=Ee.id;if(de&&z[de]&&E.indexOf(de)<0){var _e=V.getIncrementId(de,z);Ee.id=_e,Object(T.isArray)(O)&&O.forEach(function(Pe){var He=Pe.selectors;He.forEach(function(ut,rt){ut==="#".concat(de)&&(He[rt]="#".concat(_e))})})}be&&V.checkId(be,O,z,n)})},V.getDefaults=function(){return Object(T.result)(this.prototype,"defaults")},V.prototype.defaults=(L={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:"",traits:["id","title"],propagate:"",dmode:"",toolbar:null},h()(L,xe,0),h()(L,ue,0),h()(L,re,0),h()(L,"_undo",!0),h()(L,"_undoexc",["status","open"]),L)},function($e,oe,i){var Z=i(79),ne=i(80),Y=i(50),U=i(81);$e.exports=function(M){return Z(M)||ne(M)||Y(M)||U()},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe,i){"use strict";i.r(oe);var Z=i(3),ne=i.n(Z),Y=i(2),U=i.n(Y),M=i(0),x=i(30),c=i(42),h=i(20),u=i(13),p=i(1);function f(w,b){var A=Object.keys(w);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(w);b&&(R=R.filter(function(_){return Object.getOwnPropertyDescriptor(w,_).enumerable})),A.push.apply(A,R)}return A}function P(w){for(var b=1;b<arguments.length;b++){var A=null!=arguments[b]?arguments[b]:{};b%2?f(Object(A),!0).forEach(function(R){ne()(w,R,A[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(A)):f(Object(A)).forEach(function(R){Object.defineProperty(w,R,Object.getOwnPropertyDescriptor(A,R))})}return w}oe.default=U.a.View.extend({className:function(){return this.getClasses()},tagName:function(){return this.model.get("tagName")},initialize:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=this.model,A=w.config||{},R=A.em,_=b.opt||{},k=this.$el,T=this.el;this.opts=w,this.modelOpt=_,this.config=A,this.em=R||"",this.pfx=A.stylePrefix||"",this.ppfx=A.pStylePrefix||"",this.attr=b.get("attributes"),this.classe=this.attr.class||[],this.listenTo(b,"change:style",this.updateStyle),this.listenTo(b,"change:attributes change:_innertext",this.renderAttributes),this.listenTo(b,"change:highlightable",this.updateHighlight),this.listenTo(b,"change:status",this.updateStatus),this.listenTo(b,"change:script rerender",this.reset),this.listenTo(b,"change:content",this.updateContent),this.listenTo(b,"change",this.handleChange),this.listenTo(b,"active",this.onActive),this.listenTo(b,"disable",this.onDisable),k.data("model",b),Object(p.setViewEl)(T,this),b.view=this,this._getFrame()&&b.views.push(this),this.initClasses(),this.initComponents({avoidRender:1}),this.events=P(P({},this.events),this.__isDraggable()&&{dragstart:"handleDragStart"}),this.delegateEvents(),!_.temporary&&this.init(this._clbObj())},__isDraggable:function(){var A=this.model.attributes;return this.config.draggableComponents&&A.draggable&&!A._innertext},_clbObj:function(){var w=this.em,b=this.model,A=this.el;return{editor:w&&w.getEditor(),model:b,el:A}},init:function(){},removed:function(){},onActive:function(){},onDisable:function(){},remove:function(){var w=this;U.a.View.prototype.remove.apply(w,arguments);var b=w.model,A=w._getFrame()||{},R=A.model;b.components().forEach(function(T){var C=T.getView(R);C&&C.remove()});var _=w.childrenView;_&&_.remove();var k=b.views;return k.splice(k.indexOf(w),1),w.removed(w._clbObj()),w.$el.data({model:"",collection:"",view:""}),w},handleDragStart:function(w){w.preventDefault(),w.stopPropagation(),this.em.get("Commands").run("tlb-move",{target:this.model,event:w})},initClasses:function(){var w=this.model,b="change:classes",A=w.get("classes");A instanceof h.a&&(this.stopListening(w,b,this.initClasses),this.listenTo(w,b,this.initClasses),this.listenTo(A,"add remove change",this.updateClasses),A.length&&this.importClasses())},initComponents:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=this.model,A=this.$el,R=this.childrenView,_="change:components",k=b.get("components"),T=[b,_,this.initComponents];k instanceof x.a&&(A.data("collection",k),R&&R.remove(),this.stopListening.apply(this,T),!w.avoidRender&&this.renderChildren(),this.listenTo.apply(this,T))},handleChange:function(){var w=this.model,b=Object(M.keys)(w.changed);if(1!==b.length||"status"!==b[0])for(var A in w.emitUpdate(),w.changed)w.emitUpdate(A)},importClasses:function(){var w=this.config.em.get("SelectorManager");w&&this.model.get("classes").each(function(b){w.add(b.get("name"))})},updateStatus:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=this.em,A=b?b.get("Canvas").getConfig():{},R=A.extHl,_=this.el,k=this.model.get("status"),T=this.ppfx,C="".concat(T,"selected"),j="".concat(C,"-parent"),N="".concat(T,"freezed"),H="".concat(T,"hovered"),v=[C,j,N,H],d=R&&!w.noExtHl?"":C;this.$el.removeClass(v.join(" "));var l=_.getAttribute("class")||"",y="";switch(k){case"selected":y="".concat(l," ").concat(d);break;case"selected-parent":y="".concat(l," ").concat(j);break;case"freezed":y="".concat(l," ").concat(N);break;case"freezed-selected":y="".concat(l," ").concat(N," ").concat(d);break;case"hovered":y=w.avoidHover?"":"".concat(l," ").concat(H)}(y=y.trim())&&_.setAttribute("class",y)},updateHighlight:function(){var w=this.model.get("highlightable");this.setAttribute("data-highlightable",w?1:"")},updateStyle:function(w,b){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},R=this.model,_=this.em,k=this.el;if(_&&_.getConfig("avoidInlineStyle")&&!A.inline){var T=R.getStyle(),C=Object(M.isEmpty)(T);!C&&R.setStyle(T),R.get("_innertext")&&C?k.removeAttribute("id"):k.id=R.getId()}else this.setAttribute("style",R.styleToString(A))},updateClasses:function(){var w=this.model.get("classes").pluck("name").join(" ");this.setAttribute("class",w),this.updateStatus(),this.onAttrUpdate()},setAttribute:function(w,b){var A=this.$el;b?A.attr(w,b):A.removeAttr(w)},getClasses:function(){return this.model.getClasses().join(" ")},updateAttributes:function(){var w=[],b=this.model,A=this.$el,R=this.el,_=b.attributes,k=_.highlightable,T=_.textable,C=P(P(P({"data-gjs-type":_.type||"default"},this.__isDraggable()?{draggable:!0}:{}),k?{"data-highlightable":1}:{}),T?{contenteditable:"false","data-gjs-textable":"true"}:{});Object(M.each)(R.attributes,function(N){return w.push(N.nodeName)}),w.forEach(function(N){return A.removeAttr(N)}),this.updateStyle();var j=P(P({},C),b.getAttributes());Object(M.keys)(j).forEach(function(N){return!1===j[N]&&delete j[N]}),A.attr(j)},updateContent:function(){var w=this.model.get("content"),b=this.model.components().length;this.getChildrenContainer().innerHTML=b?"":w},prevDef:function(w){w.preventDefault()},updateScript:function(){var b=this.em;this.model.get("script")&&b&&b.get("Canvas").getCanvasView().updateScript(this)},getChildrenContainer:function(){var w=this.el;return"function"==typeof this.getChildrenSelector&&(w=this.el.querySelector(this.getChildrenSelector())),w},getOffsetRect:function(){var w={},b=this.el,A=0,R=0;return function _(k){var T=k.offsetParent;T?(A+=T.offsetTop,R+=T.offsetLeft,_(T)):(w.top=b.offsetTop+A,w.left=b.offsetLeft+R,w.bottom=w.top+b.offsetHeight,w.right=w.left+b.offsetWidth)}(b),w},isInViewport:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=w.rect,A=this.el,R=A.ownerDocument,_=R.body,k=R.defaultView.frameElement,T=b||this.getOffsetRect(),C=T.top,j=T.left,N=this._getFrame().getOffsetRect();return C>=N.scrollTop&&j>=N.scrollLeft&&C<=N.scrollBottom&&j<=k.offsetWidth+_.scrollLeft},scrollIntoView:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=this.getOffsetRect(),A=this.isInViewport({rect:b});if(!A||w.force){var R=this.el;"smooth"!==w.behavior?R.ownerDocument.defaultView.scrollTo(0,b.top):R.scrollIntoView(P({behavior:"smooth",block:"nearest"},w))}},reset:function(){var w=this.el;this.el="",this._ensureElement(),this._setData(),Object(u.m)(w,this.el),this.render()},_setData:function(){var w=this.model,b=w.components();this.$el.data({model:w,collection:b,view:this})},_getFrame:function(){return this.config.frameView},renderChildren:function(){this.updateContent();var w=this.getChildrenContainer(),b=this.childrenView||new c.a({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});b.render(w),this.childrenView=b;for(var A=Array.prototype.slice.call(b.el.childNodes),R=0,_=A.length;R<_;R++)w.appendChild(A.shift())},renderAttributes:function(){this.updateAttributes(),this.updateClasses()},onAttrUpdate:function(){},render:function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),Object(p.setViewEl)(this.el,this),this.postRender()),this},postRender:function(){var w=this.em,b=this.model;this.modelOpt.temporary||(this.onRender(this._clbObj()),w&&w.trigger("component:mount",b))},onRender:function(){}})},function($e,oe,i){"use strict";i.d(oe,"k",function(){return U}),i.d(oe,"i",function(){return M}),i.d(oe,"l",function(){return x}),i.d(oe,"h",function(){return c}),i.d(oe,"d",function(){return h}),i.d(oe,"j",function(){return u}),i.d(oe,"m",function(){return p}),i.d(oe,"b",function(){return f}),i.d(oe,"a",function(){return P}),i.d(oe,"f",function(){return w}),i.d(oe,"g",function(){return b}),i.d(oe,"e",function(){return A}),i.d(oe,"c",function(){return R});var Z=i(0),Y="attributes",U="transitionend oTransitionEnd transitionend webkitTransitionEnd",M=function(_){return _&&9===_.nodeType},x=function(_){var k=_&&_.parentNode;k&&k.removeChild(_)},c=function(_,k){return _.querySelectorAll(k)},h=function(_){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _&&_.setAttribute&&Object(Z.each)(k,function(T,C){return _.setAttribute(C,T)})},u=function(_){return _&&!!(_.offsetWidth||_.offsetHeight||_.getClientRects().length)},p=function(_,k){_.parentNode.replaceChild(k,_)},f=function(_,k,T){var C=_.childNodes,j=C.length,N=Object(Z.isUndefined)(T)?j:T;Object(Z.isString)(k)&&(_.insertAdjacentHTML("beforeEnd",k),_.removeChild(k=_.lastChild)),N>=j?_.appendChild(k):_.insertBefore(k,C[N])},P=function(_,k){return f(_,k)},w=function(_){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",T=arguments.length>2?arguments[2]:void 0,C=document.createElement(_);return k&&Object(Z.each)(k,function(j,N){return C.setAttribute(N,j)}),T&&(Object(Z.isString)(T)?C.innerHTML=T:C.appendChild(T)),C},b=function(_){return document.createTextNode(_)},A=function(_,k){var T,C=_.type;try{T=new window[k](C,_)}catch(j){(T=document.createEvent(k)).initEvent(C,!0,!0)}return T._parentEvent=_,0===C.indexOf("key")&&(T.keyCodeVal=_.keyCode,["keyCode","which"].forEach(function(j){Object.defineProperty(T,j,{get:function(){return this.keyCodeVal}})})),T},R=function(_){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],T=Array.isArray(k)?k:[k];T.forEach(function(C){var N=C[Y]||{},H=document.createElement(C.tag||"div");Object(Z.each)(N,function(v,d){H.setAttribute(d,v)}),_.appendChild(H)})}},function($e,oe){function i(Z){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?($e.exports=i=function(ne){return typeof ne},$e.exports.default=$e.exports,$e.exports.__esModule=!0):($e.exports=i=function(ne){return ne&&"function"==typeof Symbol&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},$e.exports.default=$e.exports,$e.exports.__esModule=!0),i(Z)}$e.exports=i,$e.exports.default=$e.exports,$e.exports.__esModule=!0},,function($e,oe,i){"use strict";i.d(oe,"a",function(){return R});var Z=i(5),ne=i.n(Z),Y=i(6),U=i.n(Y),M=i(8),x=i.n(M),c=i(9),h=i.n(c),u=i(4),p=i.n(u),f=i(2),P=i(0),R=function(_){x()(T,_);var k=function w(_){var k=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(T){return!1}}();return function(){var T,C=p()(_);if(k){var j=p()(this).constructor;T=Reflect.construct(C,arguments,j)}else T=C.apply(this,arguments);return h()(this,T)}}(T);function T(){return ne()(this,T),k.apply(this,arguments)}return U()(T,[{key:"defaults",value:function(){return{name:"",label:"",type:1,active:!0,private:!1,protected:!1,_undo:!0}}},{key:"initialize",value:function(C){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},N=j.config,H=void 0===N?{}:N,v=this.get("name"),d=this.get("label");v?d||this.set("label",v):this.set("name",d);var l=this.get("name"),y=H.escapeName,g=y?y(l):T.escapeName(l);this.set("name",g),this.em=H.em}},{key:"isId",value:function(){return 2===this.get("type")}},{key:"isClass",value:function(){return 1===this.get("type")}},{key:"getFullName",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},j=C.escape,N=this.get("name"),H="";switch(this.get("type")){case 1:H=".";break;case 2:H="#"}return H+(j?j(N):N)}},{key:"toString",value:function(){return this.getFullName()}},{key:"getLabel",value:function(){return this.get("label")}},{key:"setLabel",value:function(C){return this.set("label",C)}},{key:"getActive",value:function(){return this.get("active")}},{key:"setActive",value:function(C){return this.set("active",C)}},{key:"toJSON",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},j=this.em,N=f.Model.prototype.toJSON.call(this,[C]),H=Object(P.result)(this,"defaults");if(j&&j.getConfig("avoidDefaults")){Object(P.forEach)(H,function(d,l){N[l]===d&&delete N[l]}),N.label===N.name&&delete N.label;var v=Object(P.keys)(N).length;1===v&&N.name&&(N=N.name),2===v&&N.name&&N.type&&(N=this.getFullName())}return N}}]),T}(f.Model);R.prototype.idAttribute="name",R.TYPE_CLASS=1,R.TYPE_ID=2,R.escapeName=function(_){return"".concat(_).trim().replace(/([^a-z0-9\w-\:]+)/gi,"-")}},function($e,oe,i){"use strict";i.d(oe,"a",function(){return ne});var Z=i(1);function ne(Y){for(var U=arguments.length,M=new Array(U>1?U-1:0),x=1;x<U;x++)M[x-1]=arguments[x];var c=Y.raw;return c.reduce(function(h,u,p){var f=M[p-1],P=c[p-1];return Array.isArray(f)?f=f.join(""):P&&"$"===P.slice(-1)?h=h.slice(0,-1):f=Object(Z.escape)(f),h+f+u})}},function($e,oe,i){"use strict";i.r(oe);var Z="undefined"!=typeof document?document:null,ne="undefined"!=typeof window?window:null,Y=Array.prototype,U=Y.filter,M=Y.indexOf,x=Y.map,c=Y.push,h=Y.reverse,u=Y.slice,f=/^#[\w-]*$/,P=/^\.[\w-]*$/,w=/<.+>/,b=/^\w+$/;function A(X,ke){return void 0===ke&&(ke=Z),P.test(X)?ke.getElementsByClassName(X.slice(1)):b.test(X)?ke.getElementsByTagName(X):ke.querySelectorAll(X)}function R(X,ke){if(void 0===ke&&(ke=Z),X){if(X.__cash)return X;var Ae=X;if(l(X)){if(ke.__cash&&(ke=ke[0]),!(Ae=f.test(X)?ke.getElementById(X.slice(1)):w.test(X)?qe(X):A(X,ke)))return}else if(d(X))return this.ready(X);(Ae.nodeType||Ae===ne)&&(Ae=[Ae]),this.length=Ae.length;for(var Ne=0,he=this.length;Ne<he;Ne++)this[Ne]=Ae[Ne]}}function _(X,ke){return new R(X,ke)}var k=_.fn=_.prototype=R.prototype={constructor:_,__cash:!0,length:0,splice:Y.splice};k.get=function(X){return void 0===X?u.call(this):this[X<0?X+this.length:X]},k.eq=function(X){return _(this.get(X))},k.first=function(){return this.eq(0)},k.last=function(){return this.eq(-1)},k.map=function(X){return _(x.call(this,function(ke,Ae){return X.call(ke,Ae,ke)}))},k.slice=function(){return _(u.apply(this,arguments))};var T=/(?:^\w|[A-Z]|\b\w)/g,C=/[\s-_]+/g;function j(X){return X.replace(T,function(ke,Ae){return ke[Ae?"toUpperCase":"toLowerCase"]()}).replace(C,"")}function N(X,ke){for(var Ae=0,Ne=X.length;Ae<Ne&&!1!==ke.call(X[Ae],X[Ae],Ae,X);Ae++);}_.camelCase=j,_.each=N,k.each=function(X){return N(this,function(ke,Ae){return X.call(ke,Ae,ke)}),this},k.removeProp=function(X){return this.each(function(ke,Ae){delete Ae[X]})},_.extend=k.extend=function(X){void 0===X&&(X=this);for(var ke=arguments,Ae=ke.length,Ne=Ae<2?0:1;Ne<Ae;Ne++)for(var he in ke[Ne])X[he]=ke[Ne][he];return X};var H=1;function v(X,ke){var Ae=X&&(X.matches||X.webkitMatchesSelector||X.mozMatchesSelector||X.msMatchesSelector||X.oMatchesSelector);return!!Ae&&Ae.call(X,ke)}function d(X){return"function"==typeof X}function l(X){return"string"==typeof X}function y(X){return!isNaN(parseFloat(X))&&isFinite(X)}_.guid=H,_.matches=v,_.isFunction=d,_.isString=l,_.isNumeric=y;var g=Array.isArray;function L(X){return l(X)?function(ke,Ae){return v(Ae,X)}:X.__cash?function(ke,Ae){return X.is(Ae)}:function(ke,Ae,Ne){return Ae===Ne}}_.isArray=g,k.prop=function(X,ke){if(X){if(l(X))return arguments.length<2?this[0]&&this[0][X]:this.each(function(Ne,he){he[X]=ke});for(var Ae in X)this.prop(Ae,X[Ae]);return this}},k.filter=function(X){if(!X)return _();var ke=d(X)?X:L(X);return _(U.call(this,function(Ae,Ne){return ke.call(Ae,Ne,Ae,X)}))};var K=/\S+/g;function ee(X){return l(X)&&X.match(K)||[]}function De(X){return X.filter(function(ke,Ae,Ne){return Ne.indexOf(ke)===Ae})}function fe(X,ke,Ae){if(1===X.nodeType){var Ne=ne.getComputedStyle(X,null);return ke?Ae?Ne.getPropertyValue(ke):Ne[ke]:Ne}}function ce(X,ke){return parseInt(fe(X,ke),10)||0}k.hasClass=function(X){var ke=ee(X),Ae=!1;return ke.length&&this.each(function(Ne,he){return!(Ae=he.classList.contains(ke[0]))}),Ae},k.removeAttr=function(X){var ke=ee(X);return ke.length?this.each(function(Ae,Ne){N(ke,function(he){Ne.removeAttribute(he)})}):this},k.attr=function(X,ke){if(X){if(l(X)){if(arguments.length<2){if(!this[0])return;var Ae=this[0].getAttribute(X);return null===Ae?void 0:Ae}return null===ke?this.removeAttr(X):this.each(function(he,Be){Be.setAttribute(X,ke)})}for(var Ne in X)this.attr(Ne,X[Ne]);return this}},k.toggleClass=function(X,ke){var Ae=ee(X),Ne=void 0!==ke;return Ae.length?this.each(function(he,Be){N(Ae,function(Ve){Ne?ke?Be.classList.add(Ve):Be.classList.remove(Ve):Be.classList.toggle(Ve)})}):this},k.addClass=function(X){return this.toggleClass(X,!0)},k.removeClass=function(X){return arguments.length?this.toggleClass(X,!1):this.attr("class","")},_.unique=De,k.add=function(X,ke){return _(De(this.get().concat(_(X,ke).get())))};var Ce=/^--/;function Se(X){return Ce.test(X)}var se={},ue=Z&&Z.createElement("div"),xe=ue?ue.style:{},re=["webkit","moz","ms","o"];function J(X,ke){if(void 0===ke&&(ke=Se(X)),ke)return X;if(!se[X]){var Ae=j(X),Ne=""+Ae.charAt(0).toUpperCase()+Ae.slice(1);N((Ae+" "+re.join(Ne+" ")+Ne).split(" "),function(he){if(he in xe)return se[X]=he,!1})}return se[X]}_.prefixedProp=J;var $={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function V(X,ke,Ae){return void 0===Ae&&(Ae=Se(X)),Ae||$[X]||!y(ke)?ke:ke+"px"}k.css=function(X,ke){if(l(X)){var Ae=Se(X);return X=J(X,Ae),arguments.length<2?this[0]&&fe(this[0],X,Ae):X?(ke=V(X,ke,Ae),this.each(function(he,Be){1===Be.nodeType&&(Ae?Be.style.setProperty(X,ke):Be.style[X]=ke)})):this}for(var Ne in X)this.css(Ne,X[Ne]);return this};var S="__cashData",O=/^data-(.*)/;function z(X){return X[S]=X[S]||{}}function n(X,ke){var Ae=z(X);if(ke){if(!(ke in Ae)){var Ne=X.dataset?X.dataset[ke]||X.dataset[j(ke)]:_(X).attr("data-"+ke);if(void 0!==Ne){try{Ne=JSON.parse(Ne)}catch(he){}Ae[ke]=Ne}}return Ae[ke]}return Ae}function m(X,ke){return ce(X,"border"+(ke?"Left":"Top")+"Width")+ce(X,"padding"+(ke?"Left":"Top"))+ce(X,"padding"+(ke?"Right":"Bottom"))+ce(X,"border"+(ke?"Right":"Bottom")+"Width")}function s(X,ke){for(var Ae=0,Ne=ke.length;Ae<Ne;Ae++)if(X.indexOf(ke[Ae])<0)return!1;return!0}function E(X,ke,Ae){N(X[Ae],function(Ne){ke.removeEventListener(Ae,Ne[1])}),delete X[Ae]}_.hasData=function(X){return S in X},k.data=function(X,ke){var Ae=this;if(!X)return this[0]?(N(this[0].attributes,function(he){var Be=he.name.match(O);Be&&Ae.data(Be[1])}),n(this[0])):void 0;if(l(X))return void 0===ke?this[0]&&n(this[0],X):this.each(function(he,Be){return tt=X,dt=ke,void(z(Be)[tt]=dt);var tt,dt});for(var Ne in X)this.data(Ne,X[Ne]);return this},k.removeData=function(X){return this.each(function(ke,Ae){return Ne=Ae,void(void 0===(he=X)?delete Ne[S]:delete z(Ne)[he]);var Ne,he})},N(["Width","Height"],function(X){k["inner"+X]=function(){if(this[0])return this[0]===ne?ne["inner"+X]:this[0]["client"+X]}}),N(["width","height"],function(X,ke){k[X]=function(Ae){return this[0]?arguments.length?(Ae=parseInt(Ae,10),this.each(function(Ne,he){if(1===he.nodeType){var Be=fe(he,"boxSizing");he.style[X]=V(X,Ae+("border-box"===Be?m(he,!ke):0))}})):this[0]===ne?this[0][j("outer-"+X)]:this[0].getBoundingClientRect()[X]-m(this[0],!ke):void 0===Ae?void 0:this}}),N(["Width","Height"],function(X,ke){k["outer"+X]=function(Ae){if(this[0])return this[0]===ne?ne["outer"+X]:this[0]["offset"+X]+(Ae?ce(this[0],"margin"+(ke?"Top":"Left"))+ce(this[0],"margin"+(ke?"Bottom":"Right")):0)}});var W="__cashEvents";function Ee(X){return X[W]=X[W]||{}}function be(X){var ke=X.split(".");return[ke[0],ke.slice(1).sort()]}function de(X,ke,Ae,Ne){var he=Ee(X);if(ke){var Be=he[ke];if(!Be)return;Ne&&(Ne.guid=Ne.guid||H++),he[ke]=Be.filter(function(Ve){var dt=Ve[1];if(Ne&&dt.guid!==Ne.guid||!s(Ve[0],Ae))return!0;X.removeEventListener(ke,dt)})}else if(Ae&&Ae.length)for(ke in he)de(X,ke,Ae,Ne);else for(ke in he)E(he,X,ke)}k.off=function(X,ke){var Ae=this;return void 0===X?this.each(function(Ne,he){return de(he)}):N(ee(X),function(Ne){var he=be(Ne),Be=he[0],Ve=he[1];Ae.each(function(tt,dt){return de(dt,Be,Ve,ke)})}),this},k.on=function(X,ke,Ae,Ne){var he=this;if(!l(X)){for(var Be in X)this.on(Be,ke,X[Be]);return this}return d(ke)&&(Ae=ke,ke=!1),N(ee(X),function(Ve){var tt=be(Ve),dt=tt[0],vt=tt[1];he.each(function(Xe,ft){var je=function st(te){if(!te.namespace||s(vt,te.namespace.split("."))){var Ge=ft;if(ke){for(var B=te.target;!v(B,ke);)if(B===ft||!(B=B.parentNode))return;Ge=B}te.namespace=te.namespace||"";var F=Ae.call(Ge,te,te.data);Ne&&de(ft,dt,vt,st),!1===F&&(te.preventDefault(),te.stopPropagation())}};je.guid=Ae.guid=Ae.guid||H++,function(st,te,Ge,B){B.guid=B.guid||H++;var F=Ee(st);F[te]=F[te]||[],F[te].push([Ge,B]),st.addEventListener(te,B)}(ft,dt,vt,je)})}),this},k.one=function(X,ke,Ae){return this.on(X,ke,Ae,!0)},k.ready=function(X){var ke=function(){return X(_)};return"loading"!==Z.readyState?setTimeout(ke):Z.addEventListener("DOMContentLoaded",ke),this},k.trigger=function(X,ke){var Ae=X;if(l(X)){var Ne=be(X),he=Ne[0],Be=Ne[1];(Ae=Z.createEvent("HTMLEvents")).initEvent(he,!0,!0),Ae.namespace=Be.join(".")}return Ae.data=ke,this.each(function(Ve,tt){tt.dispatchEvent(Ae)})};var _e=/select-one/i,Pe=/select-multiple/i;function He(X){var Ae,ke=X.type;return _e.test(ke)?(Ae=X).selectedIndex<0?null:Ae.options[Ae.selectedIndex].value:Pe.test(ke)?function(Ae){var Ne=[];return N(Ae.options,function(he){!he.selected||he.disabled||he.parentNode.disabled||Ne.push(he.value)}),Ne}(X):X.value}var ut=/%20/g,rt=/file|reset|submit|button|image/i,G=/radio|checkbox/i;k.serialize=function(){var X="";return this.each(function(ke,Ae){N(Ae.elements||[Ae],function(Ne){if(!Ne.disabled&&Ne.name&&"FIELDSET"!==Ne.tagName&&!rt.test(Ne.type)&&(!G.test(Ne.type)||Ne.checked)){var he=He(Ne);void 0!==he&&N(g(he)?he:[he],function(Be){var tt;X+=(tt=Be,"&"+encodeURIComponent(Ne.name)+"="+encodeURIComponent(tt).replace(ut,"+"))})}})}),X.substr(1)},k.val=function(X){return void 0===X?this[0]&&He(this[0]):this.each(function(ke,Ae){var Ne=Pe.test(Ae.type),he=null===X?Ne?[]:"":X;Ne&&g(he)?N(Ae.options,function(Be){Be.selected=he.indexOf(Be.value)>=0}):Ae.value=he})},k.clone=function(){return this.map(function(X,ke){return ke.cloneNode(!0)})},k.detach=function(){return this.each(function(X,ke){ke.parentNode&&ke.parentNode.removeChild(ke)})};var ae,Oe=/^\s*<(\w+)[^>]*>/,ze=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function qe(X){if(function(){if(!ae){var Ne=Z.createElement("table"),he=Z.createElement("tr");ae={"*":Z.createElement("div"),tr:Z.createElement("tbody"),td:he,th:he,thead:Ne,tbody:Ne,tfoot:Ne}}}(),!l(X))return[];if(ze.test(X))return[Z.createElement(RegExp.$1)];var ke=Oe.test(X)&&RegExp.$1,Ae=ae[ke]||ae["*"];return Ae.innerHTML=X,_(Ae.childNodes).detach().get()}function Je(X,ke,Ae){if(void 0!==ke){var Ne=l(ke);!Ne&&ke.length?N(ke,function(he){return Je(X,he,Ae)}):N(X,Ne?function(he){he.insertAdjacentHTML(Ae?"afterbegin":"beforeend",ke)}:function(he,Be){return Ve=he,tt=Be?ke.cloneNode(!0):ke,void(Ae?Ve.insertBefore(tt,Ve.childNodes[0]):Ve.appendChild(tt));var Ve,tt})}}_.parseHTML=qe,k.empty=function(){var X=this[0];if(X)for(;X.firstChild;)X.removeChild(X.firstChild);return this},k.append=function(){var X=this;return N(arguments,function(ke){Je(X,ke)}),this},k.appendTo=function(X){return Je(_(X),this),this},k.html=function(X){if(void 0===X)return this[0]&&this[0].innerHTML;var ke=X.nodeType?X[0].outerHTML:X;return this.each(function(Ae,Ne){Ne.innerHTML=ke})},k.insertAfter=function(X){var ke=this;return _(X).each(function(Ae,Ne){var he=Ne.parentNode;ke.each(function(Be,Ve){he.insertBefore(Ae?Ve.cloneNode(!0):Ve,Ne.nextSibling)})}),this},k.after=function(){var X=this;return N(h.apply(arguments),function(ke){h.apply(_(ke).slice()).insertAfter(X)}),this},k.insertBefore=function(X){var ke=this;return _(X).each(function(Ae,Ne){var he=Ne.parentNode;ke.each(function(Be,Ve){he.insertBefore(Ae?Ve.cloneNode(!0):Ve,Ne)})}),this},k.before=function(){var X=this;return N(arguments,function(ke){_(ke).insertBefore(X)}),this},k.prepend=function(){var X=this;return N(arguments,function(ke){Je(X,ke,!0)}),this},k.prependTo=function(X){return Je(_(X),h.apply(this.slice()),!0),this},k.remove=function(){return this.detach().off()},k.replaceWith=function(X){var ke=this;return this.each(function(Ae,Ne){var he=Ne.parentNode;if(he){var Be=Ae?_(X).clone():_(X);if(!Be[0])return ke.remove(),!1;he.replaceChild(Be[0],Ne),_(Be[0]).after(Be.slice(1))}})},k.replaceAll=function(X){return _(X).replaceWith(this),this},k.text=function(X){return void 0===X?this[0]?this[0].textContent:"":this.each(function(ke,Ae){Ae.textContent=X})};var ot=Z&&Z.documentElement;k.offset=function(){var X=this[0];if(X){var ke=X.getBoundingClientRect();return{top:ke.top+ne.pageYOffset-ot.clientTop,left:ke.left+ne.pageXOffset-ot.clientLeft}}},k.offsetParent=function(){return _(this[0]&&this[0].offsetParent)},k.position=function(){var X=this[0];if(X)return{left:X.offsetLeft,top:X.offsetTop}},k.children=function(X){var ke=[];return this.each(function(Ae,Ne){c.apply(ke,Ne.children)}),ke=_(De(ke)),X?ke.filter(function(Ae,Ne){return v(Ne,X)}):ke},k.contents=function(){var X=[];return this.each(function(ke,Ae){c.apply(X,"IFRAME"===Ae.tagName?[Ae.contentDocument]:Ae.childNodes)}),_(X.length&&De(X))},k.find=function(X){for(var ke=[],Ae=0,Ne=this.length;Ae<Ne;Ae++){var he=A(X,this[Ae]);he.length&&c.apply(ke,he)}return _(ke.length&&De(ke))},k.has=function(X){var ke=l(X)?function(Ae,Ne){return!!A(X,Ne).length}:function(Ae,Ne){return Ne.contains(X)};return this.filter(ke)},k.is=function(X){if(!X||!this[0])return!1;var ke=L(X),Ae=!1;return this.each(function(Ne,he){return!(Ae=ke(Ne,he,X))}),Ae},k.next=function(){return _(this[0]&&this[0].nextElementSibling)},k.not=function(X){if(!X||!this[0])return this;var ke=L(X);return this.filter(function(Ae,Ne){return!ke(Ae,Ne,X)})},k.parent=function(){var X=[];return this.each(function(ke,Ae){Ae&&Ae.parentNode&&X.push(Ae.parentNode)}),_(De(X))},k.index=function(X){var ke=X?_(X)[0]:this[0],Ae=X?this:_(ke).parent().children();return M.call(Ae,ke)},k.closest=function(X){return X&&this[0]?this.is(X)?this.filter(X):this.parent().closest(X):_()},k.parents=function(X){var ke,Ae=[];return this.each(function(Ne,he){for(ke=he;ke&&ke.parentNode&&ke!==Z.body.parentNode;)ke=ke.parentNode,(!X||X&&v(ke,X))&&Ae.push(ke)}),_(De(Ae))},k.prev=function(){return _(this[0]&&this[0].previousElementSibling)},k.siblings=function(){var X=this[0];return this.parent().children().filter(function(ke,Ae){return Ae!==X})},oe.default=_},function($e,oe){$e.exports=function(i,Z){return Z||(Z=i.slice(0)),Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(Z)}}))},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe,i){"use strict";i.d(oe,"a",function(){return A});var Z=i(5),ne=i.n(Z),Y=i(6),U=i.n(Y),M=i(8),x=i.n(M),c=i(9),h=i.n(c),u=i(4),p=i.n(u),f=i(0),P=i(2),w=i(16),A=function(R){x()(k,R);var _=function b(R){var _=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(k){return!1}}();return function(){var k,T=p()(R);if(_){var C=p()(this).constructor;k=Reflect.construct(T,arguments,C)}else k=T.apply(this,arguments);return h()(this,k)}}(k);function k(){return ne()(this,k),_.apply(this,arguments)}return U()(k,[{key:"modelId",value:function(T){return"".concat(T.name,"_").concat(T.type||w.a.TYPE_CLASS)}},{key:"getStyleable",value:function(){return Object(f.filter)(this.models,function(T){return T.get("active")&&!T.get("private")})}},{key:"getValid",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=T.noDisabled;return Object(f.filter)(this.models,function(j){return!j.get("private")}).filter(function(j){return C?j.get("active"):1})}},{key:"getFullString",value:function(T){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=[],N=T||this;return N.forEach(function(H){return j.push(H.getFullName(C))}),j.join("").trim()}}]),k}(P.Collection);A.prototype.model=w.a},function($e,oe,i){"use strict";var Z=i(3),ne=i.n(Z),Y=i(11),U=i.n(Y),M=i(0),x=i(1);function c(u,p){var f=Object.keys(u);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(u);p&&(P=P.filter(function(w){return Object.getOwnPropertyDescriptor(u,w).enumerable})),f.push.apply(f,P)}return f}function h(u){for(var p=1;p<arguments.length;p++){var f=null!=arguments[p]?arguments[p]:{};p%2?c(Object(f),!0).forEach(function(P){ne()(u,P,f[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(f)):c(Object(f)).forEach(function(P){Object.defineProperty(u,P,Object.getOwnPropertyDescriptor(f,P))})}return u}oe.a={getConfig:function(u){return this.__getConfig(u)},__getConfig:function(u){var p=this.config||{};return u?p[u]:p},getAll:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.all?u.array?U()(this.all.models):this.all:[]},getAllMap:function(){return this.getAll().reduce(function(u,p){return u[p.get(p.idAttribute)]=p,u},{})},__initConfig:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=h(h({},u),p),this.em=this.config.em},__initListen:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=this.all,f=this.em,P=this.events;p&&f&&p.on("add",function(w,b,A){return f.trigger(P.add,w,A)}).on("remove",function(w,b,A){return f.trigger(P.remove,w,A)}).on("change",function(w,b){return f.trigger(P.update,w,w.changedAttributes(),b)}).on("all",this.__catchAllEvent,this),this.cls=[p].concat(u.collections||[]),(u.propagate||[]).forEach(function(w){var A=w.event;w.entity.on("all",function(R,_,k,T){var C=h({event:R},T||k);[f,p].map(function(j){return j.trigger(A,_,C)})})})},__remove:function(u){var p=this,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=this.em,w=Object(M.isString)(u)?this.get(u):u,b=function(){return w&&p.all.remove(w,f),w};return!f.silent&&P&&P.trigger(this.events.removeBefore,w,b,f),!f.abort&&b()},__catchAllEvent:function(u,p,f,P){var w=this.em,b=this.events;w&&b.all&&w.trigger(b.all,{event:u,model:p,options:P||f}),this.__onAllEvent()},__appendTo:function(){var u=this.getConfig().appendTo;if(u){var p=Object(M.isElement)(u)?u:document.querySelector(u);if(!p)return this.__logWarn('"appendTo" element not found');p.appendChild(this.render())}},__onAllEvent:function(){},__logWarn:function(u){this.em.logWarning("[".concat(this.name,"]: ").concat(u))},_createId:function(){var u,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,f=this.getAll(),P=f.length+p,w=this.getAllMap();do{u=Object(x.createId)(P)}while(w[u]);return u},__destroy:function(){this.cls.forEach(function(u){u.stopListening(),u.reset()}),this.em=0}}},function($e,oe,i){var Z=i(82);$e.exports=function(ne,Y){if(null==ne)return{};var U,M,x=Z(ne,Y);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(ne);for(M=0;M<c.length;M++)Y.indexOf(U=c[M])>=0||Object.prototype.propertyIsEnumerable.call(ne,U)&&(x[U]=ne[U])}return x},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe,i){"use strict";i.r(oe);var Z=i(14),ne=i.n(Z),Y=i(3),U=i.n(Y),M=i(2),x=i.n(M),c=i(0),h=i(1),u=i(13),p=i(29);function f(j,N){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(j);N&&(v=v.filter(function(d){return Object.getOwnPropertyDescriptor(j,d).enumerable})),H.push.apply(H,v)}return H}function P(j){for(var N=1;N<arguments.length;N++){var H=null!=arguments[N]?arguments[N]:{};N%2?f(Object(H),!0).forEach(function(v){U()(j,v,H[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(H)):f(Object(H)).forEach(function(v){Object.defineProperty(j,v,Object.getOwnPropertyDescriptor(H,v))})}return j}var w=x.a.View.extend({events:function(){return this.model.get("events")||{mousedown:"handleClick"}},attributes:function(){return this.model.get("attributes")},initialize:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},N=j.config,H=void 0===N?{}:N;this.em=H.em,this.editor=H.editor},handleClick:function(j){j.preventDefault(),j.stopPropagation();var H=this.em,v=this.editor.Canvas.getFrameEl().getBoundingClientRect(),d=v.left,l=v.top,y=P(P({},j),{},{clientX:j.clientX-d,clientY:j.clientY-l});H.trigger("toolbar:run:before"),this.execCommand(y)},execCommand:function(j){var N={event:j},H=this.model.get("command"),v=this.editor;"function"==typeof H&&H(v,null,N),"string"==typeof H&&v.runCommand(H,N)},render:function(){var j=this.editor,N=this.$el,H=this.model,v=H.get("id"),d=H.get("label"),l=j.getConfig("stylePrefix");return N.addClass("".concat(l,"toolbar-item")),v&&N.addClass("".concat(l,"toolbar-item__").concat(v)),d&&N.append(d),this}}),b=p.a.extend({itemView:w,initialize:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config={editor:j.editor||"",em:j.em},this.listenTo(this.collection,"reset",this.render)}}),A=x.a.Model.extend({defaults:{command:"",attributes:{}}}),R=x.a.Collection.extend({model:A});function _(j,N){var H=Object.keys(j);if(Object.getOwnPropertySymbols){var v=Object.getOwnPropertySymbols(j);N&&(v=v.filter(function(d){return Object.getOwnPropertyDescriptor(j,d).enumerable})),H.push.apply(H,v)}return H}function k(j){for(var N=1;N<arguments.length;N++){var H=null!=arguments[N]?arguments[N]:{};N%2?_(Object(H),!0).forEach(function(v){U()(j,v,H[v])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(H)):_(Object(H)).forEach(function(v){Object.defineProperty(j,v,Object.getOwnPropertyDescriptor(H,v))})}return j}var T,C=x.a.$;oe.default={init:function(j){Object(c.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),T=1},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(j){var N=this,H=this.em,v=H.getConfig("listenToEl"),d=H.getContainer().parentNode,l=j?"on":"off",y={on:h.on,off:h.off};!v.length&&d&&v.push(d),y[l](window,"resize",this.onFrameUpdated),y[l](v,"scroll",this.onContainerChange),H[l]("component:toggled component:update",this.onSelect,this),H[l]("change:componentHovered",this.onHovered,this),H[l]("component:resize component:styleUpdate component:input",this.updateGlobalPos,this),H[l]("component:update:toolbar",this._upToolbar,this),H[l]("change:canvasOffset",this.updateAttached,this),H[l]("frame:updated",this.onFrameUpdated,this),H[l]("canvas:updateTools",this.onFrameUpdated,this),H.get("Canvas").getFrames().forEach(function(g){var L,K,ee=g.view;ee&&(L=ee.getWindow(),K=ee.getBody(),y[l](K,"mouseover",N.onHover),y[l](K,"mouseleave",N.onOut),y[l](K,"click touchend",N.onClick),y[l](L,"scroll",N.onFrameScroll,!0))})},onHover:function(j){j.stopPropagation();var N=j.target,H=Object(h.getViewEl)(N),v=H&&H._getFrame(),d=C(N),l=d.data("model");if(!l)for(var y=d.parent();!l&&y.length&&!Object(u.i)(y[0]);)l=y.data("model"),y=y.parent();if(l&&!l.get("hoverable")){for(var g=l&&l.parent();g&&!g.get("hoverable");)g=g.parent();l=g}this.currentDoc=N.ownerDocument,this.em.setHovered(l),v&&this.em.set("currentFrame",v)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(j,N){var H=this,v={};N?N.views.forEach(function(d){var l=d.el,y=H.getElementPos(l);v={el:l,pos:y,component:N,view:Object(h.getViewEl)(l)},H.updateToolsLocal(v),l.ownerDocument===H.currentDoc&&(H.elHovered=v)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(d){var l=d.view,y=l&&l.getToolsEl();y&&H.toggleToolsEl(0,0,{el:y})}))},onSelect:Object(c.debounce)(function(){var j=this.em,N=j.getSelected(),H=j.get("currentFrame")||{},v=N&&N.getView(H.model),d=v&&v.el,l={};d&&Object(u.j)(d)&&(l={el:d,pos:this.getElementPos(d),component:N,view:Object(h.getViewEl)(d)}),this.elSelected=l,this.updateToolsGlobal(),this.updateLocalPos(l),this.initResize(N)}),updateGlobalPos:function(){var j=this.getElSelected();j.el&&(j.pos=this.getElementPos(j.el),this.updateToolsGlobal())},updateLocalPos:function(j){var N=this.getElHovered();N.el&&(N.pos=this.getElementPos(N.el),this.updateToolsLocal(j))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered(0)},toggleToolsEl:function(j,N){var H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},v=H.el||this.canvas.getToolsEl(N);return v&&(v.style.display=j?"":"none"),v||{}},showElementOffset:function(j,N){var H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};T&&this.editor.runCommand("show-offset",{el:j,elPos:N,view:H.view,force:1,top:0,left:0})},hideElementOffset:function(j){this.editor.stopCommand("show-offset",{view:j})},showFixedElementOffset:function(j,N){this.editor.runCommand("show-offset",{el:j,elPos:N,state:"Fixed"})},hideFixedElementOffset:function(j,N){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(j){this.canvas.getHighlighter(j).style.opacity=0},onClick:function(j){j.stopPropagation(),j.preventDefault();var N=this.em;if(N.get("_cmpDrag"))return N.set("_cmpDrag");var H=C(j.target),v=H.data("model");if(!v)for(var d=H.parent();!v&&d.length&&!Object(u.i)(d[0]);)v=d.data("model"),d=d.parent();if(v)if(v.get("selectable"))this.select(v,j);else{for(var l=v.parent();l&&!l.get("selectable");)l=l.parent();this.select(l,j)}},select:function(j){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j&&(this.editor.select(j,{scroll:{},event:N}),this.initResize(j))},updateBadge:function(j,N){var H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},v=this.canvas,d=C(j).data("model");if(d&&d.get("badgable")){var l=this.getBadge(H);if(!H.posOnly){var y=this.canvas.getConfig(),g=d.getIcon(),L=y.pStylePrefix||"",K="".concat(L,"badge"),ee=y.customBadgeLabel,De="".concat(g?'<div class="'.concat(K,'__icon">').concat(g,"</div>"):"",'\n        <div class="').concat(K,'__name">').concat(d.getName(),"</div>");l.innerHTML=ee?ee(d):De}var fe="px",ce=l.style;ce.display="block";var Ce=v.getTargetToElementFixed(j,l,{pos:N}),Se=Ce.top,se=H.leftOff<0?-H.leftOff:0;ce.top=Se+fe,ce.left=se+fe}},showHighlighter:function(j){this.canvas.getHighlighter(j).style.opacity=""},initResize:function(j){var N,H=this.em,v=this.canvas,d=H?H.get("Editor"):"",l=(H?H.get("Config"):"").stylePrefix||"",y="".concat(l,"resizing"),g=!Object(c.isElement)(j)&&Object(h.isTaggableNode)(j)?j:H.getSelected(),L=g&&g.get("resizable"),K={},ee=function(fe,ce,Ce){var Se=Ce.docs;Se&&Se.forEach(function(se){var ue=se.body,xe=ue.className||"";ue.className=("add"==fe?"".concat(xe," ").concat(y):xe.replace(y,"")).trim()})};if(d&&L){var De=Object(c.isElement)(j)?j:g.getEl();K={onStart:function(fe){var ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ce=ce.el,Se=ce.config,se=ce.resizer,ue=Se.keyHeight,xe=Se.keyWidth,re=Se.currentUnit,J=Se.keepAutoHeight,$=Se.keepAutoWidth;ee("add",0,ce),N=H.get("StyleManager").getModelToStyle(g),v.toggleFramesEvents();var V=getComputedStyle(Ce),S=N.getStyle(),O=S[xe];Se.autoWidth=$&&"auto"===O,isNaN(parseFloat(O))&&(O=V[xe]);var z=S[ue];Se.autoHeight=J&&"auto"===z,isNaN(parseFloat(z))&&(z=V[ue]),se.startDim.w=parseFloat(O),se.startDim.h=parseFloat(z),T=0,re&&(Se.unitHeight=Object(h.getUnitFromValue)(z),Se.unitWidth=Object(h.getUnitFromValue)(O))},onMove:function(){d.trigger("component:resize")},onEnd:function(fe,ce){ee("remove",0,ce),d.trigger("component:resize"),v.toggleFramesEvents(1),T=1},updateTarget:function(fe,ce){var Ce=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(N){var Se=Ce.store,se=Ce.selectedHandler,ue=Ce.config,xe=ue.keyHeight,re=ue.keyWidth,J=ue.autoHeight,$=ue.autoWidth,V=ue.unitWidth,S=ue.unitHeight,O=["tc","bc"].indexOf(se)>=0,z=["cl","cr"].indexOf(se)>=0,n={},m=Se?"":1;if(!O){var s=v.getBody().offsetWidth,E=ce.w<s?ce.w:s;n[re]=$?"auto":"".concat(E).concat(V)}z||(n[xe]=J?"auto":"".concat(ce.h).concat(S)),N.addStyle(k(k({},n),{},{en:m}),{avoidStore:!Se});var W="update:component:style",pe="".concat(W,":").concat(xe," ").concat(W,":").concat(re);H&&H.trigger(pe,null,null,{noEmit:1})}}},"object"==ne()(L)&&(K=k(k(k({},K),L),{},{parent:K})),this.resizer=d.runCommand("resize",{el:De,options:K,force:1})}else d.stopCommand("resize"),this.resizer=null},updateToolbar:function(j){var N=this.config.em,H=j==N?N.getSelected():j,v=this.canvas.getToolbarEl(),d=v.style,l=H.get("toolbar"),y=N.get("Config").showToolbar;if(H&&y&&l&&l.length){if(d.display="",!this.toolbar){v.innerHTML="",this.toolbar=new R(l);var g=new b({collection:this.toolbar,editor:this.editor,em:N});v.appendChild(g.render().el)}this.toolbar.reset(l),d.top="-100px",d.left=0}else d.display="none"},updateToolbarPos:function(j){var H=this.canvas.getToolbarEl().style;H.top="".concat(j.top).concat("px"),H.left="".concat(j.left).concat("px"),H.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.canvas.getBadgeEl(j.view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(j){return j&&"selected"===j.get("status")},updateToolsLocal:function(j){var N=j||this.getElHovered(),H=N.el,v=N.pos,d=N.view,l=N.component;if(H){var y=l.get("hoverable"),g=this.lastHovered!==H,L=g?{}:{posOnly:1};g&&y&&(this.lastHovered=H,this.showHighlighter(d),this.showElementOffset(H,v,{view:d})),this.isCompSelected(l)&&(this.hideHighlighter(d),this.hideElementOffset(d));var K="px",ee=this.toggleToolsEl(1,d),De=ee.style,fe=this.canvas.canvasRectOffset(H,v),ce=fe.top,Ce=fe.left;this.updateBadge(H,v,k(k({},L),{},{view:d,topOff:ce,leftOff:Ce})),De.top=ce+K,De.left=Ce+K,De.width=v.width+K,De.height=v.height+K,this._trgToolUp("local",{component:l,el:ee,top:ce,left:Ce,width:v.width,height:v.height})}else this.lastHovered=0},_upToolbar:Object(c.debounce)(function(){this.updateToolsGlobal({force:1})}),_trgToolUp:function(j){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.em.trigger("canvas:tools:update",k({type:j},N))},updateToolsGlobal:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},N=this.getElSelected(),H=N.el,v=N.pos,d=N.component;if(!H)return this.toggleToolsEl(),void(this.lastSelected=0);var l=this.canvas,y=this.lastSelected!==H;(y||j.force)&&(this.lastSelected=H,this.updateToolbar(d));var g="px",L=this.toggleToolsEl(1),K=L.style,ee=l.getTargetToElementFixed(H,l.getToolbarEl(),{pos:v}),De=ee.canvasOffsetTop,fe=ee.canvasOffsetLeft;K.top=De+g,K.left=fe+g,K.width=v.width+g,K.height=v.height+g,this.updateToolbarPos({top:ee.top,left:ee.left}),this._trgToolUp("global",{component:d,el:L,top:De,left:fe,width:v.width,height:v.height})},updateAttached:Object(c.debounce)(function(){this.updateGlobalPos()}),onContainerChange:Object(c.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(j){return this.canvas.getCanvasView().getElementPos(j)},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(j){j&&j.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(j){Object(h.hasWin)()&&(this.editor=j&&j.get("Editor"),this.enable())},stop:function(j,N){var H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Object(h.hasWin)()){var v=this.em,d=this.editor;this.onHovered(),this.stopSelectComponent(),!H.preserveSelected&&v.setSelected(null),this.toggleToolsEl(),d&&d.stopCommand("resize")}}}},function($e,oe,i){"use strict";i.d(oe,"a",function(){return f});var Z=i(3),ne=i.n(Z),Y=i(5),U=i.n(Y),M=i(6),x=i.n(M),c=i(0),h=i(1);function u(P,w){var b=Object.keys(P);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(P);w&&(A=A.filter(function(R){return Object.getOwnPropertyDescriptor(P,R).enumerable})),b.push.apply(b,A)}return b}function p(P){for(var w=1;w<arguments.length;w++){var b=null!=arguments[w]?arguments[w]:{};w%2?u(Object(b),!0).forEach(function(A){ne()(P,A,b[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(A){Object.defineProperty(P,A,Object.getOwnPropertyDescriptor(b,A))})}return P}var f=function(){function P(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return U()(this,P),this.opts={container:null,onStart:null,onDrag:null,onEnd:null,setPosition:null,getPosition:null,guidesStatic:null,guidesTarget:null,snapOffset:5,doc:0,scale:1},Object(c.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(w),this.delta={x:0,y:0},this}return x()(P,[{key:"setOptions",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=p(p({},this.opts),w)}},{key:"toggleDrag",value:function(w){var b=this.getDocumentEl(),A=this.getContainerEl(),R=this.getWindowEl(),_=w?"on":"off",k={on:h.on,off:h.off};k[_](A,"mousemove dragover",this.drag),k[_](b,"mouseup dragend touchend",this.stop),k[_](b,"keydown",this.keyHandle),k[_](R,"scroll",this.handleScroll)}},{key:"handleScroll",value:function(){var w=this.lastScroll,b=this.delta,A=this.getScrollInfo(),R={x:A.x-w.x,y:A.y-w.y};this.move(b.x+R.x,b.y+R.y),this.lastScrollDiff=R}},{key:"start",value:function(w){var b=this.opts,A=b.onStart;this.toggleDrag(1),this.startPointer=this.getPointerPos(w),this.guidesStatic=Object(c.result)(b,"guidesStatic")||[],this.guidesTarget=Object(c.result)(b,"guidesTarget")||[],Object(c.isFunction)(A)&&A(w,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(w)}},{key:"drag",value:function(w){var b=this,A=this.opts,R=this.lastScrollDiff,_=this.globScrollDiff,k=A.onDrag,T=this.startPointer,C=this.getPointerPos(w),j={x:_.x+R.x,y:_.y+R.y};this.globScrollDiff=j;var N={x:C.x-T.x+j.x,y:C.y-T.y+j.y};this.lastScrollDiff={x:0,y:0};var H=this.lockedAxis;"x"===(H=w.shiftKey?!H&&this.detectAxisLock(N.x,N.y):null)?N.x=T.x:"y"===H&&(N.y=T.y);var v=function(K){["x","y"].forEach(function(ee){return K[ee]=K[ee]*Object(c.result)(A,"scale")}),b.delta=K,b.move(K.x,K.y),Object(c.isFunction)(k)&&k(w,b)},d=p({},N);if(this.currentPointer=C,this.lockedAxis=H,this.lastScroll=this.getScrollInfo(),v(N),this.guidesTarget.length){var l=this.snapGuides(d);(l.trgX||l.trgY)&&v(l.newDelta)}0===w.which&&this.stop(w)}},{key:"snapGuides",value:function(w){var b=this,A=w,R=this.trgX,_=this.trgY;return this.guidesTarget.forEach(function(k){k.x&&b.trgX||k.y&&b.trgY||(k.active=0,b.guidesStatic.forEach(function(T){if(!(k.y&&T.x||k.x&&T.y)){var C=k.y&&T.y,j=C?"y":"x",N=k[j],H=T[j],v=w[j],d=C?_:R;b.isPointIn(N,H)&&Object(c.isUndefined)(d)&&b.setGuideLock(k,v-(N-H))}}))}),R=this.trgX,_=this.trgY,["x","y"].forEach(function(k){var T=k.toUpperCase(),C=b["trg".concat(T)];C&&!b.isPointIn(w[k],C.lock)&&(b.setGuideLock(C,null),C=null),C&&!Object(c.isUndefined)(C.lock)&&(A[k]=C.lock)}),{newDelta:A,trgX:this.trgX,trgY:this.trgY}}},{key:"isPointIn",value:function(w,b){var A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},R=A.offset,_=R||this.opts.snapOffset;return w>=b&&w<=b+_||w<=b&&w>=b-_}},{key:"setGuideLock",value:function(w,b){var A=Object(c.isUndefined)(w.x)?"Y":"X",R="trg".concat(A);return null!==b?(w.active=1,w.lock=b,this[R]=w):(delete w.active,delete w.lock,delete this[R]),w}},{key:"stop",value:function(w){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},A=this.delta,R=b.cancel,_=R?0:A.x,k=R?0:A.y;this.toggleDrag(),this.lockedAxis=null,this.move(_,k,1);var T=this.opts.onEnd;Object(c.isFunction)(T)&&T(w,this,{cancelled:R})}},{key:"keyHandle",value:function(w){Object(h.isEscKey)(w)&&this.stop(w,{cancel:1})}},{key:"move",value:function(w,b,A){var R=this.el,k=this.startPosition;if(k){var T=this.opts.setPosition,C=k.x+w,j=k.y+b;this.position={x:C,y:j,end:A},Object(c.isFunction)(T)&&T(this.position),R&&(R.style.left="".concat(C,"px"),R.style.top="".concat(j,"px"))}}},{key:"getContainerEl",value:function(){var w=this.opts.container;return w?[w]:this.getDocumentEl()}},{key:"getWindowEl",value:function(){return this.getContainerEl().map(function(w){var b=w.ownerDocument||w;return b.defaultView||b.parentWindow})}},{key:"getDocumentEl",value:function(w){var b=this.opts.doc;if(w=w||this.el,!this.docs){var A=[document];w&&A.push(w.ownerDocument),b&&A.push(b),this.docs=A}return this.docs}},{key:"getPointerPos",value:function(w){var b=this.opts.getPointerPosition,A=Object(h.getPointerEvent)(w);return b?b(w):{x:A.clientX,y:A.clientY}}},{key:"getStartPosition",value:function(){var w=this.el,b=this.opts.getPosition,A={x:0,y:0};return Object(c.isFunction)(b)?A=b():w&&(A={x:parseFloat(w.style.left),y:parseFloat(w.style.top)}),A}},{key:"getScrollInfo",value:function(){var w=this.opts.doc,b=w&&w.body;return{y:b?b.scrollTop:0,x:b?b.scrollLeft:0}}},{key:"detectAxisLock",value:function(w,b){var A=w,R=b,_=Math.abs(A),k=Math.abs(R);return R>=_||R<=-_?"x":A>k||A<-k?"y":void 0}}]),P}()},function($e,oe,i){"use strict";var Z=i(2),ne=i.n(Z),Y=ne.a.$;oe.a=ne.a.View.extend({events:{change:"handleChange"},template:function(){return'<span class="'.concat(this.holderClass(),'"></span>')},inputClass:function(){return"".concat(this.ppfx,"field")},holderClass:function(){return"".concat(this.ppfx,"input-holder")},initialize:function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M=U.ppfx||"";this.opts=U,this.ppfx=M,this.em=U.target||{},this.listenTo(this.model,"change:value",this.handleModelChange)},elementUpdated:function(){this.model.trigger("el:change")},setValue:function(U){var x=U||this.model.get("defaults"),c=this.getInputEl();c&&(c.value=x)},handleModelChange:function(U,M,x){this.setValue(M,x)},handleChange:function(U){U.stopPropagation();var M=this.getInputEl().value;this.__onInputChange(M),this.elementUpdated()},__onInputChange:function(U){this.model.set({value:U},{fromInput:1})},getInputEl:function(){if(!this.inputEl){var U=this.model,M=this.opts.type||"text",x=U.get("placeholder")||U.get("defaults")||U.get("default")||"";this.inputEl=Y('<input type="'.concat(M,'" placeholder="').concat(x,'">'))}return this.inputEl.get(0)},render:function(){this.inputEl=null;var U=this.$el;return U.addClass(this.inputClass()),U.html(this.template()),U.find(".".concat(this.holderClass())).append(this.getInputEl()),this}})},function($e,oe,i){$e.exports=i(93)},function($e,oe,i){$e.exports=function(){"use strict";var Z=navigator.userAgent,ne=navigator.platform,Y=/gecko\/\d/i.test(Z),U=/MSIE \d/.test(Z),M=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Z),x=/Edge\/(\d+)/.exec(Z),c=U||M||x,h=c&&(U?document.documentMode||6:+(x||M)[1]),u=!x&&/WebKit\//.test(Z),p=u&&/Qt\/\d+\.\d+/.test(Z),f=!x&&/Chrome\//.test(Z),P=/Opera\//.test(Z),w=/Apple Computer/.test(navigator.vendor),b=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(Z),A=/PhantomJS/.test(Z),R=w&&(/Mobile\/\w+/.test(Z)||navigator.maxTouchPoints>2),_=/Android/.test(Z),k=R||_||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(Z),T=R||/Mac/.test(ne),C=/\bCrOS\b/.test(Z),j=/win/i.test(ne),N=P&&Z.match(/Version\/(\d*\.\d*)/);N&&(N=Number(N[1])),N&&N>=15&&(P=!1,u=!0);var H=T&&(p||P&&(null==N||N<12.11)),v=Y||c&&h>=9;function d(e){return new RegExp("(^|\\s)"+e+"(?:$|\\s)\\s*")}var l,y=function(e,t){var o=e.className,r=d(t).exec(o);if(r){var a=o.slice(r.index+r[0].length);e.className=o.slice(0,r.index)+(a?r[1]+a:"")}};function g(e){for(var t=e.childNodes.length;t>0;--t)e.removeChild(e.firstChild);return e}function L(e,t){return g(e).appendChild(t)}function K(e,t,o,r){var a=document.createElement(e);if(o&&(a.className=o),r&&(a.style.cssText=r),"string"==typeof t)a.appendChild(document.createTextNode(t));else if(t)for(var D=0;D<t.length;++D)a.appendChild(t[D]);return a}function ee(e,t,o,r){var a=K(e,t,o,r);return a.setAttribute("role","presentation"),a}function De(e,t){if(3==t.nodeType&&(t=t.parentNode),e.contains)return e.contains(t);do{if(11==t.nodeType&&(t=t.host),t==e)return!0}while(t=t.parentNode)}function fe(){var e;try{e=document.activeElement}catch(t){e=document.body||null}for(;e&&e.shadowRoot&&e.shadowRoot.activeElement;)e=e.shadowRoot.activeElement;return e}function ce(e,t){var o=e.className;d(t).test(o)||(e.className+=(o?" ":"")+t)}function Ce(e,t){for(var o=e.split(" "),r=0;r<o.length;r++)o[r]&&!d(o[r]).test(t)&&(t+=" "+o[r]);return t}l=document.createRange?function(e,t,o,r){var a=document.createRange();return a.setEnd(r||e,o),a.setStart(e,t),a}:function(e,t,o){var r=document.body.createTextRange();try{r.moveToElementText(e.parentNode)}catch(a){return r}return r.collapse(!0),r.moveEnd("character",o),r.moveStart("character",t),r};var Se=function(e){e.select()};function se(e){var t=Array.prototype.slice.call(arguments,1);return function(){return e.apply(null,t)}}function ue(e,t,o){for(var r in t||(t={}),e)!e.hasOwnProperty(r)||!1===o&&t.hasOwnProperty(r)||(t[r]=e[r]);return t}function xe(e,t,o,r,a){null==t&&-1==(t=e.search(/[^\s\u00a0]/))&&(t=e.length);for(var D=r||0,Q=a||0;;){var ie=e.indexOf("\t",D);if(ie<0||ie>=t)return Q+(t-D);Q+=ie-D,Q+=o-Q%o,D=ie+1}}R?Se=function(e){e.selectionStart=0,e.selectionEnd=e.value.length}:c&&(Se=function(e){try{e.select()}catch(t){}});var re=function(){this.id=null,this.f=null,this.time=0,this.handler=se(this.onTimeout,this)};function J(e,t){for(var o=0;o<e.length;++o)if(e[o]==t)return o;return-1}re.prototype.onTimeout=function(e){e.id=0,e.time<=+new Date?e.f():setTimeout(e.handler,e.time-+new Date)},re.prototype.set=function(e,t){this.f=t;var o=+new Date+e;(!this.id||o<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,e),this.time=o)};var V={toString:function(){return"CodeMirror.Pass"}},S={scroll:!1},O={origin:"*mouse"},z={origin:"+move"};function n(e,t,o){for(var r=0,a=0;;){var D=e.indexOf("\t",r);-1==D&&(D=e.length);var Q=D-r;if(D==e.length||a+Q>=t)return r+Math.min(Q,t-a);if(a+=D-r,r=D+1,(a+=o-a%o)>=t)return r}}var m=[""];function s(e){for(;m.length<=e;)m.push(E(m)+" ");return m[e]}function E(e){return e[e.length-1]}function W(e,t){for(var o=[],r=0;r<e.length;r++)o[r]=t(e[r],r);return o}function pe(){}function Ee(e,t){var o;return Object.create?o=Object.create(e):(pe.prototype=e,o=new pe),t&&ue(t,o),o}var be=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function de(e){return/\w/.test(e)||e>"\x80"&&(e.toUpperCase()!=e.toLowerCase()||be.test(e))}function _e(e,t){return t?!!(t.source.indexOf("\\w")>-1&&de(e))||t.test(e):de(e)}function Pe(e){for(var t in e)if(e.hasOwnProperty(t)&&e[t])return!1;return!0}var He=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function ut(e){return e.charCodeAt(0)>=768&&He.test(e)}function rt(e,t,o){for(;(o<0?t>0:t<e.length)&&ut(e.charAt(t));)t+=o;return t}function G(e,t,o){for(var r=t>o?-1:1;;){if(t==o)return t;var a=(t+o)/2,D=r<0?Math.ceil(a):Math.floor(a);if(D==t)return e(D)?t:o;e(D)?o=D:t=D+r}}var ae=null;function Oe(e,t,o){var r;ae=null;for(var a=0;a<e.length;++a){var D=e[a];if(D.from<t&&D.to>t)return a;D.to==t&&(D.from!=D.to&&"before"==o?r=a:ae=a),D.from==t&&(D.from!=D.to&&"before"!=o?r=a:ae=a)}return null!=r?r:ae}var ze=function(){var o=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,r=/[stwN]/,a=/[LRr]/,D=/[Lb1n]/,Q=/[1n]/;function ie(ve,ye,Ie){this.level=ve,this.from=ye,this.to=Ie}return function(ve,ye){var Ie="ltr"==ye?"L":"R";if(0==ve.length||"ltr"==ye&&!o.test(ve))return!1;for(var Re,Ue=ve.length,Fe=[],nt=0;nt<Ue;++nt)Fe.push((Re=ve.charCodeAt(nt))<=247?"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN".charAt(Re):1424<=Re&&Re<=1524?"R":1536<=Re&&Re<=1785?"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111".charAt(Re-1536):1774<=Re&&Re<=2220?"r":8192<=Re&&Re<=8203?"w":8204==Re?"b":"L");for(var Ke=0,it=Ie;Ke<Ue;++Ke){var pt=Fe[Ke];"m"==pt?Fe[Ke]=it:it=pt}for(var gt=0,Ot=Ie;gt<Ue;++gt){var jt=Fe[gt];"1"==jt&&"r"==Ot?Fe[gt]="n":a.test(jt)&&(Ot=jt,"r"==jt&&(Fe[gt]="R"))}for(var Ct=1,_t=Fe[0];Ct<Ue-1;++Ct){var Bt=Fe[Ct];"+"==Bt&&"1"==_t&&"1"==Fe[Ct+1]?Fe[Ct]="1":","!=Bt||_t!=Fe[Ct+1]||"1"!=_t&&"n"!=_t||(Fe[Ct]=_t),_t=Bt}for(var Pt=0;Pt<Ue;++Pt){var Zt=Fe[Pt];if(","==Zt)Fe[Pt]="N";else if("%"==Zt){var Nt=void 0;for(Nt=Pt+1;Nt<Ue&&"%"==Fe[Nt];++Nt);for(var sn=Pt&&"!"==Fe[Pt-1]||Nt<Ue&&"1"==Fe[Nt]?"1":"N",fn=Pt;fn<Nt;++fn)Fe[fn]=sn;Pt=Nt-1}}for(var nn=0,an=Ie;nn<Ue;++nn){var Yt=Fe[nn];"L"==an&&"1"==Yt?Fe[nn]="L":a.test(Yt)&&(an=Yt)}for(var rn=0;rn<Ue;++rn)if(r.test(Fe[rn])){var Jt=void 0;for(Jt=rn+1;Jt<Ue&&r.test(Fe[Jt]);++Jt);for(var en="L"==(rn?Fe[rn-1]:Ie),Wt=en==("L"==(Jt<Ue?Fe[Jt]:Ie))?en?"L":"R":Ie,Mn=rn;Mn<Jt;++Mn)Fe[Mn]=Wt;rn=Jt-1}for(var bn,hn=[],on=0;on<Ue;)if(D.test(Fe[on])){var ar=on;for(++on;on<Ue&&D.test(Fe[on]);++on);hn.push(new ie(0,ar,on))}else{var Sn=on,Gn=hn.length,Rn="rtl"==ye?1:0;for(++on;on<Ue&&"L"!=Fe[on];++on);for(var vn=Sn;vn<on;)if(Q.test(Fe[vn])){Sn<vn&&(hn.splice(Gn,0,new ie(1,Sn,vn)),Gn+=Rn);var In=vn;for(++vn;vn<on&&Q.test(Fe[vn]);++vn);hn.splice(Gn,0,new ie(2,In,vn)),Gn+=Rn,Sn=vn}else++vn;Sn<on&&hn.splice(Gn,0,new ie(1,Sn,on))}return"ltr"==ye&&(1==hn[0].level&&(bn=ve.match(/^\s+/))&&(hn[0].from=bn[0].length,hn.unshift(new ie(0,0,bn[0].length))),1==E(hn).level&&(bn=ve.match(/\s+$/))&&(E(hn).to-=bn[0].length,hn.push(new ie(0,Ue-bn[0].length,Ue)))),"rtl"==ye?hn.reverse():hn}}();function qe(e,t){var o=e.order;return null==o&&(o=e.order=ze(e.text,t)),o}var Je=[],ot=function(e,t,o){if(e.addEventListener)e.addEventListener(t,o,!1);else if(e.attachEvent)e.attachEvent("on"+t,o);else{var r=e._handlers||(e._handlers={});r[t]=(r[t]||Je).concat(o)}};function X(e,t){return e._handlers&&e._handlers[t]||Je}function ke(e,t,o){if(e.removeEventListener)e.removeEventListener(t,o,!1);else if(e.detachEvent)e.detachEvent("on"+t,o);else{var r=e._handlers,a=r&&r[t];if(a){var D=J(a,o);D>-1&&(r[t]=a.slice(0,D).concat(a.slice(D+1)))}}}function Ae(e,t){var o=X(e,t);if(o.length)for(var r=Array.prototype.slice.call(arguments,2),a=0;a<o.length;++a)o[a].apply(null,r)}function Ne(e,t,o){return"string"==typeof t&&(t={type:t,preventDefault:function(){this.defaultPrevented=!0}}),Ae(e,o||t.type,e,t),vt(t)||t.codemirrorIgnore}function he(e){var t=e._handlers&&e._handlers.cursorActivity;if(t)for(var o=e.curOp.cursorActivityHandlers||(e.curOp.cursorActivityHandlers=[]),r=0;r<t.length;++r)-1==J(o,t[r])&&o.push(t[r])}function Be(e,t){return X(e,t).length>0}function Ve(e){e.prototype.on=function(t,o){ot(this,t,o)},e.prototype.off=function(t,o){ke(this,t,o)}}function tt(e){e.preventDefault?e.preventDefault():e.returnValue=!1}function dt(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}function vt(e){return null!=e.defaultPrevented?e.defaultPrevented:0==e.returnValue}function Xe(e){tt(e),dt(e)}function ft(e){return e.target||e.srcElement}function je(e){var t=e.which;return null==t&&(1&e.button?t=1:2&e.button?t=3:4&e.button&&(t=2)),T&&e.ctrlKey&&1==t&&(t=3),t}var st,te,Ge=function(){if(c&&h<9)return!1;var e=K("div");return"draggable"in e||"dragDrop"in e}();function B(e){if(null==st){var t=K("span","\u200b");L(e,K("span",[t,document.createTextNode("x")])),0!=e.firstChild.offsetHeight&&(st=t.offsetWidth<=1&&t.offsetHeight>2&&!(c&&h<8))}var o=st?K("span","\u200b"):K("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return o.setAttribute("cm-text",""),o}function F(e){if(null!=te)return te;var t=L(e,document.createTextNode("A\u062eA")),o=l(t,0,1).getBoundingClientRect(),r=l(t,1,2).getBoundingClientRect();return g(e),!(!o||o.left==o.right)&&(te=r.right-o.right<3)}var me,le=3!="\n\nb".split(/\n/).length?function(e){for(var t=0,o=[],r=e.length;t<=r;){var a=e.indexOf("\n",t);-1==a&&(a=e.length);var D=e.slice(t,"\r"==e.charAt(a-1)?a-1:a),Q=D.indexOf("\r");-1!=Q?(o.push(D.slice(0,Q)),t+=Q+1):(o.push(D),t=a+1)}return o}:function(e){return e.split(/\r\n?|\n/)},Me=window.getSelection?function(e){try{return e.selectionStart!=e.selectionEnd}catch(t){return!1}}:function(e){var t;try{t=e.ownerDocument.selection.createRange()}catch(o){}return!(!t||t.parentElement()!=e)&&0!=t.compareEndPoints("StartToEnd",t)},Ze="oncopy"in(me=K("div"))||(me.setAttribute("oncopy","return;"),"function"==typeof me.oncopy),ct=null,et={},kt={};function At(e,t){arguments.length>2&&(t.dependencies=Array.prototype.slice.call(arguments,2)),et[e]=t}function St(e){if("string"==typeof e&&kt.hasOwnProperty(e))e=kt[e];else if(e&&"string"==typeof e.name&&kt.hasOwnProperty(e.name)){var t=kt[e.name];"string"==typeof t&&(t={name:t}),(e=Ee(t,e)).name=t.name}else{if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+xml$/.test(e))return St("application/xml");if("string"==typeof e&&/^[\w\-]+\/[\w\-]+\+json$/.test(e))return St("application/json")}return"string"==typeof e?{name:e}:e||{name:"null"}}function Dt(e,t){t=St(t);var o=et[t.name];if(!o)return Dt(e,"text/plain");var r=o(e,t);if(Mt.hasOwnProperty(t.name)){var a=Mt[t.name];for(var D in a)a.hasOwnProperty(D)&&(r.hasOwnProperty(D)&&(r["_"+D]=r[D]),r[D]=a[D])}if(r.name=t.name,t.helperType&&(r.helperType=t.helperType),t.modeProps)for(var Q in t.modeProps)r[Q]=t.modeProps[Q];return r}var Mt={};function Gt(e,t){ue(t,Mt.hasOwnProperty(e)?Mt[e]:Mt[e]={})}function Xt(e,t){if(!0===t)return t;if(e.copyState)return e.copyState(t);var o={};for(var r in t){var a=t[r];a instanceof Array&&(a=a.concat([])),o[r]=a}return o}function ln(e,t){for(var o;e.innerMode&&(o=e.innerMode(t))&&o.mode!=e;)t=o.state,e=o.mode;return o||{mode:e,state:t}}function Qt(e,t,o){return!e.startState||e.startState(t,o)}var It=function(e,t,o){this.pos=this.start=0,this.string=e,this.tabSize=t||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=o};function Tt(e,t){if((t-=e.first)<0||t>=e.size)throw new Error("There is no line "+(t+e.first)+" in the document.");for(var o=e;!o.lines;)for(var r=0;;++r){var a=o.children[r],D=a.chunkSize();if(t<D){o=a;break}t-=D}return o.lines[t]}function Ut(e,t,o){var r=[],a=t.line;return e.iter(t.line,o.line+1,function(D){var Q=D.text;a==o.line&&(Q=Q.slice(0,o.ch)),a==t.line&&(Q=Q.slice(t.ch)),r.push(Q),++a}),r}function Kt(e,t,o){var r=[];return e.iter(t,o,function(a){r.push(a.text)}),r}function Et(e,t){var o=t-e.height;if(o)for(var r=e;r;r=r.parent)r.height+=o}function qt(e){if(null==e.parent)return null;for(var t=e.parent,o=J(t.lines,e),r=t.parent;r;t=r,r=r.parent)for(var a=0;r.children[a]!=t;++a)o+=r.children[a].chunkSize();return o+t.first}function On(e,t){var o=e.first;e:do{for(var r=0;r<e.children.length;++r){var a=e.children[r],D=a.height;if(t<D){e=a;continue e}t-=D,o+=a.chunkSize()}return o}while(!e.lines);for(var Q=0;Q<e.lines.length;++Q){var ie=e.lines[Q].height;if(t<ie)break;t-=ie}return o+Q}function mn(e,t){return t>=e.first&&t<e.first+e.size}function I(e,t){return String(e.lineNumberFormatter(t+e.firstLineNumber))}function q(e,t,o){if(void 0===o&&(o=null),!(this instanceof q))return new q(e,t,o);this.line=e,this.ch=t,this.sticky=o}function ge(e,t){return e.line-t.line||e.ch-t.ch}function Te(e,t){return e.sticky==t.sticky&&0==ge(e,t)}function at(e){return q(e.line,e.ch)}function yt(e,t){return ge(e,t)<0?t:e}function bt(e,t){return ge(e,t)<0?e:t}function mt(e,t){return Math.max(e.first,Math.min(t,e.first+e.size-1))}function wt(e,t){if(t.line<e.first)return q(e.first,0);var r,a,D,o=e.first+e.size-1;return t.line>o?q(o,Tt(e,o).text.length):(r=t,a=Tt(e,t.line).text.length,null==(D=r.ch)||D>a?q(r.line,a):D<0?q(r.line,0):r)}function Ht(e,t){for(var o=[],r=0;r<t.length;r++)o[r]=wt(e,t[r]);return o}It.prototype.eol=function(){return this.pos>=this.string.length},It.prototype.sol=function(){return this.pos==this.lineStart},It.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},It.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},It.prototype.eat=function(e){var t=this.string.charAt(this.pos);if("string"==typeof e?t==e:t&&(e.test?e.test(t):e(t)))return++this.pos,t},It.prototype.eatWhile=function(e){for(var t=this.pos;this.eat(e););return this.pos>t},It.prototype.eatSpace=function(){for(var e=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>e},It.prototype.skipToEnd=function(){this.pos=this.string.length},It.prototype.skipTo=function(e){var t=this.string.indexOf(e,this.pos);if(t>-1)return this.pos=t,!0},It.prototype.backUp=function(e){this.pos-=e},It.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=xe(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?xe(this.string,this.lineStart,this.tabSize):0)},It.prototype.indentation=function(){return xe(this.string,null,this.tabSize)-(this.lineStart?xe(this.string,this.lineStart,this.tabSize):0)},It.prototype.match=function(e,t,o){if("string"!=typeof e){var r=this.string.slice(this.pos).match(e);return r&&r.index>0?null:(r&&!1!==t&&(this.pos+=r[0].length),r)}var a=function(D){return o?D.toLowerCase():D};if(a(this.string.substr(this.pos,e.length))==a(e))return!1!==t&&(this.pos+=e.length),!0},It.prototype.current=function(){return this.string.slice(this.start,this.pos)},It.prototype.hideFirstChars=function(e,t){this.lineStart+=e;try{return t()}finally{this.lineStart-=e}},It.prototype.lookAhead=function(e){var t=this.lineOracle;return t&&t.lookAhead(e)},It.prototype.baseToken=function(){var e=this.lineOracle;return e&&e.baseToken(this.pos)};var tn=function(e,t){this.state=e,this.lookAhead=t},cn=function(e,t,o,r){this.state=t,this.doc=e,this.line=o,this.maxLookAhead=r||0,this.baseTokens=null,this.baseTokenPos=1};function kn(e,t,o,r){var a=[e.state.modeGen],D={};Sr(e,t.text,e.doc.mode,o,function(ye,Ie){return a.push(ye,Ie)},D,r);for(var Q=o.state,ie=function(ye){o.baseTokens=a;var Ie=e.state.overlays[ye],Re=1,Ue=0;o.state=!0,Sr(e,t.text,Ie.mode,o,function(Fe,nt){for(var Ke=Re;Ue<Fe;){var it=a[Re];it>Fe&&a.splice(Re,1,Fe,a[Re+1],it),Re+=2,Ue=Math.min(Fe,it)}if(nt)if(Ie.opaque)a.splice(Ke,Re-Ke,Fe,"overlay "+nt),Re=Ke+2;else for(;Ke<Re;Ke+=2){var pt=a[Ke+1];a[Ke+1]=(pt?pt+" ":"")+"overlay "+nt}},D),o.state=Q,o.baseTokens=null,o.baseTokenPos=1},ve=0;ve<e.state.overlays.length;++ve)ie(ve);return{styles:a,classes:D.bgClass||D.textClass?D:null}}function Vn(e,t,o){if(!t.styles||t.styles[0]!=e.state.modeGen){var r=sr(e,qt(t)),a=t.text.length>e.options.maxHighlightLength&&Xt(e.doc.mode,r.state),D=kn(e,t,r);a&&(r.state=a),t.stateAfter=r.save(!a),t.styles=D.styles,D.classes?t.styleClasses=D.classes:t.styleClasses&&(t.styleClasses=null),o===e.doc.highlightFrontier&&(e.doc.modeFrontier=Math.max(e.doc.modeFrontier,++e.doc.highlightFrontier))}return t.styles}function sr(e,t,o){var r=e.doc,a=e.display;if(!r.mode.startState)return new cn(r,!0,t);var D=function(ve,ye,Ie){for(var Re,Ue,Fe=ve.doc,nt=Ie?-1:ye-(ve.doc.mode.innerMode?1e3:100),Ke=ye;Ke>nt;--Ke){if(Ke<=Fe.first)return Fe.first;var it=Tt(Fe,Ke-1),pt=it.stateAfter;if(pt&&(!Ie||Ke+(pt instanceof tn?pt.lookAhead:0)<=Fe.modeFrontier))return Ke;var gt=xe(it.text,null,ve.options.tabSize);(null==Ue||Re>gt)&&(Ue=Ke-1,Re=gt)}return Ue}(e,t,o),Q=D>r.first&&Tt(r,D-1).stateAfter,ie=Q?cn.fromSaved(r,Q,D):new cn(r,Qt(r.mode),D);return r.iter(D,t,function(ve){Yn(e,ve.text,ie);var ye=ie.line;ve.stateAfter=ye==t-1||ye%5==0||ye>=a.viewFrom&&ye<a.viewTo?ie.save():null,ie.nextLine()}),o&&(r.modeFrontier=ie.line),ie}function Yn(e,t,o,r){var a=e.doc.mode,D=new It(t,e.options.tabSize,o);for(D.start=D.pos=r||0,""==t&&lr(a,o.state);!D.eol();)Un(a,D,o.state),D.start=D.pos}function lr(e,t){if(e.blankLine)return e.blankLine(t);if(e.innerMode){var o=ln(e,t);return o.mode.blankLine?o.mode.blankLine(o.state):void 0}}function Un(e,t,o,r){for(var a=0;a<10;a++){r&&(r[0]=ln(e,o).mode);var D=e.token(t,o);if(t.pos>t.start)return D}throw new Error("Mode "+e.name+" failed to advance stream.")}cn.prototype.lookAhead=function(e){var t=this.doc.getLine(this.line+e);return null!=t&&e>this.maxLookAhead&&(this.maxLookAhead=e),t},cn.prototype.baseToken=function(e){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=e;)this.baseTokenPos+=2;var t=this.baseTokens[this.baseTokenPos+1];return{type:t&&t.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-e}},cn.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},cn.fromSaved=function(e,t,o){return t instanceof tn?new cn(e,Xt(e.mode,t.state),o,t.lookAhead):new cn(e,Xt(e.mode,t),o)},cn.prototype.save=function(e){var t=!1!==e?Xt(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new tn(t,this.maxLookAhead):t};var er=function(e,t,o){this.start=e.start,this.end=e.pos,this.string=e.current(),this.type=t||null,this.state=o};function tr(e,t,o,r){var a,D,Q=e.doc,ie=Q.mode,ve=Tt(Q,(t=wt(Q,t)).line),ye=sr(e,t.line,o),Ie=new It(ve.text,e.options.tabSize,ye);for(r&&(D=[]);(r||Ie.pos<t.ch)&&!Ie.eol();)Ie.start=Ie.pos,a=Un(ie,Ie,ye.state),r&&D.push(new er(Ie,a,Xt(Q.mode,ye.state)));return r?D:new er(Ie,a,ye.state)}function Pn(e,t){if(e)for(;;){var o=e.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!o)break;e=e.slice(0,o.index)+e.slice(o.index+o[0].length);var r=o[1]?"bgClass":"textClass";null==t[r]?t[r]=o[2]:new RegExp("(?:^|\\s)"+o[2]+"(?:$|\\s)").test(t[r])||(t[r]+=" "+o[2])}return e}function Sr(e,t,o,r,a,D,Q){var ie=o.flattenSpans;null==ie&&(ie=e.options.flattenSpans);var ve,ye=0,Ie=null,Re=new It(t,e.options.tabSize,r),Ue=e.options.addModeClass&&[null];for(""==t&&Pn(lr(o,r.state),D);!Re.eol();){if(Re.pos>e.options.maxHighlightLength?(ie=!1,Q&&Yn(e,t,r,Re.pos),Re.pos=t.length,ve=null):ve=Pn(Un(o,Re,r.state,Ue),D),Ue){var Fe=Ue[0].name;Fe&&(ve="m-"+(ve?Fe+" "+ve:Fe))}if(!ie||Ie!=ve){for(;ye<Re.start;)a(ye=Math.min(Re.start,ye+5e3),Ie);Ie=ve}Re.start=Re.pos}for(;ye<Re.pos;){var nt=Math.min(Re.pos,ye+5e3);a(nt,Ie),ye=nt}}var Hn=!1,yn=!1;function Kn(e,t,o){this.marker=e,this.from=t,this.to=o}function Cn(e,t){if(e)for(var o=0;o<e.length;++o){var r=e[o];if(r.marker==t)return r}}function Nn(e,t){for(var o,r=0;r<e.length;++r)e[r]!=t&&(o||(o=[])).push(e[r]);return o}function _r(e,t){if(t.full)return null;var o=mn(e,t.from.line)&&Tt(e,t.from.line).markedSpans,r=mn(e,t.to.line)&&Tt(e,t.to.line).markedSpans;if(!o&&!r)return null;var a=t.from.ch,D=t.to.ch,Q=0==ge(t.from,t.to),ie=function(Ct,_t,Bt){var Pt;if(Ct)for(var Zt=0;Zt<Ct.length;++Zt){var Nt=Ct[Zt],sn=Nt.marker;null!=Nt.from&&!(sn.inclusiveLeft?Nt.from<=_t:Nt.from<_t)&&(Nt.from!=_t||"bookmark"!=sn.type||Bt&&Nt.marker.insertLeft)||(Pt||(Pt=[])).push(new Kn(sn,Nt.from,null==Nt.to||(sn.inclusiveRight?Nt.to>=_t:Nt.to>_t)?null:Nt.to))}return Pt}(o,a,Q),ve=function(Ct,_t,Bt){var Pt;if(Ct)for(var Zt=0;Zt<Ct.length;++Zt){var Nt=Ct[Zt],sn=Nt.marker;(null==Nt.to||(sn.inclusiveRight?Nt.to>=_t:Nt.to>_t)||Nt.from==_t&&"bookmark"==sn.type&&(!Bt||Nt.marker.insertLeft))&&(Pt||(Pt=[])).push(new Kn(sn,null==Nt.from||(sn.inclusiveLeft?Nt.from<=_t:Nt.from<_t)?null:Nt.from-_t,null==Nt.to?null:Nt.to-_t))}return Pt}(r,D,Q),ye=1==t.text.length,Ie=E(t.text).length+(ye?a:0);if(ie)for(var Re=0;Re<ie.length;++Re){var Ue=ie[Re];if(null==Ue.to){var Fe=Cn(ve,Ue.marker);Fe?ye&&(Ue.to=null==Fe.to?null:Fe.to+Ie):Ue.to=a}}if(ve)for(var nt=0;nt<ve.length;++nt){var Ke=ve[nt];null!=Ke.to&&(Ke.to+=Ie),null==Ke.from?Cn(ie,Ke.marker)||(Ke.from=Ie,ye&&(ie||(ie=[])).push(Ke)):(Ke.from+=Ie,ye&&(ie||(ie=[])).push(Ke))}ie&&(ie=cr(ie)),ve&&ve!=ie&&(ve=cr(ve));var it=[ie];if(!ye){var pt,gt=t.text.length-2;if(gt>0&&ie)for(var Ot=0;Ot<ie.length;++Ot)null==ie[Ot].to&&(pt||(pt=[])).push(new Kn(ie[Ot].marker,null,null));for(var jt=0;jt<gt;++jt)it.push(pt);it.push(ve)}return it}function cr(e){for(var t=0;t<e.length;++t){var o=e[t];null!=o.from&&o.from==o.to&&!1!==o.marker.clearWhenEmpty&&e.splice(t--,1)}return e.length?e:null}function br(e){var t=e.markedSpans;if(t){for(var o=0;o<t.length;++o)t[o].marker.detachLine(e);e.markedSpans=null}}function Wn(e,t){if(t){for(var o=0;o<t.length;++o)t[o].marker.attachLine(e);e.markedSpans=t}}function ur(e){return e.inclusiveLeft?-1:0}function Zn(e){return e.inclusiveRight?1:0}function nr(e,t){var o=e.lines.length-t.lines.length;if(0!=o)return o;var r=e.find(),a=t.find(),D=ge(r.from,a.from)||ur(e)-ur(t);return D?-D:ge(r.to,a.to)||Zn(e)-Zn(t)||t.id-e.id}function En(e,t){var o,r=yn&&e.markedSpans;if(r)for(var a=void 0,D=0;D<r.length;++D)(a=r[D]).marker.collapsed&&null==(t?a.from:a.to)&&(!o||nr(o,a.marker)<0)&&(o=a.marker);return o}function Ir(e){return En(e,!0)}function Fn(e){return En(e,!1)}function $r(e,t){var o,r=yn&&e.markedSpans;if(r)for(var a=0;a<r.length;++a){var D=r[a];D.marker.collapsed&&(null==D.from||D.from<t)&&(null==D.to||D.to>t)&&(!o||nr(o,D.marker)<0)&&(o=D.marker)}return o}function fr(e,t,o,r,a){var D=Tt(e,t),Q=yn&&D.markedSpans;if(Q)for(var ie=0;ie<Q.length;++ie){var ve=Q[ie];if(ve.marker.collapsed){var ye=ve.marker.find(0),Ie=ge(ye.from,o)||ur(ve.marker)-ur(a),Re=ge(ye.to,r)||Zn(ve.marker)-Zn(a);if(!(Ie>=0&&Re<=0||Ie<=0&&Re>=0)&&(Ie<=0&&(ve.marker.inclusiveRight&&a.inclusiveLeft?ge(ye.to,o)>=0:ge(ye.to,o)>0)||Ie>=0&&(ve.marker.inclusiveRight&&a.inclusiveLeft?ge(ye.from,r)<=0:ge(ye.from,r)<0)))return!0}}}function gn(e){for(var t;t=Ir(e);)e=t.find(-1,!0).line;return e}function hr(e,t){var o=Tt(e,t),r=gn(o);return o==r?t:qt(r)}function Cr(e,t){if(t>e.lastLine())return t;var o,r=Tt(e,t);if(!dr(e,r))return t;for(;o=Fn(r);)r=o.find(1,!0).line;return qt(r)+1}function dr(e,t){var o=yn&&t.markedSpans;if(o)for(var r=void 0,a=0;a<o.length;++a)if((r=o[a]).marker.collapsed&&(null==r.from||!r.marker.widgetNode&&0==r.from&&r.marker.inclusiveLeft&&Xn(e,t,r)))return!0}function Xn(e,t,o){if(null==o.to){var r=o.marker.find(1,!0);return Xn(e,r.line,Cn(r.line.markedSpans,o.marker))}if(o.marker.inclusiveRight&&o.to==t.text.length)return!0;for(var a=void 0,D=0;D<t.markedSpans.length;++D)if((a=t.markedSpans[D]).marker.collapsed&&!a.marker.widgetNode&&a.from==o.to&&(null==a.to||a.to!=o.from)&&(a.marker.inclusiveLeft||o.marker.inclusiveRight)&&Xn(e,t,a))return!0}function An(e){for(var t=0,o=(e=gn(e)).parent,r=0;r<o.lines.length;++r){var a=o.lines[r];if(a==e)break;t+=a.height}for(var D=o.parent;D;D=(o=D).parent)for(var Q=0;Q<D.children.length;++Q){var ie=D.children[Q];if(ie==o)break;t+=ie.height}return t}function Dr(e){if(0==e.height)return 0;for(var t,o=e.text.length,r=e;t=Ir(r);){var a=t.find(0,!0);r=a.from.line,o+=a.from.ch-a.to.ch}for(r=e;t=Fn(r);){var D=t.find(0,!0);o-=r.text.length-D.from.ch,o+=(r=D.to.line).text.length-D.to.ch}return o}function jr(e){var t=e.display,o=e.doc;t.maxLine=Tt(o,o.first),t.maxLineLength=Dr(t.maxLine),t.maxLineChanged=!0,o.iter(function(r){var a=Dr(r);a>t.maxLineLength&&(t.maxLineLength=a,t.maxLine=r)})}var Lt=function(e,t,o){this.text=e,Wn(this,t),this.height=o?o(this):1};function Rt(e){e.parent=null,br(e)}Lt.prototype.lineNo=function(){return qt(this)},Ve(Lt);var zt={},Ft={};function _n(e,t){if(!e||/^\s*$/.test(e))return null;var o=t.addModeClass?Ft:zt;return o[e]||(o[e]=e.replace(/\S+/g,"cm-$&"))}function $n(e,t){var o=ee("span",null,null,u?"padding-right: .1px":null),r={pre:ee("pre",[o],"CodeMirror-line"),content:o,col:0,pos:0,cm:e,trailingSpace:!1,splitSpaces:e.getOption("lineWrapping")};t.measure={};for(var a=0;a<=(t.rest?t.rest.length:0);a++){var D=a?t.rest[a-1]:t.line,Q=void 0;r.pos=0,r.addToken=pr,F(e.display.measure)&&(Q=qe(D,e.doc.direction))&&(r.addToken=Jn(r.addToken,Q)),r.map=[],ti(D,r,Vn(e,D,t!=e.display.externalMeasured&&qt(D))),D.styleClasses&&(D.styleClasses.bgClass&&(r.bgClass=Ce(D.styleClasses.bgClass,r.bgClass||"")),D.styleClasses.textClass&&(r.textClass=Ce(D.styleClasses.textClass,r.textClass||""))),0==r.map.length&&r.map.push(0,0,r.content.appendChild(B(e.display.measure))),0==a?(t.measure.map=r.map,t.measure.cache={}):((t.measure.maps||(t.measure.maps=[])).push(r.map),(t.measure.caches||(t.measure.caches=[])).push({}))}if(u){var ie=r.content.lastChild;(/\bcm-tab\b/.test(ie.className)||ie.querySelector&&ie.querySelector(".cm-tab"))&&(r.content.className="cm-tab-wrap-hack")}return Ae(e,"renderLine",e,t.line,r.pre),r.pre.className&&(r.textClass=Ce(r.pre.className,r.textClass||"")),r}function wr(e){var t=K("span","\u2022","cm-invalidchar");return t.title="\\u"+e.charCodeAt(0).toString(16),t.setAttribute("aria-label",t.title),t}function pr(e,t,o,r,a,D,Q){if(t){var ie,ve=e.splitSpaces?function(Ct,_t){if(Ct.length>1&&!/  /.test(Ct))return Ct;for(var Bt=_t,Pt="",Zt=0;Zt<Ct.length;Zt++){var Nt=Ct.charAt(Zt);" "!=Nt||!Bt||Zt!=Ct.length-1&&32!=Ct.charCodeAt(Zt+1)||(Nt="\xa0"),Pt+=Nt,Bt=" "==Nt}return Pt}(t,e.trailingSpace):t,ye=e.cm.state.specialChars,Ie=!1;if(ye.test(t)){ie=document.createDocumentFragment();for(var Re=0;;){ye.lastIndex=Re;var Ue=ye.exec(t),Fe=Ue?Ue.index-Re:t.length-Re;if(Fe){var nt=document.createTextNode(ve.slice(Re,Re+Fe));ie.appendChild(c&&h<9?K("span",[nt]):nt),e.map.push(e.pos,e.pos+Fe,nt),e.col+=Fe,e.pos+=Fe}if(!Ue)break;Re+=Fe+1;var Ke=void 0;if("\t"==Ue[0]){var it=e.cm.options.tabSize,pt=it-e.col%it;(Ke=ie.appendChild(K("span",s(pt),"cm-tab"))).setAttribute("role","presentation"),Ke.setAttribute("cm-text","\t"),e.col+=pt}else"\r"==Ue[0]||"\n"==Ue[0]?((Ke=ie.appendChild(K("span","\r"==Ue[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",Ue[0]),e.col+=1):((Ke=e.cm.options.specialCharPlaceholder(Ue[0])).setAttribute("cm-text",Ue[0]),ie.appendChild(c&&h<9?K("span",[Ke]):Ke),e.col+=1);e.map.push(e.pos,e.pos+1,Ke),e.pos++}}else e.col+=t.length,ie=document.createTextNode(ve),e.map.push(e.pos,e.pos+t.length,ie),c&&h<9&&(Ie=!0),e.pos+=t.length;if(e.trailingSpace=32==ve.charCodeAt(t.length-1),o||r||a||Ie||D||Q){var gt=o||"";r&&(gt+=r),a&&(gt+=a);var Ot=K("span",[ie],gt,D);if(Q)for(var jt in Q)Q.hasOwnProperty(jt)&&"style"!=jt&&"class"!=jt&&Ot.setAttribute(jt,Q[jt]);return e.content.appendChild(Ot)}e.content.appendChild(ie)}}function Jn(e,t){return function(o,r,a,D,Q,ie,ve){a=a?a+" cm-force-border":"cm-force-border";for(var ye=o.pos,Ie=ye+r.length;;){for(var Re=void 0,Ue=0;Ue<t.length&&!((Re=t[Ue]).to>ye&&Re.from<=ye);Ue++);if(Re.to>=Ie)return e(o,r,a,D,Q,ie,ve);e(o,r.slice(0,Re.to-ye),a,D,null,ie,ve),D=null,r=r.slice(Re.to-ye),ye=Re.to}}}function gr(e,t,o,r){var a=!r&&o.widgetNode;a&&e.map.push(e.pos,e.pos+t,a),!r&&e.cm.display.input.needsContentAttribute&&(a||(a=e.content.appendChild(document.createElement("span"))),a.setAttribute("cm-marker",o.id)),a&&(e.cm.display.input.setUneditable(a),e.content.appendChild(a)),e.pos+=t,e.trailingSpace=!1}function ti(e,t,o){var r=e.markedSpans,a=e.text,D=0;if(r)for(var Q,ie,ve,ye,Ie,Re,Ue,Fe=a.length,nt=0,Ke=1,it="",pt=0;;){if(pt==nt){ve=ye=Ie=ie="",Ue=null,Re=null,pt=1/0;for(var gt=[],Ot=void 0,jt=0;jt<r.length;++jt){var Ct=r[jt],_t=Ct.marker;if("bookmark"==_t.type&&Ct.from==nt&&_t.widgetNode)gt.push(_t);else if(Ct.from<=nt&&(null==Ct.to||Ct.to>nt||_t.collapsed&&Ct.to==nt&&Ct.from==nt)){if(null!=Ct.to&&Ct.to!=nt&&pt>Ct.to&&(pt=Ct.to,ye=""),_t.className&&(ve+=" "+_t.className),_t.css&&(ie=(ie?ie+";":"")+_t.css),_t.startStyle&&Ct.from==nt&&(Ie+=" "+_t.startStyle),_t.endStyle&&Ct.to==pt&&(Ot||(Ot=[])).push(_t.endStyle,Ct.to),_t.title&&((Ue||(Ue={})).title=_t.title),_t.attributes)for(var Bt in _t.attributes)(Ue||(Ue={}))[Bt]=_t.attributes[Bt];_t.collapsed&&(!Re||nr(Re.marker,_t)<0)&&(Re=Ct)}else Ct.from>nt&&pt>Ct.from&&(pt=Ct.from)}if(Ot)for(var Pt=0;Pt<Ot.length;Pt+=2)Ot[Pt+1]==pt&&(ye+=" "+Ot[Pt]);if(!Re||Re.from==nt)for(var Zt=0;Zt<gt.length;++Zt)gr(t,0,gt[Zt]);if(Re&&(Re.from||0)==nt){if(gr(t,(null==Re.to?Fe+1:Re.to)-nt,Re.marker,null==Re.from),null==Re.to)return;Re.to==nt&&(Re=!1)}}if(nt>=Fe)break;for(var Nt=Math.min(Fe,pt);;){if(it){var sn=nt+it.length;if(!Re){var fn=sn>Nt?it.slice(0,Nt-nt):it;t.addToken(t,fn,Q?Q+ve:ve,Ie,nt+fn.length==pt?ye:"",ie,Ue)}if(sn>=Nt){it=it.slice(Nt-nt),nt=Nt;break}nt=sn,Ie=""}it=a.slice(D,D=o[Ke++]),Q=_n(o[Ke++],t.cm.options)}}else for(var nn=1;nn<o.length;nn+=2)t.addToken(t,a.slice(D,D=o[nn]),_n(o[nn+1],t.cm.options))}function qr(e,t,o){this.line=t,this.rest=function(r){for(var a,D;a=Fn(r);)r=a.find(1,!0).line,(D||(D=[])).push(r);return D}(t),this.size=this.rest?qt(E(this.rest))-o+1:1,this.node=this.text=null,this.hidden=dr(e,t)}function Tr(e,t,o){for(var r,a=[],D=t;D<o;D=r){var Q=new qr(e.doc,Tt(e.doc,D),D);r=D+Q.size,a.push(Q)}return a}var xr=null,zn=null;function wn(e,t){var o=X(e,t);if(o.length){var r,a=Array.prototype.slice.call(arguments,2);xr?r=xr.delayedCallbacks:zn?r=zn:(r=zn=[],setTimeout(Yi,0));for(var D=function(ie){r.push(function(){return o[ie].apply(null,a)})},Q=0;Q<o.length;++Q)D(Q)}}function Yi(){var e=zn;zn=null;for(var t=0;t<e.length;++t)e[t]()}function bi(e,t,o,r){for(var a=0;a<t.changes.length;a++){var D=t.changes[a];"text"==D?Ki(e,t):"gutter"==D?xi(e,t,o,r):"class"==D?ni(e,t):"widget"==D&&Oi(e,t,r)}t.changes=null}function Er(e){return e.node==e.text&&(e.node=K("div",null,null,"position: relative"),e.text.parentNode&&e.text.parentNode.replaceChild(e.node,e.text),e.node.appendChild(e.text),c&&h<8&&(e.node.style.zIndex=2)),e.node}function wi(e,t){var o=e.display.externalMeasured;return o&&o.line==t.line?(e.display.externalMeasured=null,t.measure=o.measure,o.built):$n(e,t)}function Ki(e,t){var o=t.text.className,r=wi(e,t);t.text==t.node&&(t.node=r.pre),t.text.parentNode.replaceChild(r.pre,t.text),t.text=r.pre,r.bgClass!=t.bgClass||r.textClass!=t.textClass?(t.bgClass=r.bgClass,t.textClass=r.textClass,ni(e,t)):o&&(t.text.className=o)}function ni(e,t){(function(r,a){var D=a.bgClass?a.bgClass+" "+(a.line.bgClass||""):a.line.bgClass;if(D&&(D+=" CodeMirror-linebackground"),a.background)D?a.background.className=D:(a.background.parentNode.removeChild(a.background),a.background=null);else if(D){var Q=Er(a);a.background=Q.insertBefore(K("div",null,D),Q.firstChild),r.display.input.setUneditable(a.background)}})(e,t),t.line.wrapClass?Er(t).className=t.line.wrapClass:t.node!=t.text&&(t.node.className=""),t.text.className=(t.textClass?t.textClass+" "+(t.line.textClass||""):t.line.textClass)||""}function xi(e,t,o,r){if(t.gutter&&(t.node.removeChild(t.gutter),t.gutter=null),t.gutterBackground&&(t.node.removeChild(t.gutterBackground),t.gutterBackground=null),t.line.gutterClass){var a=Er(t);t.gutterBackground=K("div",null,"CodeMirror-gutter-background "+t.line.gutterClass,"left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px; width: "+r.gutterTotalWidth+"px"),e.display.input.setUneditable(t.gutterBackground),a.insertBefore(t.gutterBackground,t.text)}var D=t.line.gutterMarkers;if(e.options.lineNumbers||D){var Q=Er(t),ie=t.gutter=K("div",null,"CodeMirror-gutter-wrapper","left: "+(e.options.fixedGutter?r.fixedPos:-r.gutterTotalWidth)+"px");if(ie.setAttribute("aria-hidden","true"),e.display.input.setUneditable(ie),Q.insertBefore(ie,t.text),t.line.gutterClass&&(ie.className+=" "+t.line.gutterClass),!e.options.lineNumbers||D&&D["CodeMirror-linenumbers"]||(t.lineNumber=ie.appendChild(K("div",I(e.options,o),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+r.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+e.display.lineNumInnerWidth+"px"))),D)for(var ve=0;ve<e.display.gutterSpecs.length;++ve){var ye=e.display.gutterSpecs[ve].className,Ie=D.hasOwnProperty(ye)&&D[ye];Ie&&ie.appendChild(K("div",[Ie],"CodeMirror-gutter-elt","left: "+r.gutterLeft[ye]+"px; width: "+r.gutterWidth[ye]+"px"))}}}function Oi(e,t,o){t.alignable&&(t.alignable=null);for(var r=d("CodeMirror-linewidget"),a=t.node.firstChild,D=void 0;a;a=D)D=a.nextSibling,r.test(a.className)&&t.node.removeChild(a);Zi(e,t,o)}function ki(e,t,o,r){var a=wi(e,t);return t.text=t.node=a.pre,a.bgClass&&(t.bgClass=a.bgClass),a.textClass&&(t.textClass=a.textClass),ni(e,t),xi(e,t,o,r),Zi(e,t,r),t.node}function Zi(e,t,o){if(ri(e,t.line,t,o,!0),t.rest)for(var r=0;r<t.rest.length;r++)ri(e,t.rest[r],t,o,!1)}function ri(e,t,o,r,a){if(t.widgets)for(var D=Er(o),Q=0,ie=t.widgets;Q<ie.length;++Q){var ve=ie[Q],ye=K("div",[ve.node],"CodeMirror-linewidget"+(ve.className?" "+ve.className:""));ve.handleMouseEvents||ye.setAttribute("cm-ignore-events","true"),ko(ve,ye,o,r),e.display.input.setUneditable(ye),a&&ve.above?D.insertBefore(ye,o.gutter||o.text):D.appendChild(ye),wn(ve,"redraw")}}function ko(e,t,o,r){if(e.noHScroll){(o.alignable||(o.alignable=[])).push(t);var a=r.wrapperWidth;t.style.left=r.fixedPos+"px",e.coverGutter||(a-=r.gutterTotalWidth,t.style.paddingLeft=r.gutterTotalWidth+"px"),t.style.width=a+"px"}e.coverGutter&&(t.style.zIndex=5,t.style.position="relative",e.noHScroll||(t.style.marginLeft=-r.gutterTotalWidth+"px"))}function we(e){if(null!=e.height)return e.height;var t=e.doc.cm;if(!t)return 0;if(!De(document.body,e.node)){var o="position: relative;";e.coverGutter&&(o+="margin-left: -"+t.display.gutters.offsetWidth+"px;"),e.noHScroll&&(o+="width: "+t.display.wrapper.clientWidth+"px;"),L(t.display.measure,K("div",[e.node],null,o))}return e.height=e.node.parentNode.offsetHeight}function Le(e,t){for(var o=ft(t);o!=e.wrapper;o=o.parentNode)if(!o||1==o.nodeType&&"true"==o.getAttribute("cm-ignore-events")||o.parentNode==e.sizer&&o!=e.mover)return!0}function We(e){return e.lineSpace.offsetTop}function Ye(e){return e.mover.offsetHeight-e.lineSpace.offsetHeight}function lt(e){if(e.cachedPaddingH)return e.cachedPaddingH;var t=L(e.measure,K("pre","x","CodeMirror-line-like")),o=window.getComputedStyle?window.getComputedStyle(t):t.currentStyle,r={left:parseInt(o.paddingLeft),right:parseInt(o.paddingRight)};return isNaN(r.left)||isNaN(r.right)||(e.cachedPaddingH=r),r}function Qe(e){return 50-e.display.nativeBarWidth}function ht(e){return e.display.scroller.clientWidth-Qe(e)-e.display.barWidth}function xt(e){return e.display.scroller.clientHeight-Qe(e)-e.display.barHeight}function Vt(e,t,o){if(e.line==t)return{map:e.measure.map,cache:e.measure.cache};for(var r=0;r<e.rest.length;r++)if(e.rest[r]==t)return{map:e.measure.maps[r],cache:e.measure.caches[r]};for(var a=0;a<e.rest.length;a++)if(qt(e.rest[a])>o)return{map:e.measure.maps[a],cache:e.measure.caches[a],before:!0}}function $t(e,t,o,r){return Bn(e,jn(e,t),o,r)}function dn(e,t){if(t>=e.display.viewFrom&&t<e.display.viewTo)return e.display.view[Kr(e,t)];var o=e.display.externalMeasured;return o&&t>=o.lineN&&t<o.lineN+o.size?o:void 0}function jn(e,t){var o=qt(t),r=dn(e,o);r&&!r.text?r=null:r&&r.changes&&(bi(e,r,o,To(e)),e.curOp.forceUpdate=!0),r||(r=function(D,Q){var ie=qt(Q=gn(Q)),ve=D.display.externalMeasured=new qr(D.doc,Q,ie);ve.lineN=ie;var ye=ve.built=$n(D,ve);return ve.text=ye.pre,L(D.display.lineMeasure,ye.pre),ve}(e,t));var a=Vt(r,t,o);return{line:t,view:r,rect:null,map:a.map,cache:a.cache,before:a.before,hasHeights:!1}}function Bn(e,t,o,r,a){t.before&&(o=-1);var D,Q=o+(r||"");return t.cache.hasOwnProperty(Q)?D=t.cache[Q]:(t.rect||(t.rect=t.view.text.getBoundingClientRect()),t.hasHeights||(function(ie,ve,ye){var Ie=ie.options.lineWrapping,Re=Ie&&ht(ie);if(!ve.measure.heights||Ie&&ve.measure.width!=Re){var Ue=ve.measure.heights=[];if(Ie){ve.measure.width=Re;for(var Fe=ve.text.firstChild.getClientRects(),nt=0;nt<Fe.length-1;nt++){var Ke=Fe[nt],it=Fe[nt+1];Math.abs(Ke.bottom-it.bottom)>2&&Ue.push((Ke.bottom+it.top)/2-ye.top)}}Ue.push(ye.bottom-ye.top)}}(e,t.view,t.rect),t.hasHeights=!0),(D=function(ie,ve,ye,Ie){var Re,Ue=Gr(ve.map,ye,Ie),Fe=Ue.node,nt=Ue.start,Ke=Ue.end,it=Ue.collapse;if(3==Fe.nodeType){for(var pt=0;pt<4;pt++){for(;nt&&ut(ve.line.text.charAt(Ue.coverStart+nt));)--nt;for(;Ue.coverStart+Ke<Ue.coverEnd&&ut(ve.line.text.charAt(Ue.coverStart+Ke));)++Ke;if((Re=c&&h<9&&0==nt&&Ke==Ue.coverEnd-Ue.coverStart?Fe.parentNode.getBoundingClientRect():Xi(l(Fe,nt,Ke).getClientRects(),Ie)).left||Re.right||0==nt)break;Ke=nt,nt-=1,it="right"}c&&h<11&&(Re=function(fn,nn){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function(rn){if(null!=ct)return ct;var Jt=L(rn,K("span","x")),en=Jt.getBoundingClientRect(),Wt=l(Jt,0,1).getBoundingClientRect();return ct=Math.abs(en.left-Wt.left)>1}(fn))return nn;var an=screen.logicalXDPI/screen.deviceXDPI,Yt=screen.logicalYDPI/screen.deviceYDPI;return{left:nn.left*an,right:nn.right*an,top:nn.top*Yt,bottom:nn.bottom*Yt}}(ie.display.measure,Re))}else{var gt;nt>0&&(it=Ie="right"),Re=ie.options.lineWrapping&&(gt=Fe.getClientRects()).length>1?gt["right"==Ie?gt.length-1:0]:Fe.getBoundingClientRect()}if(c&&h<9&&!nt&&(!Re||!Re.left&&!Re.right)){var Ot=Fe.parentNode.getClientRects()[0];Re=Ot?{left:Ot.left,right:Ot.left+oi(ie.display),top:Ot.top,bottom:Ot.bottom}:mr}for(var jt=Re.top-ve.rect.top,Ct=Re.bottom-ve.rect.top,_t=(jt+Ct)/2,Bt=ve.view.measure.heights,Pt=0;Pt<Bt.length-1&&!(_t<Bt[Pt]);Pt++);var sn={left:("right"==it?Re.right:Re.left)-ve.rect.left,right:("left"==it?Re.left:Re.right)-ve.rect.left,top:Pt?Bt[Pt-1]:0,bottom:Bt[Pt]};return Re.left||Re.right||(sn.bogus=!0),ie.options.singleCursorHeightPerLine||(sn.rtop=jt,sn.rbottom=Ct),sn}(e,t,o,r)).bogus||(t.cache[Q]=D)),{left:D.left,right:D.right,top:a?D.rtop:D.top,bottom:a?D.rbottom:D.bottom}}var rr,mr={left:0,right:0,top:0,bottom:0};function Gr(e,t,o){for(var r,a,D,Q,ie,ve,ye=0;ye<e.length;ye+=3)if(ve=e[ye+1],t<(ie=e[ye])?(a=0,D=1,Q="left"):t<ve?D=1+(a=t-ie):(ye==e.length-3||t==ve&&e[ye+3]>t)&&(a=(D=ve-ie)-1,t>=ve&&(Q="right")),null!=a){if(r=e[ye+2],ie==ve&&o==(r.insertLeft?"left":"right")&&(Q=o),"left"==o&&0==a)for(;ye&&e[ye-2]==e[ye-3]&&e[ye-1].insertLeft;)r=e[2+(ye-=3)],Q="left";if("right"==o&&a==ve-ie)for(;ye<e.length-3&&e[ye+3]==e[ye+4]&&!e[ye+5].insertLeft;)r=e[(ye+=3)+2],Q="right";break}return{node:r,start:a,end:D,collapse:Q,coverStart:ie,coverEnd:ve}}function Xi(e,t){var o=mr;if("left"==t)for(var r=0;r<e.length&&(o=e[r]).left==o.right;r++);else for(var a=e.length-1;a>=0&&(o=e[a]).left==o.right;a--);return o}function oa(e){if(e.measure&&(e.measure.cache={},e.measure.heights=null,e.rest))for(var t=0;t<e.rest.length;t++)e.measure.caches[t]={}}function aa(e){e.display.externalMeasure=null,g(e.display.lineMeasure);for(var t=0;t<e.display.view.length;t++)oa(e.display.view[t])}function Ci(e){aa(e),e.display.cachedCharWidth=e.display.cachedTextHeight=e.display.cachedPaddingH=null,e.options.lineWrapping||(e.display.maxLineChanged=!0),e.display.lineNumChars=null}function sa(){return f&&_?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function la(){return f&&_?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Co(e){var t=0;if(e.widgets)for(var o=0;o<e.widgets.length;++o)e.widgets[o].above&&(t+=we(e.widgets[o]));return t}function Ji(e,t,o,r,a){if(!a){var D=Co(t);o.top+=D,o.bottom+=D}if("line"==r)return o;r||(r="local");var Q=An(t);if("local"==r?Q+=We(e.display):Q-=e.display.viewOffset,"page"==r||"window"==r){var ie=e.display.lineSpace.getBoundingClientRect();Q+=ie.top+("window"==r?0:la());var ve=ie.left+("window"==r?0:sa());o.left+=ve,o.right+=ve}return o.top+=Q,o.bottom+=Q,o}function ca(e,t,o){if("div"==o)return t;var r=t.left,a=t.top;if("page"==o)r-=sa(),a-=la();else if("local"==o||!o){var D=e.display.sizer.getBoundingClientRect();r+=D.left,a+=D.top}var Q=e.display.lineSpace.getBoundingClientRect();return{left:r-Q.left,top:a-Q.top}}function Qi(e,t,o,r,a){return r||(r=Tt(e.doc,t.line)),Ji(e,r,$t(e,r,t.ch,a),o)}function Pr(e,t,o,r,a,D){function Q(nt,Ke){var it=Bn(e,a,nt,Ke?"right":"left",D);return Ke?it.left=it.right:it.right=it.left,Ji(e,r,it,o)}r=r||Tt(e.doc,t.line),a||(a=jn(e,r));var ie=qe(r,e.doc.direction),ve=t.ch,ye=t.sticky;if(ve>=r.text.length?(ve=r.text.length,ye="before"):ve<=0&&(ve=0,ye="after"),!ie)return Q("before"==ye?ve-1:ve,"before"==ye);function Ie(nt,Ke,it){return Q(it?nt-1:nt,1==ie[Ke].level!=it)}var Re=Oe(ie,ve,ye),Ue=ae,Fe=Ie(ve,Re,"before"==ye);return null!=Ue&&(Fe.other=Ie(ve,Ue,"before"!=ye)),Fe}function ua(e,t){var o=0;t=wt(e.doc,t),e.options.lineWrapping||(o=oi(e.display)*t.ch);var r=Tt(e.doc,t.line),a=An(r)+We(e.display);return{left:o,right:o,top:a,bottom:a+r.height}}function So(e,t,o,r,a){var D=q(e,t,o);return D.xRel=a,r&&(D.outside=r),D}function _o(e,t,o){var r=e.doc;if((o+=e.display.viewOffset)<0)return So(r.first,0,null,-1,-1);var a=On(r,o),D=r.first+r.size-1;if(a>D)return So(r.first+r.size-1,Tt(r,D).text.length,null,1,1);t<0&&(t=0);for(var Q=Tt(r,a);;){var ie=Ds(e,Q,a,t,o),ve=$r(Q,ie.ch+(ie.xRel>0||ie.outside>0?1:0));if(!ve)return ie;var ye=ve.find(1);if(ye.line==a)return ye;Q=Tt(r,a=ye.line)}}function fa(e,t,o,r){r-=Co(t);var a=t.text.length,D=G(function(Q){return Bn(e,o,Q-1).bottom<=r},a,0);return{begin:D,end:a=G(function(Q){return Bn(e,o,Q).top>r},D,a)}}function ha(e,t,o,r){return o||(o=jn(e,t)),fa(e,t,o,Ji(e,t,Bn(e,o,r),"line").top)}function jo(e,t,o,r){return!(e.bottom<=o)&&(e.top>o||(r?e.left:e.right)>t)}function Ds(e,t,o,r,a){a-=An(t);var D=jn(e,t),Q=Co(t),ie=0,ve=t.text.length,ye=!0,Ie=qe(t,e.doc.direction);if(Ie){var Re=(e.options.lineWrapping?Rs:Ls)(e,t,o,D,Ie,r,a);ie=(ye=1!=Re.level)?Re.from:Re.to-1,ve=ye?Re.to:Re.from-1}var Ue,Fe,nt=null,Ke=null,it=G(function(Ct){var _t=Bn(e,D,Ct);return _t.top+=Q,_t.bottom+=Q,!!jo(_t,r,a,!1)&&(_t.top<=a&&_t.left<=r&&(nt=Ct,Ke=_t),!0)},ie,ve),pt=!1;if(Ke){var gt=r-Ke.left<Ke.right-r,Ot=gt==ye;it=nt+(Ot?0:1),Fe=Ot?"after":"before",Ue=gt?Ke.left:Ke.right}else{ye||it!=ve&&it!=ie||it++,Fe=0==it?"after":it==t.text.length?"before":Bn(e,D,it-(ye?1:0)).bottom+Q<=a==ye?"after":"before";var jt=Pr(e,q(o,it,Fe),"line",t,D);Ue=jt.left,pt=a<jt.top?-1:a>=jt.bottom?1:0}return So(o,it=rt(t.text,it,1),Fe,pt,r-Ue)}function Ls(e,t,o,r,a,D,Q){var ie=G(function(Re){var Ue=a[Re],Fe=1!=Ue.level;return jo(Pr(e,q(o,Fe?Ue.to:Ue.from,Fe?"before":"after"),"line",t,r),D,Q,!0)},0,a.length-1),ve=a[ie];if(ie>0){var ye=1!=ve.level,Ie=Pr(e,q(o,ye?ve.from:ve.to,ye?"after":"before"),"line",t,r);jo(Ie,D,Q,!0)&&Ie.top>Q&&(ve=a[ie-1])}return ve}function Rs(e,t,o,r,a,D,Q){var ie=fa(e,t,r,Q),ve=ie.begin,ye=ie.end;/\s/.test(t.text.charAt(ye-1))&&ye--;for(var Ie=null,Re=null,Ue=0;Ue<a.length;Ue++){var Fe=a[Ue];if(!(Fe.from>=ye||Fe.to<=ve)){var nt=Bn(e,r,1!=Fe.level?Math.min(ye,Fe.to)-1:Math.max(ve,Fe.from)).right,Ke=nt<D?D-nt+1e9:nt-D;(!Ie||Re>Ke)&&(Ie=Fe,Re=Ke)}}return Ie||(Ie=a[a.length-1]),Ie.from<ve&&(Ie={from:ve,to:Ie.to,level:Ie.level}),Ie.to>ye&&(Ie={from:Ie.from,to:ye,level:Ie.level}),Ie}function ii(e){if(null!=e.cachedTextHeight)return e.cachedTextHeight;if(null==rr){rr=K("pre",null,"CodeMirror-line-like");for(var t=0;t<49;++t)rr.appendChild(document.createTextNode("x")),rr.appendChild(K("br"));rr.appendChild(document.createTextNode("x"))}L(e.measure,rr);var o=rr.offsetHeight/50;return o>3&&(e.cachedTextHeight=o),g(e.measure),o||1}function oi(e){if(null!=e.cachedCharWidth)return e.cachedCharWidth;var t=K("span","xxxxxxxxxx"),o=K("pre",[t],"CodeMirror-line-like");L(e.measure,o);var r=t.getBoundingClientRect(),a=(r.right-r.left)/10;return a>2&&(e.cachedCharWidth=a),a||10}function To(e){for(var t=e.display,o={},r={},a=t.gutters.clientLeft,D=t.gutters.firstChild,Q=0;D;D=D.nextSibling,++Q){var ie=e.display.gutterSpecs[Q].className;o[ie]=D.offsetLeft+D.clientLeft+a,r[ie]=D.clientWidth}return{fixedPos:Eo(t),gutterTotalWidth:t.gutters.offsetWidth,gutterLeft:o,gutterWidth:r,wrapperWidth:t.wrapper.clientWidth}}function Eo(e){return e.scroller.getBoundingClientRect().left-e.sizer.getBoundingClientRect().left}function da(e){var t=ii(e.display),o=e.options.lineWrapping,r=o&&Math.max(5,e.display.scroller.clientWidth/oi(e.display)-3);return function(a){if(dr(e.doc,a))return 0;var D=0;if(a.widgets)for(var Q=0;Q<a.widgets.length;Q++)a.widgets[Q].height&&(D+=a.widgets[Q].height);return o?D+(Math.ceil(a.text.length/r)||1)*t:D+t}}function Po(e){var t=e.doc,o=da(e);t.iter(function(r){var a=o(r);a!=r.height&&Et(r,a)})}function Yr(e,t,o,r){var a=e.display;if(!o&&"true"==ft(t).getAttribute("cm-not-content"))return null;var D,Q,ie=a.lineSpace.getBoundingClientRect();try{D=t.clientX-ie.left,Q=t.clientY-ie.top}catch(Re){return null}var ve,ye=_o(e,D,Q);if(r&&ye.xRel>0&&(ve=Tt(e.doc,ye.line).text).length==ye.ch){var Ie=xe(ve,ve.length,e.options.tabSize)-ve.length;ye=q(ye.line,Math.max(0,Math.round((D-lt(e.display).left)/oi(e.display))-Ie))}return ye}function Kr(e,t){if(t>=e.display.viewTo||(t-=e.display.viewFrom)<0)return null;for(var o=e.display.view,r=0;r<o.length;r++)if((t-=o[r].size)<0)return r}function ir(e,t,o,r){null==t&&(t=e.doc.first),null==o&&(o=e.doc.first+e.doc.size),r||(r=0);var a=e.display;if(r&&o<a.viewTo&&(null==a.updateLineNumbers||a.updateLineNumbers>t)&&(a.updateLineNumbers=t),e.curOp.viewChanged=!0,t>=a.viewTo)yn&&hr(e.doc,t)<a.viewTo&&Fr(e);else if(o<=a.viewFrom)yn&&Cr(e.doc,o+r)>a.viewFrom?Fr(e):(a.viewFrom+=r,a.viewTo+=r);else if(t<=a.viewFrom&&o>=a.viewTo)Fr(e);else if(t<=a.viewFrom){var D=eo(e,o,o+r,1);D?(a.view=a.view.slice(D.index),a.viewFrom=D.lineN,a.viewTo+=r):Fr(e)}else if(o>=a.viewTo){var Q=eo(e,t,t,-1);Q?(a.view=a.view.slice(0,Q.index),a.viewTo=Q.lineN):Fr(e)}else{var ie=eo(e,t,t,-1),ve=eo(e,o,o+r,1);ie&&ve?(a.view=a.view.slice(0,ie.index).concat(Tr(e,ie.lineN,ve.lineN)).concat(a.view.slice(ve.index)),a.viewTo+=r):Fr(e)}var ye=a.externalMeasured;ye&&(o<ye.lineN?ye.lineN+=r:t<ye.lineN+ye.size&&(a.externalMeasured=null))}function Nr(e,t,o){e.curOp.viewChanged=!0;var r=e.display,a=e.display.externalMeasured;if(a&&t>=a.lineN&&t<a.lineN+a.size&&(r.externalMeasured=null),!(t<r.viewFrom||t>=r.viewTo)){var D=r.view[Kr(e,t)];if(null!=D.node){var Q=D.changes||(D.changes=[]);-1==J(Q,o)&&Q.push(o)}}}function Fr(e){e.display.viewFrom=e.display.viewTo=e.doc.first,e.display.view=[],e.display.viewOffset=0}function eo(e,t,o,r){var a,D=Kr(e,t),Q=e.display.view;if(!yn||o==e.doc.first+e.doc.size)return{index:D,lineN:o};for(var ie=e.display.viewFrom,ve=0;ve<D;ve++)ie+=Q[ve].size;if(ie!=t){if(r>0){if(D==Q.length-1)return null;a=ie+Q[D].size-t,D++}else a=ie-t;t+=a,o+=a}for(;hr(e.doc,o)!=o;){if(D==(r<0?0:Q.length-1))return null;o+=r*Q[D-(r<0?1:0)].size,D+=r}return{index:D,lineN:o}}function pa(e){for(var t=e.display.view,o=0,r=0;r<t.length;r++){var a=t[r];a.hidden||a.node&&!a.changes||++o}return o}function Si(e){e.display.input.showSelection(e.display.input.prepareSelection())}function ga(e,t){void 0===t&&(t=!0);for(var o=e.doc,r={},a=r.cursors=document.createDocumentFragment(),D=r.selection=document.createDocumentFragment(),Q=0;Q<o.sel.ranges.length;Q++)if(t||Q!=o.sel.primIndex){var ie=o.sel.ranges[Q];if(!(ie.from().line>=e.display.viewTo||ie.to().line<e.display.viewFrom)){var ve=ie.empty();(ve||e.options.showCursorWhenSelecting)&&ma(e,ie.head,a),ve||Is(e,ie,D)}}return r}function ma(e,t,o){var r=Pr(e,t,"div",null,null,!e.options.singleCursorHeightPerLine),a=o.appendChild(K("div","\xa0","CodeMirror-cursor"));if(a.style.left=r.left+"px",a.style.top=r.top+"px",a.style.height=Math.max(0,r.bottom-r.top)*e.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(e.getWrapperElement().className)){var D=Qi(e,t,"div",null,null);D.right-D.left>0&&(a.style.width=D.right-D.left+"px")}if(r.other){var Q=o.appendChild(K("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));Q.style.display="",Q.style.left=r.other.left+"px",Q.style.top=r.other.top+"px",Q.style.height=.85*(r.other.bottom-r.other.top)+"px"}}function to(e,t){return e.top-t.top||e.left-t.left}function Is(e,t,o){var r=e.display,a=e.doc,D=document.createDocumentFragment(),Q=lt(e.display),ie=Q.left,ve=Math.max(r.sizerWidth,ht(e)-r.sizer.offsetLeft)-Q.right,ye="ltr"==a.direction;function Ie(Ot,jt,Ct,_t){jt<0&&(jt=0),jt=Math.round(jt),_t=Math.round(_t),D.appendChild(K("div",null,"CodeMirror-selected","position: absolute; left: "+Ot+"px;\n                             top: "+jt+"px; width: "+(null==Ct?ve-Ot:Ct)+"px;\n                             height: "+(_t-jt)+"px"))}function Re(Ot,jt,Ct){var _t,Bt,Pt=Tt(a,Ot),Zt=Pt.text.length;function Nt(nn,an){return Qi(e,q(Ot,nn),"div",Pt,an)}function sn(nn,an,Yt){var rn=ha(e,Pt,null,nn),Jt="ltr"==an==("after"==Yt)?"left":"right";return Nt("after"==Yt?rn.begin:rn.end-(/\s/.test(Pt.text.charAt(rn.end-1))?2:1),Jt)[Jt]}var fn=qe(Pt,a.direction);return function(nn,an,Yt,rn){if(!nn)return rn(an,Yt,"ltr",0);for(var Jt=!1,en=0;en<nn.length;++en){var Wt=nn[en];(Wt.from<Yt&&Wt.to>an||an==Yt&&Wt.to==an)&&(rn(Math.max(Wt.from,an),Math.min(Wt.to,Yt),1==Wt.level?"rtl":"ltr",en),Jt=!0)}Jt||rn(an,Yt,"ltr")}(fn,jt||0,null==Ct?Zt:Ct,function(nn,an,Yt,rn){var Jt="ltr"==Yt,en=Nt(nn,Jt?"left":"right"),Wt=Nt(an-1,Jt?"right":"left"),Mn=null==jt&&0==nn,bn=null==Ct&&an==Zt,hn=0==rn,on=!fn||rn==fn.length-1;if(Wt.top-en.top<=3){var Sn=(ye?Mn:bn)&&hn?ie:(Jt?en:Wt).left;Ie(Sn,en.top,((ye?bn:Mn)&&on?ve:(Jt?Wt:en).right)-Sn,en.bottom)}else{var Rn,vn,In,Rr;Jt?(Rn=ye&&Mn&&hn?ie:en.left,vn=ye?ve:sn(nn,Yt,"before"),In=ye?ie:sn(an,Yt,"after"),Rr=ye&&bn&&on?ve:Wt.right):(Rn=ye?sn(nn,Yt,"before"):ie,vn=!ye&&Mn&&hn?ve:en.right,In=!ye&&bn&&on?ie:Wt.left,Rr=ye?sn(an,Yt,"after"):ve),Ie(Rn,en.top,vn-Rn,en.bottom),en.bottom<Wt.top&&Ie(ie,en.bottom,null,Wt.top),Ie(In,Wt.top,Rr-In,Wt.bottom)}(!_t||to(en,_t)<0)&&(_t=en),to(Wt,_t)<0&&(_t=Wt),(!Bt||to(en,Bt)<0)&&(Bt=en),to(Wt,Bt)<0&&(Bt=Wt)}),{start:_t,end:Bt}}var Ue=t.from(),Fe=t.to();if(Ue.line==Fe.line)Re(Ue.line,Ue.ch,Fe.ch);else{var nt=Tt(a,Ue.line),Ke=Tt(a,Fe.line),it=gn(nt)==gn(Ke),pt=Re(Ue.line,Ue.ch,it?nt.text.length+1:null).end,gt=Re(Fe.line,it?0:null,Fe.ch).start;it&&(pt.top<gt.top-2?(Ie(pt.right,pt.top,null,pt.bottom),Ie(ie,gt.top,gt.left,gt.bottom)):Ie(pt.right,pt.top,gt.left-pt.right,pt.bottom)),pt.bottom<gt.top&&Ie(ie,pt.bottom,null,gt.top)}o.appendChild(D)}function Ao(e){if(e.state.focused){var t=e.display;clearInterval(t.blinker);var o=!0;t.cursorDiv.style.visibility="",e.options.cursorBlinkRate>0?t.blinker=setInterval(function(){e.hasFocus()||ai(e),t.cursorDiv.style.visibility=(o=!o)?"":"hidden"},e.options.cursorBlinkRate):e.options.cursorBlinkRate<0&&(t.cursorDiv.style.visibility="hidden")}}function va(e){e.hasFocus()||(e.display.input.focus(),e.state.focused||Do(e))}function Mo(e){e.state.delayingBlurEvent=!0,setTimeout(function(){e.state.delayingBlurEvent&&(e.state.delayingBlurEvent=!1,e.state.focused&&ai(e))},100)}function Do(e,t){e.state.delayingBlurEvent&&!e.state.draggingText&&(e.state.delayingBlurEvent=!1),"nocursor"!=e.options.readOnly&&(e.state.focused||(Ae(e,"focus",e,t),e.state.focused=!0,ce(e.display.wrapper,"CodeMirror-focused"),e.curOp||e.display.selForContextMenu==e.doc.sel||(e.display.input.reset(),u&&setTimeout(function(){return e.display.input.reset(!0)},20)),e.display.input.receivedFocus()),Ao(e))}function ai(e,t){e.state.delayingBlurEvent||(e.state.focused&&(Ae(e,"blur",e,t),e.state.focused=!1,y(e.display.wrapper,"CodeMirror-focused")),clearInterval(e.display.blinker),setTimeout(function(){e.state.focused||(e.display.shift=!1)},150))}function no(e){for(var t=e.display,o=t.lineDiv.offsetTop,r=Math.max(0,t.scroller.getBoundingClientRect().top),a=t.lineDiv.getBoundingClientRect().top,D=0,Q=0;Q<t.view.length;Q++){var ie=t.view[Q],ve=e.options.lineWrapping,ye=void 0,Ie=0;if(!ie.hidden){if(a+=ie.line.height,c&&h<8){var Re=ie.node.offsetTop+ie.node.offsetHeight;ye=Re-o,o=Re}else{var Ue=ie.node.getBoundingClientRect();ye=Ue.bottom-Ue.top,!ve&&ie.text.firstChild&&(Ie=ie.text.firstChild.getBoundingClientRect().right-Ue.left-1)}var Fe=ie.line.height-ye;if((Fe>.005||Fe<-.005)&&(a<r&&(D-=Fe),Et(ie.line,ye),ya(ie.line),ie.rest))for(var nt=0;nt<ie.rest.length;nt++)ya(ie.rest[nt]);if(Ie>e.display.sizerWidth){var Ke=Math.ceil(Ie/oi(e.display));Ke>e.display.maxLineLength&&(e.display.maxLineLength=Ke,e.display.maxLine=ie.line,e.display.maxLineChanged=!0)}}}Math.abs(D)>2&&(t.scroller.scrollTop+=D)}function ya(e){if(e.widgets)for(var t=0;t<e.widgets.length;++t){var o=e.widgets[t],r=o.node.parentNode;r&&(o.height=r.offsetHeight)}}function ro(e,t,o){var r=o&&null!=o.top?Math.max(0,o.top):e.scroller.scrollTop;r=Math.floor(r-We(e));var a=o&&null!=o.bottom?o.bottom:r+e.wrapper.clientHeight,D=On(t,r),Q=On(t,a);if(o&&o.ensure){var ie=o.ensure.from.line,ve=o.ensure.to.line;ie<D?(D=ie,Q=On(t,An(Tt(t,ie))+e.wrapper.clientHeight)):Math.min(ve,t.lastLine())>=Q&&(D=On(t,An(Tt(t,ve))-e.wrapper.clientHeight),Q=ve)}return{from:D,to:Math.max(Q,D+1)}}function Lo(e,t){var o=e.display,r=ii(e.display);t.top<0&&(t.top=0);var a=e.curOp&&null!=e.curOp.scrollTop?e.curOp.scrollTop:o.scroller.scrollTop,D=xt(e),Q={};t.bottom-t.top>D&&(t.bottom=t.top+D);var ie=e.doc.height+Ye(o),ye=t.bottom>ie-r;if(t.top<a)Q.scrollTop=t.top<r?0:t.top;else if(t.bottom>a+D){var Ie=Math.min(t.top,(ye?ie:t.bottom)-D);Ie!=a&&(Q.scrollTop=Ie)}var Re=e.options.fixedGutter?0:o.gutters.offsetWidth,Ue=e.curOp&&null!=e.curOp.scrollLeft?e.curOp.scrollLeft:o.scroller.scrollLeft-Re,Fe=ht(e)-o.gutters.offsetWidth,nt=t.right-t.left>Fe;return nt&&(t.right=t.left+Fe),t.left<10?Q.scrollLeft=0:t.left<Ue?Q.scrollLeft=Math.max(0,t.left+Re-(nt?0:10)):t.right>Fe+Ue-3&&(Q.scrollLeft=t.right+(nt?0:10)-Fe),Q}function Ro(e,t){null!=t&&(io(e),e.curOp.scrollTop=(null==e.curOp.scrollTop?e.doc.scrollTop:e.curOp.scrollTop)+t)}function si(e){io(e);var t=e.getCursor();e.curOp.scrollToPos={from:t,to:t,margin:e.options.cursorScrollMargin}}function _i(e,t,o){null==t&&null==o||io(e),null!=t&&(e.curOp.scrollLeft=t),null!=o&&(e.curOp.scrollTop=o)}function io(e){var t=e.curOp.scrollToPos;t&&(e.curOp.scrollToPos=null,ba(e,ua(e,t.from),ua(e,t.to),t.margin))}function ba(e,t,o,r){var a=Lo(e,{left:Math.min(t.left,o.left),top:Math.min(t.top,o.top)-r,right:Math.max(t.right,o.right),bottom:Math.max(t.bottom,o.bottom)+r});_i(e,a.scrollLeft,a.scrollTop)}function ji(e,t){Math.abs(e.doc.scrollTop-t)<2||(Y||No(e,{top:t}),wa(e,t,!0),Y&&No(e),Pi(e,100))}function wa(e,t,o){t=Math.max(0,Math.min(e.display.scroller.scrollHeight-e.display.scroller.clientHeight,t)),(e.display.scroller.scrollTop!=t||o)&&(e.doc.scrollTop=t,e.display.scrollbars.setScrollTop(t),e.display.scroller.scrollTop!=t&&(e.display.scroller.scrollTop=t))}function Zr(e,t,o,r){t=Math.max(0,Math.min(t,e.display.scroller.scrollWidth-e.display.scroller.clientWidth)),(o?t==e.doc.scrollLeft:Math.abs(e.doc.scrollLeft-t)<2)&&!r||(e.doc.scrollLeft=t,Sa(e),e.display.scroller.scrollLeft!=t&&(e.display.scroller.scrollLeft=t),e.display.scrollbars.setScrollLeft(t))}function Ti(e){var t=e.display,o=t.gutters.offsetWidth,r=Math.round(e.doc.height+Ye(e.display));return{clientHeight:t.scroller.clientHeight,viewHeight:t.wrapper.clientHeight,scrollWidth:t.scroller.scrollWidth,clientWidth:t.scroller.clientWidth,viewWidth:t.wrapper.clientWidth,barLeft:e.options.fixedGutter?o:0,docHeight:r,scrollHeight:r+Qe(e)+t.barHeight,nativeBarWidth:t.nativeBarWidth,gutterWidth:o}}var Xr=function(e,t,o){this.cm=o;var r=this.vert=K("div",[K("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),a=this.horiz=K("div",[K("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");r.tabIndex=a.tabIndex=-1,e(r),e(a),ot(r,"scroll",function(){r.clientHeight&&t(r.scrollTop,"vertical")}),ot(a,"scroll",function(){a.clientWidth&&t(a.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,c&&h<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Xr.prototype.update=function(e){var t=e.scrollWidth>e.clientWidth+1,o=e.scrollHeight>e.clientHeight+1,r=e.nativeBarWidth;return o?(this.vert.style.display="block",this.vert.style.bottom=t?r+"px":"0",this.vert.firstChild.style.height=Math.max(0,e.scrollHeight-e.clientHeight+(e.viewHeight-(t?r:0)))+"px"):(this.vert.style.display="",this.vert.firstChild.style.height="0"),t?(this.horiz.style.display="block",this.horiz.style.right=o?r+"px":"0",this.horiz.style.left=e.barLeft+"px",this.horiz.firstChild.style.width=Math.max(0,e.scrollWidth-e.clientWidth+(e.viewWidth-e.barLeft-(o?r:0)))+"px"):(this.horiz.style.display="",this.horiz.firstChild.style.width="0"),!this.checkedZeroWidth&&e.clientHeight>0&&(0==r&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:o?r:0,bottom:t?r:0}},Xr.prototype.setScrollLeft=function(e){this.horiz.scrollLeft!=e&&(this.horiz.scrollLeft=e),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Xr.prototype.setScrollTop=function(e){this.vert.scrollTop!=e&&(this.vert.scrollTop=e),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Xr.prototype.zeroWidthHack=function(){this.horiz.style.height=this.vert.style.width=T&&!b?"12px":"18px",this.horiz.style.pointerEvents=this.vert.style.pointerEvents="none",this.disableHoriz=new re,this.disableVert=new re},Xr.prototype.enableZeroWidthBar=function(e,t,o){e.style.pointerEvents="auto",t.set(1e3,function r(){var a=e.getBoundingClientRect();("vert"==o?document.elementFromPoint(a.right-1,(a.top+a.bottom)/2):document.elementFromPoint((a.right+a.left)/2,a.bottom-1))!=e?e.style.pointerEvents="none":t.set(1e3,r)})},Xr.prototype.clear=function(){var e=this.horiz.parentNode;e.removeChild(this.horiz),e.removeChild(this.vert)};var Ei=function(){};function li(e,t){t||(t=Ti(e));var o=e.display.barWidth,r=e.display.barHeight;xa(e,t);for(var a=0;a<4&&o!=e.display.barWidth||r!=e.display.barHeight;a++)o!=e.display.barWidth&&e.options.lineWrapping&&no(e),xa(e,Ti(e)),o=e.display.barWidth,r=e.display.barHeight}function xa(e,t){var o=e.display,r=o.scrollbars.update(t);o.sizer.style.paddingRight=(o.barWidth=r.right)+"px",o.sizer.style.paddingBottom=(o.barHeight=r.bottom)+"px",o.heightForcer.style.borderBottom=r.bottom+"px solid transparent",r.right&&r.bottom?(o.scrollbarFiller.style.display="block",o.scrollbarFiller.style.height=r.bottom+"px",o.scrollbarFiller.style.width=r.right+"px"):o.scrollbarFiller.style.display="",r.bottom&&e.options.coverGutterNextToScrollbar&&e.options.fixedGutter?(o.gutterFiller.style.display="block",o.gutterFiller.style.height=r.bottom+"px",o.gutterFiller.style.width=t.gutterWidth+"px"):o.gutterFiller.style.display=""}Ei.prototype.update=function(){return{bottom:0,right:0}},Ei.prototype.setScrollLeft=function(){},Ei.prototype.setScrollTop=function(){},Ei.prototype.clear=function(){};var Oa={native:Xr,null:Ei};function ka(e){e.display.scrollbars&&(e.display.scrollbars.clear(),e.display.scrollbars.addClass&&y(e.display.wrapper,e.display.scrollbars.addClass)),e.display.scrollbars=new Oa[e.options.scrollbarStyle](function(t){e.display.wrapper.insertBefore(t,e.display.scrollbarFiller),ot(t,"mousedown",function(){e.state.focused&&setTimeout(function(){return e.display.input.focus()},0)}),t.setAttribute("cm-not-content","true")},function(t,o){"horizontal"==o?Zr(e,t):ji(e,t)},e),e.display.scrollbars.addClass&&ce(e.display.wrapper,e.display.scrollbars.addClass)}var Ns=0;function Jr(e){var t;e.curOp={cm:e,viewChanged:!1,startHeight:e.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Ns,markArrays:null},t=e.curOp,xr?xr.ops.push(t):t.ownsGroup=xr={ops:[t],delayedCallbacks:[]}}function Qr(e){var t=e.curOp;t&&function(o,r){var a=o.ownsGroup;if(a)try{!function(D){var Q=D.delayedCallbacks,ie=0;do{for(;ie<Q.length;ie++)Q[ie].call(null);for(var ve=0;ve<D.ops.length;ve++){var ye=D.ops[ve];if(ye.cursorActivityHandlers)for(;ye.cursorActivityCalled<ye.cursorActivityHandlers.length;)ye.cursorActivityHandlers[ye.cursorActivityCalled++].call(null,ye.cm)}}while(ie<Q.length)}(a)}finally{xr=null,function(o){for(var r=0;r<o.ops.length;r++)o.ops[r].cm.curOp=null;!function(a){for(var D=a.ops,Q=0;Q<D.length;Q++)Fs(D[Q]);for(var ie=0;ie<D.length;ie++)zs(D[ie]);for(var ve=0;ve<D.length;ve++)Bs(D[ve]);for(var ye=0;ye<D.length;ye++)Vs(D[ye]);for(var Ie=0;Ie<D.length;Ie++)Us(D[Ie])}(o)}(a)}}(t)}function Fs(e){var r,a,t=e.cm,o=t.display;!(a=(r=t).display).scrollbarsClipped&&a.scroller.offsetWidth&&(a.nativeBarWidth=a.scroller.offsetWidth-a.scroller.clientWidth,a.heightForcer.style.height=Qe(r)+"px",a.sizer.style.marginBottom=-a.nativeBarWidth+"px",a.sizer.style.borderRightWidth=Qe(r)+"px",a.scrollbarsClipped=!0),e.updateMaxLine&&jr(t),e.mustUpdate=e.viewChanged||e.forceUpdate||null!=e.scrollTop||e.scrollToPos&&(e.scrollToPos.from.line<o.viewFrom||e.scrollToPos.to.line>=o.viewTo)||o.maxLineChanged&&t.options.lineWrapping,e.update=e.mustUpdate&&new oo(t,e.mustUpdate&&{top:e.scrollTop,ensure:e.scrollToPos},e.forceUpdate)}function zs(e){e.updatedDisplay=e.mustUpdate&&Io(e.cm,e.update)}function Bs(e){var t=e.cm,o=t.display;e.updatedDisplay&&no(t),e.barMeasure=Ti(t),o.maxLineChanged&&!t.options.lineWrapping&&(e.adjustWidthTo=$t(t,o.maxLine,o.maxLine.text.length).left+3,t.display.sizerWidth=e.adjustWidthTo,e.barMeasure.scrollWidth=Math.max(o.scroller.clientWidth,o.sizer.offsetLeft+e.adjustWidthTo+Qe(t)+t.display.barWidth),e.maxScrollLeft=Math.max(0,o.sizer.offsetLeft+e.adjustWidthTo-ht(t))),(e.updatedDisplay||e.selectionChanged)&&(e.preparedSelection=o.input.prepareSelection())}function Vs(e){var t=e.cm;null!=e.adjustWidthTo&&(t.display.sizer.style.minWidth=e.adjustWidthTo+"px",e.maxScrollLeft<t.doc.scrollLeft&&Zr(t,Math.min(t.display.scroller.scrollLeft,e.maxScrollLeft),!0),t.display.maxLineChanged=!1);var o=e.focus&&e.focus==fe();e.preparedSelection&&t.display.input.showSelection(e.preparedSelection,o),(e.updatedDisplay||e.startHeight!=t.doc.height)&&li(t,e.barMeasure),e.updatedDisplay&&zo(t,e.barMeasure),e.selectionChanged&&Ao(t),t.state.focused&&e.updateInput&&t.display.input.reset(e.typing),o&&va(e.cm)}function Us(e){var t=e.cm,o=t.display,r=t.doc;e.updatedDisplay&&Ca(t,e.update),null==o.wheelStartX||null==e.scrollTop&&null==e.scrollLeft&&!e.scrollToPos||(o.wheelStartX=o.wheelStartY=null),null!=e.scrollTop&&wa(t,e.scrollTop,e.forceScroll),null!=e.scrollLeft&&Zr(t,e.scrollLeft,!0,!0),e.scrollToPos&&function(ve,ye){if(!Ne(ve,"scrollCursorIntoView")){var Ie=ve.display,Re=Ie.sizer.getBoundingClientRect(),Ue=null;if(ye.top+Re.top<0?Ue=!0:ye.bottom+Re.top>(window.innerHeight||document.documentElement.clientHeight)&&(Ue=!1),null!=Ue&&!A){var Fe=K("div","\u200b",null,"position: absolute;\n                         top: "+(ye.top-Ie.viewOffset-We(ve.display))+"px;\n                         height: "+(ye.bottom-ye.top+Qe(ve)+Ie.barHeight)+"px;\n                         left: "+ye.left+"px; width: "+Math.max(2,ye.right-ye.left)+"px;");ve.display.lineSpace.appendChild(Fe),Fe.scrollIntoView(Ue),ve.display.lineSpace.removeChild(Fe)}}}(t,function(ve,ye,Ie,Re){var Ue;null==Re&&(Re=0),ve.options.lineWrapping||ye!=Ie||(Ie="before"==ye.sticky?q(ye.line,ye.ch+1,"before"):ye,ye=ye.ch?q(ye.line,"before"==ye.sticky?ye.ch-1:ye.ch,"after"):ye);for(var Fe=0;Fe<5;Fe++){var nt=!1,Ke=Pr(ve,ye),it=Ie&&Ie!=ye?Pr(ve,Ie):Ke,pt=Lo(ve,Ue={left:Math.min(Ke.left,it.left),top:Math.min(Ke.top,it.top)-Re,right:Math.max(Ke.left,it.left),bottom:Math.max(Ke.bottom,it.bottom)+Re}),gt=ve.doc.scrollTop,Ot=ve.doc.scrollLeft;if(null!=pt.scrollTop&&(ji(ve,pt.scrollTop),Math.abs(ve.doc.scrollTop-gt)>1&&(nt=!0)),null!=pt.scrollLeft&&(Zr(ve,pt.scrollLeft),Math.abs(ve.doc.scrollLeft-Ot)>1&&(nt=!0)),!nt)break}return Ue}(t,wt(r,e.scrollToPos.from),wt(r,e.scrollToPos.to),e.scrollToPos.margin));var a=e.maybeHiddenMarkers,D=e.maybeUnhiddenMarkers;if(a)for(var Q=0;Q<a.length;++Q)a[Q].lines.length||Ae(a[Q],"hide");if(D)for(var ie=0;ie<D.length;++ie)D[ie].lines.length&&Ae(D[ie],"unhide");o.wrapper.offsetHeight&&(r.scrollTop=t.display.scroller.scrollTop),e.changeObjs&&Ae(t,"changes",t,e.changeObjs),e.update&&e.update.finish()}function vr(e,t){if(e.curOp)return t();Jr(e);try{return t()}finally{Qr(e)}}function Dn(e,t){return function(){if(e.curOp)return t.apply(e,arguments);Jr(e);try{return t.apply(e,arguments)}finally{Qr(e)}}}function Qn(e){return function(){if(this.curOp)return e.apply(this,arguments);Jr(this);try{return e.apply(this,arguments)}finally{Qr(this)}}}function Ln(e){return function(){var t=this.cm;if(!t||t.curOp)return e.apply(this,arguments);Jr(t);try{return e.apply(this,arguments)}finally{Qr(t)}}}function Pi(e,t){e.doc.highlightFrontier<e.display.viewTo&&e.state.highlight.set(t,se(Hs,e))}function Hs(e){var t=e.doc;if(!(t.highlightFrontier>=e.display.viewTo)){var o=+new Date+e.options.workTime,r=sr(e,t.highlightFrontier),a=[];t.iter(r.line,Math.min(t.first+t.size,e.display.viewTo+500),function(D){if(r.line>=e.display.viewFrom){var Q=D.styles,ie=D.text.length>e.options.maxHighlightLength?Xt(t.mode,r.state):null,ve=kn(e,D,r,!0);ie&&(r.state=ie),D.styles=ve.styles;var ye=D.styleClasses,Ie=ve.classes;Ie?D.styleClasses=Ie:ye&&(D.styleClasses=null);for(var Re=!Q||Q.length!=D.styles.length||ye!=Ie&&(!ye||!Ie||ye.bgClass!=Ie.bgClass||ye.textClass!=Ie.textClass),Ue=0;!Re&&Ue<Q.length;++Ue)Re=Q[Ue]!=D.styles[Ue];Re&&a.push(r.line),D.stateAfter=r.save(),r.nextLine()}else D.text.length<=e.options.maxHighlightLength&&Yn(e,D.text,r),D.stateAfter=r.line%5==0?r.save():null,r.nextLine();if(+new Date>o)return Pi(e,e.options.workDelay),!0}),t.highlightFrontier=r.line,t.modeFrontier=Math.max(t.modeFrontier,r.line),a.length&&vr(e,function(){for(var D=0;D<a.length;D++)Nr(e,a[D],"text")})}}var oo=function(e,t,o){var r=e.display;this.viewport=t,this.visible=ro(r,e.doc,t),this.editorIsHidden=!r.wrapper.offsetWidth,this.wrapperHeight=r.wrapper.clientHeight,this.wrapperWidth=r.wrapper.clientWidth,this.oldDisplayWidth=ht(e),this.force=o,this.dims=To(e),this.events=[]};function Io(e,t){var o=e.display,r=e.doc;if(t.editorIsHidden)return Fr(e),!1;if(!t.force&&t.visible.from>=o.viewFrom&&t.visible.to<=o.viewTo&&(null==o.updateLineNumbers||o.updateLineNumbers>=o.viewTo)&&o.renderedView==o.view&&0==pa(e))return!1;_a(e)&&(Fr(e),t.dims=To(e));var a=r.first+r.size,D=Math.max(t.visible.from-e.options.viewportMargin,r.first),Q=Math.min(a,t.visible.to+e.options.viewportMargin);o.viewFrom<D&&D-o.viewFrom<20&&(D=Math.max(r.first,o.viewFrom)),o.viewTo>Q&&o.viewTo-Q<20&&(Q=Math.min(a,o.viewTo)),yn&&(D=hr(e.doc,D),Q=Cr(e.doc,Q));var Ie,Re,Ue,Fe,ie=D!=o.viewFrom||Q!=o.viewTo||o.lastWrapHeight!=t.wrapperHeight||o.lastWrapWidth!=t.wrapperWidth;Re=D,Ue=Q,0==(Fe=(Ie=e).display).view.length||Re>=Fe.viewTo||Ue<=Fe.viewFrom?(Fe.view=Tr(Ie,Re,Ue),Fe.viewFrom=Re):(Fe.viewFrom>Re?Fe.view=Tr(Ie,Re,Fe.viewFrom).concat(Fe.view):Fe.viewFrom<Re&&(Fe.view=Fe.view.slice(Kr(Ie,Re))),Fe.viewFrom=Re,Fe.viewTo<Ue?Fe.view=Fe.view.concat(Tr(Ie,Fe.viewTo,Ue)):Fe.viewTo>Ue&&(Fe.view=Fe.view.slice(0,Kr(Ie,Ue)))),Fe.viewTo=Ue,o.viewOffset=An(Tt(e.doc,o.viewFrom)),e.display.mover.style.top=o.viewOffset+"px";var ve=pa(e);if(!ie&&0==ve&&!t.force&&o.renderedView==o.view&&(null==o.updateLineNumbers||o.updateLineNumbers>=o.viewTo))return!1;var ye=function(Ie){if(Ie.hasFocus())return null;var Re=fe();if(!Re||!De(Ie.display.lineDiv,Re))return null;var Ue={activeElt:Re};if(window.getSelection){var Fe=window.getSelection();Fe.anchorNode&&Fe.extend&&De(Ie.display.lineDiv,Fe.anchorNode)&&(Ue.anchorNode=Fe.anchorNode,Ue.anchorOffset=Fe.anchorOffset,Ue.focusNode=Fe.focusNode,Ue.focusOffset=Fe.focusOffset)}return Ue}(e);return ve>4&&(o.lineDiv.style.display="none"),function(Ie,Re,Ue){var Fe=Ie.display,nt=Ie.options.lineNumbers,Ke=Fe.lineDiv,it=Ke.firstChild;function pt(Pt){var Zt=Pt.nextSibling;return u&&T&&Ie.display.currentWheelTarget==Pt?Pt.style.display="none":Pt.parentNode.removeChild(Pt),Zt}for(var gt=Fe.view,Ot=Fe.viewFrom,jt=0;jt<gt.length;jt++){var Ct=gt[jt];if(!Ct.hidden)if(Ct.node&&Ct.node.parentNode==Ke){for(;it!=Ct.node;)it=pt(it);var _t=nt&&null!=Re&&Re<=Ot&&Ct.lineNumber;Ct.changes&&(J(Ct.changes,"gutter")>-1&&(_t=!1),bi(Ie,Ct,Ot,Ue)),_t&&(g(Ct.lineNumber),Ct.lineNumber.appendChild(document.createTextNode(I(Ie.options,Ot)))),it=Ct.node.nextSibling}else{var Bt=ki(Ie,Ct,Ot,Ue);Ke.insertBefore(Bt,it)}Ot+=Ct.size}for(;it;)it=pt(it)}(e,o.updateLineNumbers,t.dims),ve>4&&(o.lineDiv.style.display=""),o.renderedView=o.view,function(Ie){if(Ie&&Ie.activeElt&&Ie.activeElt!=fe()&&(Ie.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(Ie.activeElt.nodeName)&&Ie.anchorNode&&De(document.body,Ie.anchorNode)&&De(document.body,Ie.focusNode))){var Re=window.getSelection(),Ue=document.createRange();Ue.setEnd(Ie.anchorNode,Ie.anchorOffset),Ue.collapse(!1),Re.removeAllRanges(),Re.addRange(Ue),Re.extend(Ie.focusNode,Ie.focusOffset)}}(ye),g(o.cursorDiv),g(o.selectionDiv),o.gutters.style.height=o.sizer.style.minHeight=0,ie&&(o.lastWrapHeight=t.wrapperHeight,o.lastWrapWidth=t.wrapperWidth,Pi(e,400)),o.updateLineNumbers=null,!0}function Ca(e,t){for(var o=t.viewport,r=!0;;r=!1){if(r&&e.options.lineWrapping&&t.oldDisplayWidth!=ht(e))r&&(t.visible=ro(e.display,e.doc,o));else if(o&&null!=o.top&&(o={top:Math.min(e.doc.height+Ye(e.display)-xt(e),o.top)}),t.visible=ro(e.display,e.doc,o),t.visible.from>=e.display.viewFrom&&t.visible.to<=e.display.viewTo)break;if(!Io(e,t))break;no(e);var a=Ti(e);Si(e),li(e,a),zo(e,a),t.force=!1}t.signal(e,"update",e),e.display.viewFrom==e.display.reportedViewFrom&&e.display.viewTo==e.display.reportedViewTo||(t.signal(e,"viewportChange",e,e.display.viewFrom,e.display.viewTo),e.display.reportedViewFrom=e.display.viewFrom,e.display.reportedViewTo=e.display.viewTo)}function No(e,t){var o=new oo(e,t);if(Io(e,o)){no(e),Ca(e,o);var r=Ti(e);Si(e),li(e,r),zo(e,r),o.finish()}}function Fo(e){e.sizer.style.marginLeft=e.gutters.offsetWidth+"px",wn(e,"gutterChanged",e)}function zo(e,t){e.display.sizer.style.minHeight=t.docHeight+"px",e.display.heightForcer.style.top=t.docHeight+"px",e.display.gutters.style.height=t.docHeight+e.display.barHeight+Qe(e)+"px"}function Sa(e){var t=e.display,o=t.view;if(t.alignWidgets||t.gutters.firstChild&&e.options.fixedGutter){for(var r=Eo(t)-t.scroller.scrollLeft+e.doc.scrollLeft,a=t.gutters.offsetWidth,D=r+"px",Q=0;Q<o.length;Q++)if(!o[Q].hidden){e.options.fixedGutter&&(o[Q].gutter&&(o[Q].gutter.style.left=D),o[Q].gutterBackground&&(o[Q].gutterBackground.style.left=D));var ie=o[Q].alignable;if(ie)for(var ve=0;ve<ie.length;ve++)ie[ve].style.left=D}e.options.fixedGutter&&(t.gutters.style.left=r+a+"px")}}function _a(e){if(!e.options.lineNumbers)return!1;var t=e.doc,o=I(e.options,t.first+t.size-1),r=e.display;if(o.length!=r.lineNumChars){var a=r.measure.appendChild(K("div",[K("div",o)],"CodeMirror-linenumber CodeMirror-gutter-elt")),D=a.firstChild.offsetWidth,Q=a.offsetWidth-D;return r.lineGutter.style.width="",r.lineNumInnerWidth=Math.max(D,r.lineGutter.offsetWidth-Q)+1,r.lineNumWidth=r.lineNumInnerWidth+Q,r.lineNumChars=r.lineNumInnerWidth?o.length:-1,r.lineGutter.style.width=r.lineNumWidth+"px",Fo(e.display),!0}return!1}function Bo(e,t){for(var o=[],r=!1,a=0;a<e.length;a++){var D=e[a],Q=null;if("string"!=typeof D&&(Q=D.style,D=D.className),"CodeMirror-linenumbers"==D){if(!t)continue;r=!0}o.push({className:D,style:Q})}return t&&!r&&o.push({className:"CodeMirror-linenumbers",style:null}),o}function ja(e){var t=e.gutters,o=e.gutterSpecs;g(t),e.lineGutter=null;for(var r=0;r<o.length;++r){var a=o[r],D=a.className,Q=a.style,ie=t.appendChild(K("div",null,"CodeMirror-gutter "+D));Q&&(ie.style.cssText=Q),"CodeMirror-linenumbers"==D&&(e.lineGutter=ie,ie.style.width=(e.lineNumWidth||1)+"px")}t.style.display=o.length?"":"none",Fo(e)}function Ai(e){ja(e.display),ir(e),Sa(e)}function Ws(e,t,o,r){var a=this;this.input=o,a.scrollbarFiller=K("div",null,"CodeMirror-scrollbar-filler"),a.scrollbarFiller.setAttribute("cm-not-content","true"),a.gutterFiller=K("div",null,"CodeMirror-gutter-filler"),a.gutterFiller.setAttribute("cm-not-content","true"),a.lineDiv=ee("div",null,"CodeMirror-code"),a.selectionDiv=K("div",null,null,"position: relative; z-index: 1"),a.cursorDiv=K("div",null,"CodeMirror-cursors"),a.measure=K("div",null,"CodeMirror-measure"),a.lineMeasure=K("div",null,"CodeMirror-measure"),a.lineSpace=ee("div",[a.measure,a.lineMeasure,a.selectionDiv,a.cursorDiv,a.lineDiv],null,"position: relative; outline: none");var D=ee("div",[a.lineSpace],"CodeMirror-lines");a.mover=K("div",[D],null,"position: relative"),a.sizer=K("div",[a.mover],"CodeMirror-sizer"),a.sizerWidth=null,a.heightForcer=K("div",null,null,"position: absolute; height: 50px; width: 1px;"),a.gutters=K("div",null,"CodeMirror-gutters"),a.lineGutter=null,a.scroller=K("div",[a.sizer,a.heightForcer,a.gutters],"CodeMirror-scroll"),a.scroller.setAttribute("tabIndex","-1"),a.wrapper=K("div",[a.scrollbarFiller,a.gutterFiller,a.scroller],"CodeMirror"),a.wrapper.setAttribute("translate","no"),c&&h<8&&(a.gutters.style.zIndex=-1,a.scroller.style.paddingRight=0),u||Y&&k||(a.scroller.draggable=!0),e&&(e.appendChild?e.appendChild(a.wrapper):e(a.wrapper)),a.viewFrom=a.viewTo=t.first,a.reportedViewFrom=a.reportedViewTo=t.first,a.view=[],a.renderedView=null,a.externalMeasured=null,a.viewOffset=0,a.lastWrapHeight=a.lastWrapWidth=0,a.updateLineNumbers=null,a.nativeBarWidth=a.barHeight=a.barWidth=0,a.scrollbarsClipped=!1,a.lineNumWidth=a.lineNumInnerWidth=a.lineNumChars=null,a.alignWidgets=!1,a.cachedCharWidth=a.cachedTextHeight=a.cachedPaddingH=null,a.maxLine=null,a.maxLineLength=0,a.maxLineChanged=!1,a.wheelDX=a.wheelDY=a.wheelStartX=a.wheelStartY=null,a.shift=!1,a.selForContextMenu=null,a.activeTouch=null,a.gutterSpecs=Bo(r.gutters,r.lineNumbers),ja(a),o.init(a)}oo.prototype.signal=function(e,t){Be(e,t)&&this.events.push(arguments)},oo.prototype.finish=function(){for(var e=0;e<this.events.length;e++)Ae.apply(null,this.events[e])};var ao=0,Or=null;function Ta(e){var t=e.wheelDeltaX,o=e.wheelDeltaY;return null==t&&e.detail&&e.axis==e.HORIZONTAL_AXIS&&(t=e.detail),null==o&&e.detail&&e.axis==e.VERTICAL_AXIS?o=e.detail:null==o&&(o=e.wheelDelta),{x:t,y:o}}function $s(e){var t=Ta(e);return t.x*=Or,t.y*=Or,t}function Ea(e,t){var o=Ta(t),r=o.x,a=o.y,D=e.display,Q=D.scroller,ve=Q.scrollHeight>Q.clientHeight;if(r&&Q.scrollWidth>Q.clientWidth||a&&ve){if(a&&T&&u)e:for(var ye=t.target,Ie=D.view;ye!=Q;ye=ye.parentNode)for(var Re=0;Re<Ie.length;Re++)if(Ie[Re].node==ye){e.display.currentWheelTarget=ye;break e}if(r&&!Y&&!P&&null!=Or)return a&&ve&&ji(e,Math.max(0,Q.scrollTop+a*Or)),Zr(e,Math.max(0,Q.scrollLeft+r*Or)),(!a||a&&ve)&&tt(t),void(D.wheelStartX=null);if(a&&null!=Or){var Ue=a*Or,Fe=e.doc.scrollTop,nt=Fe+D.wrapper.clientHeight;Ue<0?Fe=Math.max(0,Fe+Ue-50):nt=Math.min(e.doc.height,nt+Ue+50),No(e,{top:Fe,bottom:nt})}ao<20&&(null==D.wheelStartX?(D.wheelStartX=Q.scrollLeft,D.wheelStartY=Q.scrollTop,D.wheelDX=r,D.wheelDY=a,setTimeout(function(){if(null!=D.wheelStartX){var Ke=Q.scrollLeft-D.wheelStartX,it=Q.scrollTop-D.wheelStartY,pt=it&&D.wheelDY&&it/D.wheelDY||Ke&&D.wheelDX&&Ke/D.wheelDX;D.wheelStartX=D.wheelStartY=null,pt&&(Or=(Or*ao+pt)/(ao+1),++ao)}},200)):(D.wheelDX+=r,D.wheelDY+=a))}}c?Or=-.53:Y?Or=15:f?Or=-.7:w&&(Or=-1/3);var kr=function(e,t){this.ranges=e,this.primIndex=t};kr.prototype.primary=function(){return this.ranges[this.primIndex]},kr.prototype.equals=function(e){if(e==this)return!0;if(e.primIndex!=this.primIndex||e.ranges.length!=this.ranges.length)return!1;for(var t=0;t<this.ranges.length;t++){var o=this.ranges[t],r=e.ranges[t];if(!Te(o.anchor,r.anchor)||!Te(o.head,r.head))return!1}return!0},kr.prototype.deepCopy=function(){for(var e=[],t=0;t<this.ranges.length;t++)e[t]=new un(at(this.ranges[t].anchor),at(this.ranges[t].head));return new kr(e,this.primIndex)},kr.prototype.somethingSelected=function(){for(var e=0;e<this.ranges.length;e++)if(!this.ranges[e].empty())return!0;return!1},kr.prototype.contains=function(e,t){t||(t=e);for(var o=0;o<this.ranges.length;o++){var r=this.ranges[o];if(ge(t,r.from())>=0&&ge(e,r.to())<=0)return o}return-1};var un=function(e,t){this.anchor=e,this.head=t};function Ar(e,t,o){var r=e&&e.options.selectionsMayTouch,a=t[o];t.sort(function(Ue,Fe){return ge(Ue.from(),Fe.from())}),o=J(t,a);for(var D=1;D<t.length;D++){var Q=t[D],ie=t[D-1],ve=ge(ie.to(),Q.from());if(r&&!Q.empty()?ve>0:ve>=0){var ye=bt(ie.from(),Q.from()),Ie=yt(ie.to(),Q.to()),Re=ie.empty()?Q.from()==Q.head:ie.from()==ie.head;D<=o&&--o,t.splice(--D,2,new un(Re?Ie:ye,Re?ye:Ie))}}return new kr(t,o)}function zr(e,t){return new kr([new un(e,t||e)],0)}function Br(e){return e.text?q(e.from.line+e.text.length-1,E(e.text).length+(1==e.text.length?e.from.ch:0)):e.to}function Pa(e,t){if(ge(e,t.from)<0)return e;if(ge(e,t.to)<=0)return Br(t);var o=e.line+t.text.length-(t.to.line-t.from.line)-1,r=e.ch;return e.line==t.to.line&&(r+=Br(t).ch-t.to.ch),q(o,r)}function Vo(e,t){for(var o=[],r=0;r<e.sel.ranges.length;r++){var a=e.sel.ranges[r];o.push(new un(Pa(a.anchor,t),Pa(a.head,t)))}return Ar(e.cm,o,e.sel.primIndex)}function Aa(e,t,o){return e.line==t.line?q(o.line,e.ch-t.ch+o.ch):q(o.line+(e.line-t.line),e.ch)}function Uo(e){e.doc.mode=Dt(e.options,e.doc.modeOption),Mi(e)}function Mi(e){e.doc.iter(function(t){t.stateAfter&&(t.stateAfter=null),t.styles&&(t.styles=null)}),e.doc.modeFrontier=e.doc.highlightFrontier=e.doc.first,Pi(e,100),e.state.modeGen++,e.curOp&&ir(e)}function Ma(e,t){return 0==t.from.ch&&0==t.to.ch&&""==E(t.text)&&(!e.cm||e.cm.options.wholeLineUpdateBefore)}function Ho(e,t,o,r){function a(gt){return o?o[gt]:null}function D(gt,Ot,jt){(function(Ct,_t,Bt,Pt){Ct.text=_t,Ct.stateAfter&&(Ct.stateAfter=null),Ct.styles&&(Ct.styles=null),null!=Ct.order&&(Ct.order=null),br(Ct),Wn(Ct,Bt);var Zt=Pt?Pt(Ct):1;Zt!=Ct.height&&Et(Ct,Zt)})(gt,Ot,jt,r),wn(gt,"change",gt,t)}function Q(gt,Ot){for(var jt=[],Ct=gt;Ct<Ot;++Ct)jt.push(new Lt(ye[Ct],a(Ct),r));return jt}var ie=t.from,ve=t.to,ye=t.text,Ie=Tt(e,ie.line),Re=Tt(e,ve.line),Ue=E(ye),Fe=a(ye.length-1),nt=ve.line-ie.line;if(t.full)e.insert(0,Q(0,ye.length)),e.remove(ye.length,e.size-ye.length);else if(Ma(e,t)){var Ke=Q(0,ye.length-1);D(Re,Re.text,Fe),nt&&e.remove(ie.line,nt),Ke.length&&e.insert(ie.line,Ke)}else if(Ie==Re)if(1==ye.length)D(Ie,Ie.text.slice(0,ie.ch)+Ue+Ie.text.slice(ve.ch),Fe);else{var it=Q(1,ye.length-1);it.push(new Lt(Ue+Ie.text.slice(ve.ch),Fe,r)),D(Ie,Ie.text.slice(0,ie.ch)+ye[0],a(0)),e.insert(ie.line+1,it)}else if(1==ye.length)D(Ie,Ie.text.slice(0,ie.ch)+ye[0]+Re.text.slice(ve.ch),a(0)),e.remove(ie.line+1,nt);else{D(Ie,Ie.text.slice(0,ie.ch)+ye[0],a(0)),D(Re,Ue+Re.text.slice(ve.ch),Fe);var pt=Q(1,ye.length-1);nt>1&&e.remove(ie.line+1,nt-1),e.insert(ie.line+1,pt)}wn(e,"change",e,t)}function Vr(e,t,o){!function r(a,D,Q){if(a.linked)for(var ie=0;ie<a.linked.length;++ie){var ve=a.linked[ie];if(ve.doc!=D){var ye=Q&&ve.sharedHist;o&&!ye||(t(ve.doc,ye),r(ve.doc,a,ye))}}}(e,null,!0)}function Da(e,t){if(t.cm)throw new Error("This document is already in use.");e.doc=t,t.cm=e,Po(e),Uo(e),La(e),e.options.direction=t.direction,e.options.lineWrapping||jr(e),e.options.mode=t.modeOption,ir(e)}function La(e){("rtl"==e.doc.direction?ce:y)(e.display.lineDiv,"CodeMirror-rtl")}function so(e){this.done=[],this.undone=[],this.undoDepth=e?e.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=e?e.maxGeneration:1}function Wo(e,t){var o={from:at(t.from),to:Br(t),text:Ut(e,t.from,t.to)};return Na(e,o,t.from.line,t.to.line+1),Vr(e,function(r){return Na(r,o,t.from.line,t.to.line+1)},!0),o}function Ra(e){for(;e.length&&E(e).ranges;)e.pop()}function Ia(e,t,o,r){var a=e.history;a.undone.length=0;var D,Q,ye,ie=+new Date;if((a.lastOp==r||a.lastOrigin==t.origin&&t.origin&&("+"==t.origin.charAt(0)&&a.lastModTime>ie-(e.cm?e.cm.options.historyEventDelay:500)||"*"==t.origin.charAt(0)))&&(ye=a,D=a.lastOp==r?(Ra(ye.done),E(ye.done)):ye.done.length&&!E(ye.done).ranges?E(ye.done):ye.done.length>1&&!ye.done[ye.done.length-2].ranges?(ye.done.pop(),E(ye.done)):void 0))Q=E(D.changes),0==ge(t.from,t.to)&&0==ge(t.from,Q.to)?Q.to=Br(t):D.changes.push(Wo(e,t));else{var ve=E(a.done);for(ve&&ve.ranges||lo(e.sel,a.done),D={changes:[Wo(e,t)],generation:a.generation},a.done.push(D);a.done.length>a.undoDepth;)a.done.shift(),a.done[0].ranges||a.done.shift()}a.done.push(o),a.generation=++a.maxGeneration,a.lastModTime=a.lastSelTime=ie,a.lastOp=a.lastSelOp=r,a.lastOrigin=a.lastSelOrigin=t.origin,Q||Ae(e,"historyAdded")}function lo(e,t){var o=E(t);o&&o.ranges&&o.equals(e)||t.push(e)}function Na(e,t,o,r){var a=t["spans_"+e.id],D=0;e.iter(Math.max(e.first,o),Math.min(e.first+e.size,r),function(Q){Q.markedSpans&&((a||(a=t["spans_"+e.id]={}))[D]=Q.markedSpans),++D})}function Gs(e){if(!e)return null;for(var t,o=0;o<e.length;++o)e[o].marker.explicitlyCleared?t||(t=e.slice(0,o)):t&&t.push(e[o]);return t?t.length?t:null:e}function Fa(e,t){var o=function(Ie,Re){var Ue=Re["spans_"+Ie.id];if(!Ue)return null;for(var Fe=[],nt=0;nt<Re.text.length;++nt)Fe.push(Gs(Ue[nt]));return Fe}(e,t),r=_r(e,t);if(!o)return r;if(!r)return o;for(var a=0;a<o.length;++a){var D=o[a],Q=r[a];if(D&&Q)e:for(var ie=0;ie<Q.length;++ie){for(var ve=Q[ie],ye=0;ye<D.length;++ye)if(D[ye].marker==ve.marker)continue e;D.push(ve)}else Q&&(o[a]=Q)}return o}function ci(e,t,o){for(var r=[],a=0;a<e.length;++a){var D=e[a];if(D.ranges)r.push(o?kr.prototype.deepCopy.call(D):D);else{var Q=D.changes,ie=[];r.push({changes:ie});for(var ve=0;ve<Q.length;++ve){var ye=Q[ve],Ie=void 0;if(ie.push({from:ye.from,to:ye.to,text:ye.text}),t)for(var Re in ye)(Ie=Re.match(/^spans_(\d+)$/))&&J(t,Number(Ie[1]))>-1&&(E(ie)[Re]=ye[Re],delete ye[Re])}}}return r}function $o(e,t,o,r){if(r){var a=e.anchor;if(o){var D=ge(t,a)<0;D!=ge(o,a)<0?(a=t,t=o):D!=ge(t,o)<0&&(t=o)}return new un(a,t)}return new un(o||t,t)}function co(e,t,o,r,a){null==a&&(a=e.cm&&(e.cm.display.shift||e.extend)),qn(e,new kr([$o(e.sel.primary(),t,o,a)],0),r)}function za(e,t,o){for(var r=[],a=e.cm&&(e.cm.display.shift||e.extend),D=0;D<e.sel.ranges.length;D++)r[D]=$o(e.sel.ranges[D],t[D],null,a);qn(e,Ar(e.cm,r,e.sel.primIndex),o)}function qo(e,t,o,r){var a=e.sel.ranges.slice(0);a[t]=o,qn(e,Ar(e.cm,a,e.sel.primIndex),r)}function Ba(e,t,o,r){qn(e,zr(t,o),r)}function Va(e,t,o){var r=e.history.done,a=E(r);a&&a.ranges?(r[r.length-1]=t,uo(e,t,o)):qn(e,t,o)}function qn(e,t,o){uo(e,t,o),function qs(e,t,o,r){var Q,ie,ve,ye,Ie,a=e.history,D=r&&r.origin;o==a.lastSelOp||D&&a.lastSelOrigin==D&&(a.lastModTime==a.lastSelTime&&a.lastOrigin==D||(Q=e,ie=D,ve=E(a.done),ye=t,"*"==(Ie=ie.charAt(0))||"+"==Ie&&ve.ranges.length==ye.ranges.length&&ve.somethingSelected()==ye.somethingSelected()&&new Date-Q.history.lastSelTime<=(Q.cm?Q.cm.options.historyEventDelay:500)))?a.done[a.done.length-1]=t:lo(t,a.done),a.lastSelTime=+new Date,a.lastSelOrigin=D,a.lastSelOp=o,r&&!1!==r.clearRedo&&Ra(a.undone)}(e,e.sel,e.cm?e.cm.curOp.id:NaN,o)}function uo(e,t,o){var a,D,Q,ie;(Be(e,"beforeSelectionChange")||e.cm&&Be(e.cm,"beforeSelectionChange"))&&(Ae(a=e,"beforeSelectionChange",a,ie={ranges:(D=t).ranges,update:function(ve){this.ranges=[];for(var ye=0;ye<ve.length;ye++)this.ranges[ye]=new un(wt(a,ve[ye].anchor),wt(a,ve[ye].head))},origin:(Q=o)&&Q.origin}),a.cm&&Ae(a.cm,"beforeSelectionChange",a.cm,ie),t=ie.ranges!=D.ranges?Ar(a.cm,ie.ranges,ie.ranges.length-1):D);var r=o&&o.bias||(ge(t.primary().head,e.sel.primary().head)<0?-1:1);Ua(e,Wa(e,t,r,!0)),o&&!1===o.scroll||!e.cm||"nocursor"==e.cm.getOption("readOnly")||si(e.cm)}function Ua(e,t){t.equals(e.sel)||(e.sel=t,e.cm&&(e.cm.curOp.updateInput=1,e.cm.curOp.selectionChanged=!0,he(e.cm)),wn(e,"cursorActivity",e))}function Ha(e){Ua(e,Wa(e,e.sel,null,!1))}function Wa(e,t,o,r){for(var a,D=0;D<t.ranges.length;D++){var Q=t.ranges[D],ie=t.ranges.length==e.sel.ranges.length&&e.sel.ranges[D],ve=fo(e,Q.anchor,ie&&ie.anchor,o,r),ye=fo(e,Q.head,ie&&ie.head,o,r);(a||ve!=Q.anchor||ye!=Q.head)&&(a||(a=t.ranges.slice(0,D)),a[D]=new un(ve,ye))}return a?Ar(e.cm,a,t.primIndex):t}function ui(e,t,o,r,a){var D=Tt(e,t.line);if(D.markedSpans)for(var Q=0;Q<D.markedSpans.length;++Q){var ie=D.markedSpans[Q],ve=ie.marker,ye="selectLeft"in ve?!ve.selectLeft:ve.inclusiveLeft,Ie="selectRight"in ve?!ve.selectRight:ve.inclusiveRight;if((null==ie.from||(ye?ie.from<=t.ch:ie.from<t.ch))&&(null==ie.to||(Ie?ie.to>=t.ch:ie.to>t.ch))){if(a&&(Ae(ve,"beforeCursorEnter"),ve.explicitlyCleared)){if(D.markedSpans){--Q;continue}break}if(!ve.atomic)continue;if(o){var Re=ve.find(r<0?1:-1),Ue=void 0;if((r<0?Ie:ye)&&(Re=$a(e,Re,-r,Re&&Re.line==t.line?D:null)),Re&&Re.line==t.line&&(Ue=ge(Re,o))&&(r<0?Ue<0:Ue>0))return ui(e,Re,t,r,a)}var Fe=ve.find(r<0?-1:1);return(r<0?ye:Ie)&&(Fe=$a(e,Fe,r,Fe.line==t.line?D:null)),Fe?ui(e,Fe,t,r,a):null}}return t}function fo(e,t,o,r,a){var D=r||1;return ui(e,t,o,D,a)||!a&&ui(e,t,o,D,!0)||ui(e,t,o,-D,a)||!a&&ui(e,t,o,-D,!0)||(e.cantEdit=!0,q(e.first,0))}function $a(e,t,o,r){return o<0&&0==t.ch?t.line>e.first?wt(e,q(t.line-1)):null:o>0&&t.ch==(r||Tt(e,t.line)).text.length?t.line<e.first+e.size-1?q(t.line+1,0):null:new q(t.line,t.ch+o)}function qa(e){e.setSelection(q(e.firstLine(),0),q(e.lastLine()),S)}function Ga(e,t,o){var r={canceled:!1,from:t.from,to:t.to,text:t.text,origin:t.origin,cancel:function(){return r.canceled=!0}};return o&&(r.update=function(a,D,Q,ie){a&&(r.from=wt(e,a)),D&&(r.to=wt(e,D)),Q&&(r.text=Q),void 0!==ie&&(r.origin=ie)}),Ae(e,"beforeChange",e,r),e.cm&&Ae(e.cm,"beforeChange",e.cm,r),r.canceled?(e.cm&&(e.cm.curOp.updateInput=2),null):{from:r.from,to:r.to,text:r.text,origin:r.origin}}function fi(e,t,o){if(e.cm){if(!e.cm.curOp)return Dn(e.cm,fi)(e,t,o);if(e.cm.state.suppressEdits)return}if(!(Be(e,"beforeChange")||e.cm&&Be(e.cm,"beforeChange"))||(t=Ga(e,t,!0))){var r=Hn&&!o&&function(D,Q,ie){var ve=null;if(D.iter(Q.line,ie.line+1,function(gt){if(gt.markedSpans)for(var Ot=0;Ot<gt.markedSpans.length;++Ot){var jt=gt.markedSpans[Ot].marker;!jt.readOnly||ve&&-1!=J(ve,jt)||(ve||(ve=[])).push(jt)}}),!ve)return null;for(var ye=[{from:Q,to:ie}],Ie=0;Ie<ve.length;++Ie)for(var Re=ve[Ie],Ue=Re.find(0),Fe=0;Fe<ye.length;++Fe){var nt=ye[Fe];if(!(ge(nt.to,Ue.from)<0||ge(nt.from,Ue.to)>0)){var Ke=[Fe,1],it=ge(nt.from,Ue.from),pt=ge(nt.to,Ue.to);(it<0||!Re.inclusiveLeft&&!it)&&Ke.push({from:nt.from,to:Ue.from}),(pt>0||!Re.inclusiveRight&&!pt)&&Ke.push({from:Ue.to,to:nt.to}),ye.splice.apply(ye,Ke),Fe+=Ke.length-3}}return ye}(e,t.from,t.to);if(r)for(var a=r.length-1;a>=0;--a)Ya(e,{from:r[a].from,to:r[a].to,text:a?[""]:t.text,origin:t.origin});else Ya(e,t)}}function Ya(e,t){if(1!=t.text.length||""!=t.text[0]||0!=ge(t.from,t.to)){var o=Vo(e,t);Ia(e,t,o,e.cm?e.cm.curOp.id:NaN),Di(e,t,o,_r(e,t));var r=[];Vr(e,function(a,D){D||-1!=J(r,a.history)||(Ja(a.history,t),r.push(a.history)),Di(a,t,null,_r(a,t))})}}function ho(e,t,o){var r=e.cm&&e.cm.state.suppressEdits;if(!r||o){for(var a,D=e.history,Q=e.sel,ie="undo"==t?D.done:D.undone,ve="undo"==t?D.undone:D.done,ye=0;ye<ie.length&&(a=ie[ye],o?!a.ranges||a.equals(e.sel):a.ranges);ye++);if(ye!=ie.length){for(D.lastOrigin=D.lastSelOrigin=null;;){if(!(a=ie.pop()).ranges){if(r)return void ie.push(a);break}if(lo(a,ve),o&&!a.equals(e.sel))return void qn(e,a,{clearRedo:!1});Q=a}var Ie=[];lo(Q,ve),ve.push({changes:Ie,generation:D.generation}),D.generation=a.generation||++D.maxGeneration;for(var Re=Be(e,"beforeChange")||e.cm&&Be(e.cm,"beforeChange"),Ue=function(Ke){var it=a.changes[Ke];if(it.origin=t,Re&&!Ga(e,it,!1))return ie.length=0,{};Ie.push(Wo(e,it));var pt=Ke?Vo(e,it):E(ie);Di(e,it,pt,Fa(e,it)),!Ke&&e.cm&&e.cm.scrollIntoView({from:it.from,to:Br(it)});var gt=[];Vr(e,function(Ot,jt){jt||-1!=J(gt,Ot.history)||(Ja(Ot.history,it),gt.push(Ot.history)),Di(Ot,it,null,Fa(Ot,it))})},Fe=a.changes.length-1;Fe>=0;--Fe){var nt=Ue(Fe);if(nt)return nt.v}}}}function Ka(e,t){if(0!=t&&(e.first+=t,e.sel=new kr(W(e.sel.ranges,function(a){return new un(q(a.anchor.line+t,a.anchor.ch),q(a.head.line+t,a.head.ch))}),e.sel.primIndex),e.cm)){ir(e.cm,e.first,e.first-t,t);for(var o=e.cm.display,r=o.viewFrom;r<o.viewTo;r++)Nr(e.cm,r,"gutter")}}function Di(e,t,o,r){if(e.cm&&!e.cm.curOp)return Dn(e.cm,Di)(e,t,o,r);if(t.to.line<e.first)Ka(e,t.text.length-1-(t.to.line-t.from.line));else if(!(t.from.line>e.lastLine())){if(t.from.line<e.first){var a=t.text.length-1-(e.first-t.from.line);Ka(e,a),t={from:q(e.first,0),to:q(t.to.line+a,t.to.ch),text:[E(t.text)],origin:t.origin}}var D=e.lastLine();t.to.line>D&&(t={from:t.from,to:q(D,Tt(e,D).text.length),text:[t.text[0]],origin:t.origin}),t.removed=Ut(e,t.from,t.to),o||(o=Vo(e,t)),e.cm?function(Q,ie,ve){var ye=Q.doc,Ie=Q.display,Re=ie.from,Ue=ie.to,Fe=!1,nt=Re.line;Q.options.lineWrapping||(nt=qt(gn(Tt(ye,Re.line))),ye.iter(nt,Ue.line+1,function(Ot){if(Ot==Ie.maxLine)return Fe=!0,!0})),ye.sel.contains(ie.from,ie.to)>-1&&he(Q),Ho(ye,ie,ve,da(Q)),Q.options.lineWrapping||(ye.iter(nt,Re.line+ie.text.length,function(Ot){var jt=Dr(Ot);jt>Ie.maxLineLength&&(Ie.maxLine=Ot,Ie.maxLineLength=jt,Ie.maxLineChanged=!0,Fe=!1)}),Fe&&(Q.curOp.updateMaxLine=!0)),function(Ot,jt){if(Ot.modeFrontier=Math.min(Ot.modeFrontier,jt),!(Ot.highlightFrontier<jt-10)){for(var Ct=Ot.first,_t=jt-1;_t>Ct;_t--){var Bt=Tt(Ot,_t).stateAfter;if(Bt&&(!(Bt instanceof tn)||_t+Bt.lookAhead<jt)){Ct=_t+1;break}}Ot.highlightFrontier=Math.min(Ot.highlightFrontier,Ct)}}(ye,Re.line),Pi(Q,400);var Ke=ie.text.length-(Ue.line-Re.line)-1;ie.full?ir(Q):Re.line!=Ue.line||1!=ie.text.length||Ma(Q.doc,ie)?ir(Q,Re.line,Ue.line+1,Ke):Nr(Q,Re.line,"text");var it=Be(Q,"changes"),pt=Be(Q,"change");if(pt||it){var gt={from:Re,to:Ue,text:ie.text,removed:ie.removed,origin:ie.origin};pt&&wn(Q,"change",Q,gt),it&&(Q.curOp.changeObjs||(Q.curOp.changeObjs=[])).push(gt)}Q.display.selForContextMenu=null}(e.cm,t,r):Ho(e,t,r),uo(e,o,S),e.cantEdit&&fo(e,q(e.firstLine(),0))&&(e.cantEdit=!1)}}function hi(e,t,o,r,a){var D;r||(r=o),ge(r,o)<0&&(o=(D=[r,o])[0],r=D[1]),"string"==typeof t&&(t=e.splitLines(t)),fi(e,{from:o,to:r,text:t,origin:a})}function Za(e,t,o,r){o<e.line?e.line+=r:t<e.line&&(e.line=t,e.ch=0)}function Xa(e,t,o,r){for(var a=0;a<e.length;++a){var D=e[a],Q=!0;if(D.ranges){D.copied||((D=e[a]=D.deepCopy()).copied=!0);for(var ie=0;ie<D.ranges.length;ie++)Za(D.ranges[ie].anchor,t,o,r),Za(D.ranges[ie].head,t,o,r)}else{for(var ve=0;ve<D.changes.length;++ve){var ye=D.changes[ve];if(o<ye.from.line)ye.from=q(ye.from.line+r,ye.from.ch),ye.to=q(ye.to.line+r,ye.to.ch);else if(t<=ye.to.line){Q=!1;break}}Q||(e.splice(0,a+1),a=0)}}}function Ja(e,t){var o=t.from.line,r=t.to.line,a=t.text.length-(r-o)-1;Xa(e.done,o,r,a),Xa(e.undone,o,r,a)}function Li(e,t,o,r){var a=t,D=t;return"number"==typeof t?D=Tt(e,mt(e,t)):a=qt(t),null==a?null:(r(D,a)&&e.cm&&Nr(e.cm,a,o),D)}function Ri(e){this.lines=e,this.parent=null;for(var t=0,o=0;o<e.length;++o)e[o].parent=this,t+=e[o].height;this.height=t}function Ii(e){this.children=e;for(var t=0,o=0,r=0;r<e.length;++r){var a=e[r];t+=a.chunkSize(),o+=a.height,a.parent=this}this.size=t,this.height=o,this.parent=null}un.prototype.from=function(){return bt(this.anchor,this.head)},un.prototype.to=function(){return yt(this.anchor,this.head)},un.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},Ri.prototype={chunkSize:function(){return this.lines.length},removeInner:function(e,t){for(var o=e,r=e+t;o<r;++o){var a=this.lines[o];this.height-=a.height,Rt(a),wn(a,"delete")}this.lines.splice(e,t)},collapse:function(e){e.push.apply(e,this.lines)},insertInner:function(e,t,o){this.height+=o,this.lines=this.lines.slice(0,e).concat(t).concat(this.lines.slice(e));for(var r=0;r<t.length;++r)t[r].parent=this},iterN:function(e,t,o){for(var r=e+t;e<r;++e)if(o(this.lines[e]))return!0}},Ii.prototype={chunkSize:function(){return this.size},removeInner:function(e,t){this.size-=t;for(var o=0;o<this.children.length;++o){var r=this.children[o],a=r.chunkSize();if(e<a){var D=Math.min(t,a-e),Q=r.height;if(r.removeInner(e,D),this.height-=Q-r.height,a==D&&(this.children.splice(o--,1),r.parent=null),0==(t-=D))break;e=0}else e-=a}if(this.size-t<25&&(this.children.length>1||!(this.children[0]instanceof Ri))){var ie=[];this.collapse(ie),this.children=[new Ri(ie)],this.children[0].parent=this}},collapse:function(e){for(var t=0;t<this.children.length;++t)this.children[t].collapse(e)},insertInner:function(e,t,o){this.size+=t.length,this.height+=o;for(var r=0;r<this.children.length;++r){var a=this.children[r],D=a.chunkSize();if(e<=D){if(a.insertInner(e,t,o),a.lines&&a.lines.length>50){for(var Q=a.lines.length%25+25,ie=Q;ie<a.lines.length;){var ve=new Ri(a.lines.slice(ie,ie+=25));a.height-=ve.height,this.children.splice(++r,0,ve),ve.parent=this}a.lines=a.lines.slice(0,Q),this.maybeSpill()}break}e-=D}},maybeSpill:function(){if(!(this.children.length<=10)){var e=this;do{var t=new Ii(e.children.splice(e.children.length-5,5));if(e.parent){e.size-=t.size,e.height-=t.height;var o=J(e.parent.children,e);e.parent.children.splice(o+1,0,t)}else{var r=new Ii(e.children);r.parent=e,e.children=[r,t],e=r}t.parent=e.parent}while(e.children.length>10);e.parent.maybeSpill()}},iterN:function(e,t,o){for(var r=0;r<this.children.length;++r){var a=this.children[r],D=a.chunkSize();if(e<D){var Q=Math.min(t,D-e);if(a.iterN(e,Q,o))return!0;if(0==(t-=Q))break;e=0}else e-=D}}};var Ni=function(e,t,o){if(o)for(var r in o)o.hasOwnProperty(r)&&(this[r]=o[r]);this.doc=e,this.node=t};function Qa(e,t,o){An(t)<(e.curOp&&e.curOp.scrollTop||e.doc.scrollTop)&&Ro(e,o)}Ni.prototype.clear=function(){var e=this.doc.cm,t=this.line.widgets,o=this.line,r=qt(o);if(null!=r&&t){for(var a=0;a<t.length;++a)t[a]==this&&t.splice(a--,1);t.length||(o.widgets=null);var D=we(this);Et(o,Math.max(0,o.height-D)),e&&(vr(e,function(){Qa(e,o,-D),Nr(e,r,"widget")}),wn(e,"lineWidgetCleared",e,this,r))}},Ni.prototype.changed=function(){var e=this,t=this.height,o=this.doc.cm,r=this.line;this.height=null;var a=we(this)-t;a&&(dr(this.doc,r)||Et(r,r.height+a),o&&vr(o,function(){o.curOp.forceUpdate=!0,Qa(o,r,a),wn(o,"lineWidgetChanged",o,e,qt(r))}))},Ve(Ni);var es=0,Ur=function(e,t){this.lines=[],this.type=t,this.doc=e,this.id=++es};function di(e,t,o,r,a){if(r&&r.shared)return function(Re,Ue,Fe,nt,Ke){(nt=ue(nt)).shared=!1;var it=[di(Re,Ue,Fe,nt,Ke)],pt=it[0],gt=nt.widgetNode;return Vr(Re,function(Ot){gt&&(nt.widgetNode=gt.cloneNode(!0)),it.push(di(Ot,wt(Ot,Ue),wt(Ot,Fe),nt,Ke));for(var jt=0;jt<Ot.linked.length;++jt)if(Ot.linked[jt].isParent)return;pt=E(it)}),new Fi(it,pt)}(e,t,o,r,a);if(e.cm&&!e.cm.curOp)return Dn(e.cm,di)(e,t,o,r,a);var D=new Ur(e,a),Q=ge(t,o);if(r&&ue(r,D,!1),Q>0||0==Q&&!1!==D.clearWhenEmpty)return D;if(D.replacedWith&&(D.collapsed=!0,D.widgetNode=ee("span",[D.replacedWith],"CodeMirror-widget"),r.handleMouseEvents||D.widgetNode.setAttribute("cm-ignore-events","true"),r.insertLeft&&(D.widgetNode.insertLeft=!0)),D.collapsed){if(fr(e,t.line,t,o,D)||t.line!=o.line&&fr(e,o.line,t,o,D))throw new Error("Inserting collapsed marker partially overlapping an existing one");yn=!0}D.addToHistory&&Ia(e,{from:t,to:o,origin:"markText"},e.sel,NaN);var ie,ve=t.line,ye=e.cm;if(e.iter(ve,o.line+1,function(Re){var Ue,Fe,nt,Ke;ye&&D.collapsed&&!ye.options.lineWrapping&&gn(Re)==ye.display.maxLine&&(ie=!0),D.collapsed&&ve!=t.line&&Et(Re,0),Ue=Re,Fe=new Kn(D,ve==t.line?t.ch:null,ve==o.line?o.ch:null),(Ke=(nt=e.cm&&e.cm.curOp)&&window.WeakSet&&(nt.markedSpans||(nt.markedSpans=new WeakSet)))&&Ke.has(Ue.markedSpans)?Ue.markedSpans.push(Fe):(Ue.markedSpans=Ue.markedSpans?Ue.markedSpans.concat([Fe]):[Fe],Ke&&Ke.add(Ue.markedSpans)),Fe.marker.attachLine(Ue),++ve}),D.collapsed&&e.iter(t.line,o.line+1,function(Re){dr(e,Re)&&Et(Re,0)}),D.clearOnEnter&&ot(D,"beforeCursorEnter",function(){return D.clear()}),D.readOnly&&(Hn=!0,(e.history.done.length||e.history.undone.length)&&e.clearHistory()),D.collapsed&&(D.id=++es,D.atomic=!0),ye){if(ie&&(ye.curOp.updateMaxLine=!0),D.collapsed)ir(ye,t.line,o.line+1);else if(D.className||D.startStyle||D.endStyle||D.css||D.attributes||D.title)for(var Ie=t.line;Ie<=o.line;Ie++)Nr(ye,Ie,"text");D.atomic&&Ha(ye.doc),wn(ye,"markerAdded",ye,D)}return D}Ur.prototype.clear=function(){if(!this.explicitlyCleared){var e=this.doc.cm,t=e&&!e.curOp;if(t&&Jr(e),Be(this,"clear")){var o=this.find();o&&wn(this,"clear",o.from,o.to)}for(var r=null,a=null,D=0;D<this.lines.length;++D){var Q=this.lines[D],ie=Cn(Q.markedSpans,this);e&&!this.collapsed?Nr(e,qt(Q),"text"):e&&(null!=ie.to&&(a=qt(Q)),null!=ie.from&&(r=qt(Q))),Q.markedSpans=Nn(Q.markedSpans,ie),null==ie.from&&this.collapsed&&!dr(this.doc,Q)&&e&&Et(Q,ii(e.display))}if(e&&this.collapsed&&!e.options.lineWrapping)for(var ve=0;ve<this.lines.length;++ve){var ye=gn(this.lines[ve]),Ie=Dr(ye);Ie>e.display.maxLineLength&&(e.display.maxLine=ye,e.display.maxLineLength=Ie,e.display.maxLineChanged=!0)}null!=r&&e&&this.collapsed&&ir(e,r,a+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,e&&Ha(e.doc)),e&&wn(e,"markerCleared",e,this,r,a),t&&Qr(e),this.parent&&this.parent.clear()}},Ur.prototype.find=function(e,t){var o,r;null==e&&"bookmark"==this.type&&(e=1);for(var a=0;a<this.lines.length;++a){var D=this.lines[a],Q=Cn(D.markedSpans,this);if(null!=Q.from&&(o=q(t?D:qt(D),Q.from),-1==e))return o;if(null!=Q.to&&(r=q(t?D:qt(D),Q.to),1==e))return r}return o&&{from:o,to:r}},Ur.prototype.changed=function(){var e=this,t=this.find(-1,!0),o=this,r=this.doc.cm;t&&r&&vr(r,function(){var a=t.line,D=qt(t.line),Q=dn(r,D);if(Q&&(oa(Q),r.curOp.selectionChanged=r.curOp.forceUpdate=!0),r.curOp.updateMaxLine=!0,!dr(o.doc,a)&&null!=o.height){var ie=o.height;o.height=null;var ve=we(o)-ie;ve&&Et(a,a.height+ve)}wn(r,"markerChanged",r,e)})},Ur.prototype.attachLine=function(e){if(!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;t.maybeHiddenMarkers&&-1!=J(t.maybeHiddenMarkers,this)||(t.maybeUnhiddenMarkers||(t.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(e)},Ur.prototype.detachLine=function(e){if(this.lines.splice(J(this.lines,e),1),!this.lines.length&&this.doc.cm){var t=this.doc.cm.curOp;(t.maybeHiddenMarkers||(t.maybeHiddenMarkers=[])).push(this)}},Ve(Ur);var Fi=function(e,t){this.markers=e,this.primary=t;for(var o=0;o<e.length;++o)e[o].parent=this};function ts(e){return e.findMarks(q(e.first,0),e.clipPos(q(e.lastLine())),function(t){return t.parent})}function Ys(e){for(var t=function(r){var a=e[r],D=[a.primary.doc];Vr(a.primary.doc,function(ve){return D.push(ve)});for(var Q=0;Q<a.markers.length;Q++){var ie=a.markers[Q];-1==J(D,ie.doc)&&(ie.parent=null,a.markers.splice(Q--,1))}},o=0;o<e.length;o++)t(o)}Fi.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var e=0;e<this.markers.length;++e)this.markers[e].clear();wn(this,"clear")}},Fi.prototype.find=function(e,t){return this.primary.find(e,t)},Ve(Fi);var Ks=0,or=function(e,t,o,r,a){if(!(this instanceof or))return new or(e,t,o,r,a);null==o&&(o=0),Ii.call(this,[new Ri([new Lt("",null)])]),this.first=o,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=o;var D=q(o,0);this.sel=zr(D),this.history=new so(null),this.id=++Ks,this.modeOption=t,this.lineSep=r,this.direction="rtl"==a?"rtl":"ltr",this.extend=!1,"string"==typeof e&&(e=this.splitLines(e)),Ho(this,{from:D,to:D,text:e}),qn(this,zr(D),S)};or.prototype=Ee(Ii.prototype,{constructor:or,iter:function(e,t,o){o?this.iterN(e-this.first,t-e,o):this.iterN(this.first,this.first+this.size,e)},insert:function(e,t){for(var o=0,r=0;r<t.length;++r)o+=t[r].height;this.insertInner(e-this.first,t,o)},remove:function(e,t){this.removeInner(e-this.first,t)},getValue:function(e){var t=Kt(this,this.first,this.first+this.size);return!1===e?t:t.join(e||this.lineSeparator())},setValue:Ln(function(e){var t=q(this.first,0),o=this.first+this.size-1;fi(this,{from:t,to:q(o,Tt(this,o).text.length),text:this.splitLines(e),origin:"setValue",full:!0},!0),this.cm&&_i(this.cm,0,0),qn(this,zr(t),S)}),replaceRange:function(e,t,o,r){hi(this,e,t=wt(this,t),o=o?wt(this,o):t,r)},getRange:function(e,t,o){var r=Ut(this,wt(this,e),wt(this,t));return!1===o?r:r.join(""===o?"":o||this.lineSeparator())},getLine:function(e){var t=this.getLineHandle(e);return t&&t.text},getLineHandle:function(e){if(mn(this,e))return Tt(this,e)},getLineNumber:function(e){return qt(e)},getLineHandleVisualStart:function(e){return"number"==typeof e&&(e=Tt(this,e)),gn(e)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(e){return wt(this,e)},getCursor:function(e){var t=this.sel.primary();return null==e||"head"==e?t.head:"anchor"==e?t.anchor:"end"==e||"to"==e||!1===e?t.to():t.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:Ln(function(e,t,o){Ba(this,wt(this,"number"==typeof e?q(e,t||0):e),null,o)}),setSelection:Ln(function(e,t,o){Ba(this,wt(this,e),wt(this,t||e),o)}),extendSelection:Ln(function(e,t,o){co(this,wt(this,e),t&&wt(this,t),o)}),extendSelections:Ln(function(e,t){za(this,Ht(this,e),t)}),extendSelectionsBy:Ln(function(e,t){za(this,Ht(this,W(this.sel.ranges,e)),t)}),setSelections:Ln(function(e,t,o){if(e.length){for(var r=[],a=0;a<e.length;a++)r[a]=new un(wt(this,e[a].anchor),wt(this,e[a].head||e[a].anchor));null==t&&(t=Math.min(e.length-1,this.sel.primIndex)),qn(this,Ar(this.cm,r,t),o)}}),addSelection:Ln(function(e,t,o){var r=this.sel.ranges.slice(0);r.push(new un(wt(this,e),wt(this,t||e))),qn(this,Ar(this.cm,r,r.length-1),o)}),getSelection:function(e){for(var t,o=this.sel.ranges,r=0;r<o.length;r++){var a=Ut(this,o[r].from(),o[r].to());t=t?t.concat(a):a}return!1===e?t:t.join(e||this.lineSeparator())},getSelections:function(e){for(var t=[],o=this.sel.ranges,r=0;r<o.length;r++){var a=Ut(this,o[r].from(),o[r].to());!1!==e&&(a=a.join(e||this.lineSeparator())),t[r]=a}return t},replaceSelection:function(e,t,o){for(var r=[],a=0;a<this.sel.ranges.length;a++)r[a]=e;this.replaceSelections(r,t,o||"+input")},replaceSelections:Ln(function(e,t,o){for(var r=[],a=this.sel,D=0;D<a.ranges.length;D++){var Q=a.ranges[D];r[D]={from:Q.from(),to:Q.to(),text:this.splitLines(e[D]),origin:o}}for(var ie=t&&"end"!=t&&function(ye,Ie,Re){for(var Ue=[],Fe=q(ye.first,0),nt=Fe,Ke=0;Ke<Ie.length;Ke++){var it=Ie[Ke],pt=Aa(it.from,Fe,nt),gt=Aa(Br(it),Fe,nt);if(Fe=it.to,nt=gt,"around"==Re){var Ot=ye.sel.ranges[Ke],jt=ge(Ot.head,Ot.anchor)<0;Ue[Ke]=new un(jt?gt:pt,jt?pt:gt)}else Ue[Ke]=new un(pt,pt)}return new kr(Ue,ye.sel.primIndex)}(this,r,t),ve=r.length-1;ve>=0;ve--)fi(this,r[ve]);ie?Va(this,ie):this.cm&&si(this.cm)}),undo:Ln(function(){ho(this,"undo")}),redo:Ln(function(){ho(this,"redo")}),undoSelection:Ln(function(){ho(this,"undo",!0)}),redoSelection:Ln(function(){ho(this,"redo",!0)}),setExtending:function(e){this.extend=e},getExtending:function(){return this.extend},historySize:function(){for(var e=this.history,t=0,o=0,r=0;r<e.done.length;r++)e.done[r].ranges||++t;for(var a=0;a<e.undone.length;a++)e.undone[a].ranges||++o;return{undo:t,redo:o}},clearHistory:function(){var e=this;this.history=new so(this.history),Vr(this,function(t){return t.history=e.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(e){return e&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(e){return this.history.generation==(e||this.cleanGeneration)},getHistory:function(){return{done:ci(this.history.done),undone:ci(this.history.undone)}},setHistory:function(e){var t=this.history=new so(this.history);t.done=ci(e.done.slice(0),null,!0),t.undone=ci(e.undone.slice(0),null,!0)},setGutterMarker:Ln(function(e,t,o){return Li(this,e,"gutter",function(r){var a=r.gutterMarkers||(r.gutterMarkers={});return a[t]=o,!o&&Pe(a)&&(r.gutterMarkers=null),!0})}),clearGutter:Ln(function(e){var t=this;this.iter(function(o){o.gutterMarkers&&o.gutterMarkers[e]&&Li(t,o,"gutter",function(){return o.gutterMarkers[e]=null,Pe(o.gutterMarkers)&&(o.gutterMarkers=null),!0})})}),lineInfo:function(e){var t;if("number"==typeof e){if(!(mn(this,e)&&(t=e,e=Tt(this,e))))return null}else if(null==(t=qt(e)))return null;return{line:t,handle:e,text:e.text,gutterMarkers:e.gutterMarkers,textClass:e.textClass,bgClass:e.bgClass,wrapClass:e.wrapClass,widgets:e.widgets}},addLineClass:Ln(function(e,t,o){return Li(this,e,"gutter"==t?"gutter":"class",function(r){var a="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass";if(r[a]){if(d(o).test(r[a]))return!1;r[a]+=" "+o}else r[a]=o;return!0})}),removeLineClass:Ln(function(e,t,o){return Li(this,e,"gutter"==t?"gutter":"class",function(r){var a="text"==t?"textClass":"background"==t?"bgClass":"gutter"==t?"gutterClass":"wrapClass",D=r[a];if(!D)return!1;if(null==o)r[a]=null;else{var Q=D.match(d(o));if(!Q)return!1;var ie=Q.index+Q[0].length;r[a]=D.slice(0,Q.index)+(Q.index&&ie!=D.length?" ":"")+D.slice(ie)||null}return!0})}),addLineWidget:Ln(function(e,t,o){return a=e,ie=new Ni(r=this,t,o),(ve=r.cm)&&ie.noHScroll&&(ve.display.alignWidgets=!0),Li(r,a,"widget",function(ye){var Ie=ye.widgets||(ye.widgets=[]);if(null==ie.insertAt?Ie.push(ie):Ie.splice(Math.min(Ie.length,Math.max(0,ie.insertAt)),0,ie),ie.line=ye,ve&&!dr(r,ye)){var Re=An(ye)<r.scrollTop;Et(ye,ye.height+we(ie)),Re&&Ro(ve,ie.height),ve.curOp.forceUpdate=!0}return!0}),ve&&wn(ve,"lineWidgetAdded",ve,ie,"number"==typeof a?a:qt(a)),ie;var r,a,ie,ve}),removeLineWidget:function(e){e.clear()},markText:function(e,t,o){return di(this,wt(this,e),wt(this,t),o,o&&o.type||"range")},setBookmark:function(e,t){var o={replacedWith:t&&(null==t.nodeType?t.widget:t),insertLeft:t&&t.insertLeft,clearWhenEmpty:!1,shared:t&&t.shared,handleMouseEvents:t&&t.handleMouseEvents};return di(this,e=wt(this,e),e,o,"bookmark")},findMarksAt:function(e){var t=[],o=Tt(this,(e=wt(this,e)).line).markedSpans;if(o)for(var r=0;r<o.length;++r){var a=o[r];(null==a.from||a.from<=e.ch)&&(null==a.to||a.to>=e.ch)&&t.push(a.marker.parent||a.marker)}return t},findMarks:function(e,t,o){e=wt(this,e),t=wt(this,t);var r=[],a=e.line;return this.iter(e.line,t.line+1,function(D){var Q=D.markedSpans;if(Q)for(var ie=0;ie<Q.length;ie++){var ve=Q[ie];null!=ve.to&&a==e.line&&e.ch>=ve.to||null==ve.from&&a!=e.line||null!=ve.from&&a==t.line&&ve.from>=t.ch||o&&!o(ve.marker)||r.push(ve.marker.parent||ve.marker)}++a}),r},getAllMarks:function(){var e=[];return this.iter(function(t){var o=t.markedSpans;if(o)for(var r=0;r<o.length;++r)null!=o[r].from&&e.push(o[r].marker)}),e},posFromIndex:function(e){var t,o=this.first,r=this.lineSeparator().length;return this.iter(function(a){var D=a.text.length+r;if(D>e)return t=e,!0;e-=D,++o}),wt(this,q(o,t))},indexFromPos:function(e){var t=(e=wt(this,e)).ch;if(e.line<this.first||e.ch<0)return 0;var o=this.lineSeparator().length;return this.iter(this.first,e.line,function(r){t+=r.text.length+o}),t},copy:function(e){var t=new or(Kt(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return t.scrollTop=this.scrollTop,t.scrollLeft=this.scrollLeft,t.sel=this.sel,t.extend=!1,e&&(t.history.undoDepth=this.history.undoDepth,t.setHistory(this.getHistory())),t},linkedDoc:function(e){e||(e={});var t=this.first,o=this.first+this.size;null!=e.from&&e.from>t&&(t=e.from),null!=e.to&&e.to<o&&(o=e.to);var r=new or(Kt(this,t,o),e.mode||this.modeOption,t,this.lineSep,this.direction);return e.sharedHist&&(r.history=this.history),(this.linked||(this.linked=[])).push({doc:r,sharedHist:e.sharedHist}),r.linked=[{doc:this,isParent:!0,sharedHist:e.sharedHist}],function(a,D){for(var Q=0;Q<D.length;Q++){var ie=D[Q],ve=ie.find(),ye=a.clipPos(ve.from),Ie=a.clipPos(ve.to);if(ge(ye,Ie)){var Re=di(a,ye,Ie,ie.primary,ie.primary.type);ie.markers.push(Re),Re.parent=ie}}}(r,ts(this)),r},unlinkDoc:function(e){if(e instanceof xn&&(e=e.doc),this.linked)for(var t=0;t<this.linked.length;++t)if(this.linked[t].doc==e){this.linked.splice(t,1),e.unlinkDoc(this),Ys(ts(this));break}if(e.history==this.history){var o=[e.id];Vr(e,function(r){return o.push(r.id)},!0),e.history=new so(null),e.history.done=ci(this.history.done,o),e.history.undone=ci(this.history.undone,o)}},iterLinkedDocs:function(e){Vr(this,e)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(e){return this.lineSep?e.split(this.lineSep):le(e)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:Ln(function(e){var t;"rtl"!=e&&(e="ltr"),e!=this.direction&&(this.direction=e,this.iter(function(o){return o.order=null}),this.cm&&vr(t=this.cm,function(){La(t),ir(t)}))})}),or.prototype.eachLine=or.prototype.iter;var ns=0;function Zs(e){var t=this;if(rs(t),!Ne(t,e)&&!Le(t.display,e)){tt(e),c&&(ns=+new Date);var o=Yr(t,e,!0),r=e.dataTransfer.files;if(o&&!t.isReadOnly())if(r&&r.length&&window.FileReader&&window.File)for(var a=r.length,D=Array(a),Q=0,ie=function(){++Q==a&&Dn(t,function(){var Fe={from:o=wt(t.doc,o),to:o,text:t.doc.splitLines(D.filter(function(nt){return null!=nt}).join(t.doc.lineSeparator())),origin:"paste"};fi(t.doc,Fe),Va(t.doc,zr(wt(t.doc,o),wt(t.doc,Br(Fe))))})()},ve=function(Fe,nt){if(t.options.allowDropFileTypes&&-1==J(t.options.allowDropFileTypes,Fe.type))ie();else{var Ke=new FileReader;Ke.onerror=function(){return ie()},Ke.onload=function(){var it=Ke.result;/[\x00-\x08\x0e-\x1f]{2}/.test(it)||(D[nt]=it),ie()},Ke.readAsText(Fe)}},ye=0;ye<r.length;ye++)ve(r[ye],ye);else{if(t.state.draggingText&&t.doc.sel.contains(o)>-1)return t.state.draggingText(e),void setTimeout(function(){return t.display.input.focus()},20);try{var Ie=e.dataTransfer.getData("Text");if(Ie){var Re;if(t.state.draggingText&&!t.state.draggingText.copy&&(Re=t.listSelections()),uo(t.doc,zr(o,o)),Re)for(var Ue=0;Ue<Re.length;++Ue)hi(t.doc,"",Re[Ue].anchor,Re[Ue].head,"drag");t.replaceSelection(Ie,"around","paste"),t.display.input.focus()}}catch(Fe){}}}}function rs(e){e.display.dragCursor&&(e.display.lineSpace.removeChild(e.display.dragCursor),e.display.dragCursor=null)}function is(e){if(document.getElementsByClassName){for(var t=document.getElementsByClassName("CodeMirror"),o=[],r=0;r<t.length;r++){var a=t[r].CodeMirror;a&&o.push(a)}o.length&&o[0].operation(function(){for(var D=0;D<o.length;D++)e(o[D])})}}var os=!1;function Js(e){var t=e.display;t.cachedCharWidth=t.cachedTextHeight=t.cachedPaddingH=null,t.scrollbarsClipped=!1,e.setSize()}for(var Hr={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},zi=0;zi<10;zi++)Hr[zi+48]=Hr[zi+96]=String(zi);for(var po=65;po<=90;po++)Hr[po]=String.fromCharCode(po);for(var Bi=1;Bi<=12;Bi++)Hr[Bi+111]=Hr[Bi+63235]="F"+Bi;var Lr={};function Qs(e){var t,o,r,a,D=e.split(/-(?!$)/);e=D[D.length-1];for(var Q=0;Q<D.length-1;Q++){var ie=D[Q];if(/^(cmd|meta|m)$/i.test(ie))a=!0;else if(/^a(lt)?$/i.test(ie))t=!0;else if(/^(c|ctrl|control)$/i.test(ie))o=!0;else{if(!/^s(hift)?$/i.test(ie))throw new Error("Unrecognized modifier name: "+ie);r=!0}}return t&&(e="Alt-"+e),o&&(e="Ctrl-"+e),a&&(e="Cmd-"+e),r&&(e="Shift-"+e),e}function el(e){var t={};for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];if(/^(name|fallthrough|(de|at)tach)$/.test(o))continue;if("..."==r){delete e[o];continue}for(var a=W(o.split(" "),Qs),D=0;D<a.length;D++){var Q=void 0,ie=void 0;D==a.length-1?(ie=a.join(" "),Q=r):(ie=a.slice(0,D+1).join(" "),Q="...");var ve=t[ie];if(ve){if(ve!=Q)throw new Error("Inconsistent bindings for "+ie)}else t[ie]=Q}delete e[o]}for(var ye in t)e[ye]=t[ye];return e}function pi(e,t,o,r){var a=(t=go(t)).call?t.call(e,r):t[e];if(!1===a)return"nothing";if("..."===a)return"multi";if(null!=a&&o(a))return"handled";if(t.fallthrough){if("[object Array]"!=Object.prototype.toString.call(t.fallthrough))return pi(e,t.fallthrough,o,r);for(var D=0;D<t.fallthrough.length;D++){var Q=pi(e,t.fallthrough[D],o,r);if(Q)return Q}}}function as(e){var t="string"==typeof e?e:Hr[e.keyCode];return"Ctrl"==t||"Alt"==t||"Shift"==t||"Mod"==t}function ss(e,t,o){var r=e;return t.altKey&&"Alt"!=r&&(e="Alt-"+e),(H?t.metaKey:t.ctrlKey)&&"Ctrl"!=r&&(e="Ctrl-"+e),(H?t.ctrlKey:t.metaKey)&&"Mod"!=r&&(e="Cmd-"+e),!o&&t.shiftKey&&"Shift"!=r&&(e="Shift-"+e),e}function ls(e,t){if(P&&34==e.keyCode&&e.char)return!1;var o=Hr[e.keyCode];return null!=o&&!e.altGraphKey&&(3==e.keyCode&&e.code&&(o=e.code),ss(o,e,t))}function go(e){return"string"==typeof e?Lr[e]:e}function gi(e,t){for(var o=e.doc.sel.ranges,r=[],a=0;a<o.length;a++){for(var D=t(o[a]);r.length&&ge(D.from,E(r).to)<=0;){var Q=r.pop();if(ge(Q.from,D.from)<0){D.from=Q.from;break}}r.push(D)}vr(e,function(){for(var ie=r.length-1;ie>=0;ie--)hi(e.doc,"",r[ie].from,r[ie].to,"+delete");si(e)})}function Go(e,t,o){var r=rt(e.text,t+o,o);return r<0||r>e.text.length?null:r}function Yo(e,t,o){var r=Go(e,t.ch,o);return null==r?null:new q(t.line,r,o<0?"after":"before")}function Ko(e,t,o,r,a){if(e){"rtl"==t.doc.direction&&(a=-a);var D=qe(o,t.doc.direction);if(D){var Q,ie=a<0?E(D):D[0],ve=a<0==(1==ie.level)?"after":"before";if(ie.level>0||"rtl"==t.doc.direction){var ye=jn(t,o),Ie=Bn(t,ye,Q=a<0?o.text.length-1:0).top;Q=G(function(Re){return Bn(t,ye,Re).top==Ie},a<0==(1==ie.level)?ie.from:ie.to-1,Q),"before"==ve&&(Q=Go(o,Q,1))}else Q=a<0?ie.to:ie.from;return new q(r,Q,ve)}}return new q(r,a<0?o.text.length:0,a<0?"before":"after")}Lr.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},Lr.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},Lr.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},Lr.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},Lr.default=T?Lr.macDefault:Lr.pcDefault;var Vi={selectAll:qa,singleSelection:function(e){return e.setSelection(e.getCursor("anchor"),e.getCursor("head"),S)},killLine:function(e){return gi(e,function(t){if(t.empty()){var o=Tt(e.doc,t.head.line).text.length;return t.head.ch==o&&t.head.line<e.lastLine()?{from:t.head,to:q(t.head.line+1,0)}:{from:t.head,to:q(t.head.line,o)}}return{from:t.from(),to:t.to()}})},deleteLine:function(e){return gi(e,function(t){return{from:q(t.from().line,0),to:wt(e.doc,q(t.to().line+1,0))}})},delLineLeft:function(e){return gi(e,function(t){return{from:q(t.from().line,0),to:t.from()}})},delWrappedLineLeft:function(e){return gi(e,function(t){var o=e.charCoords(t.head,"div").top+5;return{from:e.coordsChar({left:0,top:o},"div"),to:t.from()}})},delWrappedLineRight:function(e){return gi(e,function(t){var o=e.charCoords(t.head,"div").top+5,r=e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:o},"div");return{from:t.from(),to:r}})},undo:function(e){return e.undo()},redo:function(e){return e.redo()},undoSelection:function(e){return e.undoSelection()},redoSelection:function(e){return e.redoSelection()},goDocStart:function(e){return e.extendSelection(q(e.firstLine(),0))},goDocEnd:function(e){return e.extendSelection(q(e.lastLine()))},goLineStart:function(e){return e.extendSelectionsBy(function(t){return cs(e,t.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(e){return e.extendSelectionsBy(function(t){return us(e,t.head)},{origin:"+move",bias:1})},goLineEnd:function(e){return e.extendSelectionsBy(function(t){return(D=function(Q){for(var ie;ie=Fn(Q);)Q=ie.find(1,!0).line;return Q}(a=Tt((o=e).doc,r=t.head.line)))!=a&&(r=qt(D)),Ko(!0,o,a,r,-1);var o,r,a,D},{origin:"+move",bias:-1})},goLineRight:function(e){return e.extendSelectionsBy(function(t){var o=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:e.display.lineDiv.offsetWidth+100,top:o},"div")},z)},goLineLeft:function(e){return e.extendSelectionsBy(function(t){var o=e.cursorCoords(t.head,"div").top+5;return e.coordsChar({left:0,top:o},"div")},z)},goLineLeftSmart:function(e){return e.extendSelectionsBy(function(t){var o=e.cursorCoords(t.head,"div").top+5,r=e.coordsChar({left:0,top:o},"div");return r.ch<e.getLine(r.line).search(/\S/)?us(e,t.head):r},z)},goLineUp:function(e){return e.moveV(-1,"line")},goLineDown:function(e){return e.moveV(1,"line")},goPageUp:function(e){return e.moveV(-1,"page")},goPageDown:function(e){return e.moveV(1,"page")},goCharLeft:function(e){return e.moveH(-1,"char")},goCharRight:function(e){return e.moveH(1,"char")},goColumnLeft:function(e){return e.moveH(-1,"column")},goColumnRight:function(e){return e.moveH(1,"column")},goWordLeft:function(e){return e.moveH(-1,"word")},goGroupRight:function(e){return e.moveH(1,"group")},goGroupLeft:function(e){return e.moveH(-1,"group")},goWordRight:function(e){return e.moveH(1,"word")},delCharBefore:function(e){return e.deleteH(-1,"codepoint")},delCharAfter:function(e){return e.deleteH(1,"char")},delWordBefore:function(e){return e.deleteH(-1,"word")},delWordAfter:function(e){return e.deleteH(1,"word")},delGroupBefore:function(e){return e.deleteH(-1,"group")},delGroupAfter:function(e){return e.deleteH(1,"group")},indentAuto:function(e){return e.indentSelection("smart")},indentMore:function(e){return e.indentSelection("add")},indentLess:function(e){return e.indentSelection("subtract")},insertTab:function(e){return e.replaceSelection("\t")},insertSoftTab:function(e){for(var t=[],o=e.listSelections(),r=e.options.tabSize,a=0;a<o.length;a++){var D=o[a].from(),Q=xe(e.getLine(D.line),D.ch,r);t.push(s(r-Q%r))}e.replaceSelections(t)},defaultTab:function(e){e.somethingSelected()?e.indentSelection("add"):e.execCommand("insertTab")},transposeChars:function(e){return vr(e,function(){for(var t=e.listSelections(),o=[],r=0;r<t.length;r++)if(t[r].empty()){var a=t[r].head,D=Tt(e.doc,a.line).text;if(D)if(a.ch==D.length&&(a=new q(a.line,a.ch-1)),a.ch>0)a=new q(a.line,a.ch+1),e.replaceRange(D.charAt(a.ch-1)+D.charAt(a.ch-2),q(a.line,a.ch-2),a,"+transpose");else if(a.line>e.doc.first){var Q=Tt(e.doc,a.line-1).text;Q&&(a=new q(a.line,1),e.replaceRange(D.charAt(0)+e.doc.lineSeparator()+Q.charAt(Q.length-1),q(a.line-1,Q.length-1),a,"+transpose"))}o.push(new un(a,a))}e.setSelections(o)})},newlineAndIndent:function(e){return vr(e,function(){for(var t=e.listSelections(),o=t.length-1;o>=0;o--)e.replaceRange(e.doc.lineSeparator(),t[o].anchor,t[o].head,"+input");t=e.listSelections();for(var r=0;r<t.length;r++)e.indentLine(t[r].from().line,null,!0);si(e)})},openLine:function(e){return e.replaceSelection("\n","start")},toggleOverwrite:function(e){return e.toggleOverwrite()}};function cs(e,t){var o=Tt(e.doc,t),r=gn(o);return r!=o&&(t=qt(r)),Ko(!0,e,r,t,1)}function us(e,t){var o=cs(e,t.line),r=Tt(e.doc,o.line),a=qe(r,e.doc.direction);if(!a||0==a[0].level){var D=Math.max(o.ch,r.text.search(/\S/));return q(o.line,t.line==o.line&&t.ch<=D&&t.ch?0:D,o.sticky)}return o}function mo(e,t,o){if("string"==typeof t&&!(t=Vi[t]))return!1;e.display.input.ensurePolled();var r=e.display.shift,a=!1;try{e.isReadOnly()&&(e.state.suppressEdits=!0),o&&(e.display.shift=!1),a=t(e)!=V}finally{e.display.shift=r,e.state.suppressEdits=!1}return a}var tl=new re;function Ui(e,t,o,r){var a=e.state.keySeq;if(a){if(as(t))return"handled";if(/\'$/.test(t)?e.state.keySeq=null:tl.set(50,function(){e.state.keySeq==a&&(e.state.keySeq=null,e.display.input.reset())}),fs(e,a+" "+t,o,r))return!0}return fs(e,t,o,r)}function fs(e,t,o,r){var a=function(D,Q,ie){for(var ve=0;ve<D.state.keyMaps.length;ve++){var ye=pi(Q,D.state.keyMaps[ve],ie,D);if(ye)return ye}return D.options.extraKeys&&pi(Q,D.options.extraKeys,ie,D)||pi(Q,D.options.keyMap,ie,D)}(e,t,r);return"multi"==a&&(e.state.keySeq=t),"handled"==a&&wn(e,"keyHandled",e,t,o),"handled"!=a&&"multi"!=a||(tt(o),Ao(e)),!!a}function hs(e,t){var o=ls(t,!0);return!!o&&(t.shiftKey&&!e.state.keySeq?Ui(e,"Shift-"+o,t,function(r){return mo(e,r,!0)})||Ui(e,o,t,function(r){if("string"==typeof r?/^go[A-Z]/.test(r):r.motion)return mo(e,r)}):Ui(e,o,t,function(r){return mo(e,r)}))}var Zo=null;function ds(e){var t=this;if(!(e.target&&e.target!=t.display.input.getField()||(t.curOp.focus=fe(),Ne(t,e)))){c&&h<11&&27==e.keyCode&&(e.returnValue=!1);var o=e.keyCode;t.display.shift=16==o||e.shiftKey;var r=hs(t,e);P&&(Zo=r?o:null,r||88!=o||Ze||!(T?e.metaKey:e.ctrlKey)||t.replaceSelection("",null,"cut")),Y&&!T&&!r&&46==o&&e.shiftKey&&!e.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=o||/\bCodeMirror-crosshair\b/.test(t.display.lineDiv.className)||function(a){var D=a.display.lineDiv;function Q(ie){18!=ie.keyCode&&ie.altKey||(y(D,"CodeMirror-crosshair"),ke(document,"keyup",Q),ke(document,"mouseover",Q))}ce(D,"CodeMirror-crosshair"),ot(document,"keyup",Q),ot(document,"mouseover",Q)}(t)}}function ps(e){16==e.keyCode&&(this.doc.sel.shift=!1),Ne(this,e)}function gs(e){var D,t=this;if(!(e.target&&e.target!=t.display.input.getField()||Le(t.display,e)||Ne(t,e)||e.ctrlKey&&!e.altKey||T&&e.metaKey)){var o=e.keyCode,r=e.charCode;if(P&&o==Zo)return Zo=null,void tt(e);if(!P||e.which&&!(e.which<10)||!hs(t,e)){var a=String.fromCharCode(null==r?o:r);"\b"!=a&&(Ui(D=t,"'"+a+"'",e,function(ve){return mo(D,ve,!0)})||t.display.input.onKeyPress(e))}}}var Hi,Wi,Xo=function(e,t,o){this.time=e,this.pos=t,this.button=o};function ms(e){var Q,ie,ve,t=this,o=t.display;if(!(Ne(t,e)||o.activeTouch&&o.input.supportsTouch()))if(o.input.ensurePolled(),o.shift=e.shiftKey,Le(o,e))u||(o.scroller.draggable=!1,setTimeout(function(){return o.scroller.draggable=!0},100));else if(!Jo(t,e)){var r=Yr(t,e),a=je(e),D=r?(Q=r,ie=a,ve=+new Date,Wi&&Wi.compare(ve,Q,ie)?(Hi=Wi=null,"triple"):Hi&&Hi.compare(ve,Q,ie)?(Wi=new Xo(ve,Q,ie),Hi=null,"double"):(Hi=new Xo(ve,Q,ie),Wi=null,"single")):"single";window.focus(),1==a&&t.state.selectingText&&t.state.selectingText(e),r&&function(Q,ie,ve,ye,Ie){var Re="Click";return"double"==ye?Re="Double"+Re:"triple"==ye&&(Re="Triple"+Re),Ui(Q,ss(Re=(1==ie?"Left":2==ie?"Middle":"Right")+Re,Ie),Ie,function(Ue){if("string"==typeof Ue&&(Ue=Vi[Ue]),!Ue)return!1;var Fe=!1;try{Q.isReadOnly()&&(Q.state.suppressEdits=!0),Fe=Ue(Q,ve)!=V}finally{Q.state.suppressEdits=!1}return Fe})}(t,a,r,D,e)||(1==a?r?function(Q,ie,ve,ye){c?setTimeout(se(va,Q),0):Q.curOp.focus=fe();var Ie,Fe,nt,Ke,it,pt,gt,Ot,jt,Ct,Re=function(Fe,nt,Ke){var it=Fe.getOption("configureMouse"),pt=it?it(Fe,nt,Ke):{};return null==pt.unit&&(pt.unit=(C?Ke.shiftKey&&Ke.metaKey:Ke.altKey)?"rectangle":"single"==nt?"char":"double"==nt?"word":"line"),(null==pt.extend||Fe.doc.extend)&&(pt.extend=Fe.doc.extend||Ke.shiftKey),null==pt.addNew&&(pt.addNew=T?Ke.metaKey:Ke.ctrlKey),null==pt.moveOnDrag&&(pt.moveOnDrag=!(T?Ke.altKey:Ke.ctrlKey)),pt}(Q,ve,ye),Ue=Q.doc.sel;Q.options.dragDrop&&Ge&&!Q.isReadOnly()&&"single"==ve&&(Ie=Ue.contains(ie))>-1&&(ge((Ie=Ue.ranges[Ie]).from(),ie)<0||ie.xRel>0)&&(ge(Ie.to(),ie)>0||ie.xRel<0)?(nt=ye,Ke=ie,it=Re,pt=(Fe=Q).display,gt=!1,Ot=Dn(Fe,function(_t){u&&(pt.scroller.draggable=!1),Fe.state.draggingText=!1,Fe.state.delayingBlurEvent&&(Fe.hasFocus()?Fe.state.delayingBlurEvent=!1:Mo(Fe)),ke(pt.wrapper.ownerDocument,"mouseup",Ot),ke(pt.wrapper.ownerDocument,"mousemove",jt),ke(pt.scroller,"dragstart",Ct),ke(pt.scroller,"drop",Ot),gt||(tt(_t),it.addNew||co(Fe.doc,Ke,null,null,it.extend),u&&!w||c&&9==h?setTimeout(function(){pt.wrapper.ownerDocument.body.focus({preventScroll:!0}),pt.input.focus()},20):pt.input.focus())}),jt=function(_t){gt=gt||Math.abs(nt.clientX-_t.clientX)+Math.abs(nt.clientY-_t.clientY)>=10},Ct=function(){return gt=!0},u&&(pt.scroller.draggable=!0),Fe.state.draggingText=Ot,Ot.copy=!it.moveOnDrag,ot(pt.wrapper.ownerDocument,"mouseup",Ot),ot(pt.wrapper.ownerDocument,"mousemove",jt),ot(pt.scroller,"dragstart",Ct),ot(pt.scroller,"drop",Ot),Fe.state.delayingBlurEvent=!0,setTimeout(function(){return pt.input.focus()},20),pt.scroller.dragDrop&&pt.scroller.dragDrop()):function(Fe,nt,Ke,it){c&&Mo(Fe);var pt=Fe.display,gt=Fe.doc;tt(nt);var Ot,jt,Ct=gt.sel,_t=Ct.ranges;if(it.addNew&&!it.extend?(jt=gt.sel.contains(Ke),Ot=jt>-1?_t[jt]:new un(Ke,Ke)):(Ot=gt.sel.primary(),jt=gt.sel.primIndex),"rectangle"==it.unit)it.addNew||(Ot=new un(Ke,Ke)),Ke=Yr(Fe,nt,!0,!0),jt=-1;else{var Bt=vs(Fe,Ke,it.unit);Ot=it.extend?$o(Ot,Bt.anchor,Bt.head,it.extend):Bt}it.addNew?-1==jt?(jt=_t.length,qn(gt,Ar(Fe,_t.concat([Ot]),jt),{scroll:!1,origin:"*mouse"})):_t.length>1&&_t[jt].empty()&&"char"==it.unit&&!it.extend?(qn(gt,Ar(Fe,_t.slice(0,jt).concat(_t.slice(jt+1)),0),{scroll:!1,origin:"*mouse"}),Ct=gt.sel):qo(gt,jt,Ot,O):(jt=0,qn(gt,new kr([Ot],0),O),Ct=gt.sel);var Pt=Ke,Nt=pt.wrapper.getBoundingClientRect(),sn=0;function fn(Yt){Fe.state.selectingText=!1,sn=1/0,Yt&&(tt(Yt),pt.input.focus()),ke(pt.wrapper.ownerDocument,"mousemove",nn),ke(pt.wrapper.ownerDocument,"mouseup",an),gt.history.lastSelOrigin=null}var nn=Dn(Fe,function(Yt){0!==Yt.buttons&&je(Yt)?function rn(Jt){var en=++sn,Wt=Yr(Fe,Jt,!0,"rectangle"==it.unit);if(Wt)if(0!=ge(Wt,Pt)){Fe.curOp.focus=fe(),function Zt(Yt){if(0!=ge(Pt,Yt))if(Pt=Yt,"rectangle"==it.unit){for(var rn=[],Jt=Fe.options.tabSize,en=xe(Tt(gt,Ke.line).text,Ke.ch,Jt),Wt=xe(Tt(gt,Yt.line).text,Yt.ch,Jt),Mn=Math.min(en,Wt),bn=Math.max(en,Wt),hn=Math.min(Ke.line,Yt.line),on=Math.min(Fe.lastLine(),Math.max(Ke.line,Yt.line));hn<=on;hn++){var ar=Tt(gt,hn).text,Sn=n(ar,Mn,Jt);Mn==bn?rn.push(new un(q(hn,Sn),q(hn,Sn))):ar.length>Sn&&rn.push(new un(q(hn,Sn),q(hn,n(ar,bn,Jt))))}rn.length||rn.push(new un(Ke,Ke)),qn(gt,Ar(Fe,Ct.ranges.slice(0,jt).concat(rn),jt),{origin:"*mouse",scroll:!1}),Fe.scrollIntoView(Yt)}else{var Gn,Rn=Ot,vn=vs(Fe,Yt,it.unit),In=Rn.anchor;ge(vn.anchor,In)>0?(Gn=vn.head,In=bt(Rn.from(),vn.anchor)):(Gn=vn.anchor,In=yt(Rn.to(),vn.head));var Rr=Ct.ranges.slice(0);Rr[jt]=function(xo,ei){var yr=ei.anchor,Wr=ei.head,sl=Tt(xo.doc,yr.line);if(0==ge(yr,Wr)&&yr.sticky==Wr.sticky)return ei;var yi=qe(sl);if(!yi)return ei;var na=Oe(yi,yr.ch,yr.sticky),qi=yi[na];if(qi.from!=yr.ch&&qi.to!=yr.ch)return ei;var Oo,Gi=na+(qi.from==yr.ch==(1!=qi.level)?0:1);if(0==Gi||Gi==yi.length)return ei;if(Wr.line!=yr.line)Oo=(Wr.line-yr.line)*("ltr"==xo.doc.direction?1:-1)>0;else{var ra=Oe(yi,Wr.ch,Wr.sticky),Es=ra-na||(Wr.ch-yr.ch)*(1==qi.level?-1:1);Oo=ra==Gi-1||ra==Gi?Es<0:Es>0}var ia=yi[Gi+(Oo?-1:0)],Ps=Oo==(1==ia.level),As=Ps?ia.from:ia.to,Ms=Ps?"after":"before";return yr.ch==As&&yr.sticky==Ms?ei:new un(new q(yr.line,As,Ms),Wr)}(Fe,new un(wt(gt,In),Gn)),qn(gt,Ar(Fe,Rr,jt),O)}}(Wt);var Mn=ro(pt,gt);(Wt.line>=Mn.to||Wt.line<Mn.from)&&setTimeout(Dn(Fe,function(){sn==en&&rn(Jt)}),150)}else{var bn=Jt.clientY<Nt.top?-20:Jt.clientY>Nt.bottom?20:0;bn&&setTimeout(Dn(Fe,function(){sn==en&&(pt.scroller.scrollTop+=bn,rn(Jt))}),50)}}(Yt):fn(Yt)}),an=Dn(Fe,fn);Fe.state.selectingText=an,ot(pt.wrapper.ownerDocument,"mousemove",nn),ot(pt.wrapper.ownerDocument,"mouseup",an)}(Q,ye,ie,Re)}(t,r,D,e):ft(e)==o.scroller&&tt(e):2==a?(r&&co(t.doc,r),setTimeout(function(){return o.input.focus()},20)):3==a&&(v?t.display.input.onContextMenu(e):Mo(t)))}}function vs(e,t,o){if("char"==o)return new un(t,t);if("word"==o)return e.findWordAt(t);if("line"==o)return new un(q(t.line,0),wt(e.doc,q(t.line+1,0)));var r=o(e,t);return new un(r.from,r.to)}function ys(e,t,o,r){var a,D;if(t.touches)a=t.touches[0].clientX,D=t.touches[0].clientY;else try{a=t.clientX,D=t.clientY}catch(Ie){return!1}if(a>=Math.floor(e.display.gutters.getBoundingClientRect().right))return!1;r&&tt(t);var Q=e.display,ie=Q.lineDiv.getBoundingClientRect();if(D>ie.bottom||!Be(e,o))return vt(t);D-=ie.top-Q.viewOffset;for(var ve=0;ve<e.display.gutterSpecs.length;++ve){var ye=Q.gutters.childNodes[ve];if(ye&&ye.getBoundingClientRect().right>=a)return Ae(e,o,e,On(e.doc,D),e.display.gutterSpecs[ve].className,t),vt(t)}}function Jo(e,t){return ys(e,t,"gutterClick",!0)}function bs(e,t){var o,r;Le(e.display,t)||(r=t,Be(o=e,"gutterContextMenu")&&ys(o,r,"gutterContextMenu",!1))||Ne(e,t,"contextmenu")||v||e.display.input.onContextMenu(t)}function ws(e){e.display.wrapper.className=e.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+e.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Ci(e)}Xo.prototype.compare=function(e,t,o){return this.time+400>e&&0==ge(t,this.pos)&&o==this.button};var mi={toString:function(){return"CodeMirror.Init"}},xs={},vo={};function rl(e,t,o){if(!t!=!(o&&o!=mi)){var r=e.display.dragFunctions,a=t?ot:ke;a(e.display.scroller,"dragstart",r.start),a(e.display.scroller,"dragenter",r.enter),a(e.display.scroller,"dragover",r.over),a(e.display.scroller,"dragleave",r.leave),a(e.display.scroller,"drop",r.drop)}}function il(e){e.options.lineWrapping?(ce(e.display.wrapper,"CodeMirror-wrap"),e.display.sizer.style.minWidth="",e.display.sizerWidth=null):(y(e.display.wrapper,"CodeMirror-wrap"),jr(e)),Po(e),ir(e),Ci(e),setTimeout(function(){return li(e)},100)}function xn(e,t){var o=this;if(!(this instanceof xn))return new xn(e,t);this.options=t=t?ue(t):{},ue(xs,t,!1);var r=t.value;"string"==typeof r?r=new or(r,t.mode,null,t.lineSeparator,t.direction):t.mode&&(r.modeOption=t.mode),this.doc=r;var a=new xn.inputStyles[t.inputStyle](this),D=this.display=new Ws(e,r,a,t);for(var Q in D.wrapper.CodeMirror=this,ws(this),t.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),ka(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new re,keySeq:null,specialChars:null},t.autofocus&&!k&&D.input.focus(),c&&h<11&&setTimeout(function(){return o.display.input.reset(!0)},20),function(ve){var ye=ve.display;ot(ye.scroller,"mousedown",Dn(ve,ms)),ot(ye.scroller,"dblclick",c&&h<11?Dn(ve,function(Ke){if(!Ne(ve,Ke)){var it=Yr(ve,Ke);if(it&&!Jo(ve,Ke)&&!Le(ve.display,Ke)){tt(Ke);var pt=ve.findWordAt(it);co(ve.doc,pt.anchor,pt.head)}}}):function(Ke){return Ne(ve,Ke)||tt(Ke)}),ot(ye.scroller,"contextmenu",function(Ke){return bs(ve,Ke)}),ot(ye.input.getField(),"contextmenu",function(Ke){ye.scroller.contains(Ke.target)||bs(ve,Ke)});var Ie,Re={end:0};function Ue(){ye.activeTouch&&(Ie=setTimeout(function(){return ye.activeTouch=null},1e3),(Re=ye.activeTouch).end=+new Date)}function Fe(Ke,it){if(null==it.left)return!0;var pt=it.left-Ke.left,gt=it.top-Ke.top;return pt*pt+gt*gt>400}ot(ye.scroller,"touchstart",function(Ke){if(!Ne(ve,Ke)&&!function(pt){if(1!=pt.touches.length)return!1;var gt=pt.touches[0];return gt.radiusX<=1&&gt.radiusY<=1}(Ke)&&!Jo(ve,Ke)){ye.input.ensurePolled(),clearTimeout(Ie);var it=+new Date;ye.activeTouch={start:it,moved:!1,prev:it-Re.end<=300?Re:null},1==Ke.touches.length&&(ye.activeTouch.left=Ke.touches[0].pageX,ye.activeTouch.top=Ke.touches[0].pageY)}}),ot(ye.scroller,"touchmove",function(){ye.activeTouch&&(ye.activeTouch.moved=!0)}),ot(ye.scroller,"touchend",function(Ke){var it=ye.activeTouch;if(it&&!Le(ye,Ke)&&null!=it.left&&!it.moved&&new Date-it.start<300){var pt,gt=ve.coordsChar(ye.activeTouch,"page");pt=!it.prev||Fe(it,it.prev)?new un(gt,gt):!it.prev.prev||Fe(it,it.prev.prev)?ve.findWordAt(gt):new un(q(gt.line,0),wt(ve.doc,q(gt.line+1,0))),ve.setSelection(pt.anchor,pt.head),ve.focus(),tt(Ke)}Ue()}),ot(ye.scroller,"touchcancel",Ue),ot(ye.scroller,"scroll",function(){ye.scroller.clientHeight&&(ji(ve,ye.scroller.scrollTop),Zr(ve,ye.scroller.scrollLeft,!0),Ae(ve,"scroll",ve))}),ot(ye.scroller,"mousewheel",function(Ke){return Ea(ve,Ke)}),ot(ye.scroller,"DOMMouseScroll",function(Ke){return Ea(ve,Ke)}),ot(ye.wrapper,"scroll",function(){return ye.wrapper.scrollTop=ye.wrapper.scrollLeft=0}),ye.dragFunctions={enter:function(Ke){Ne(ve,Ke)||Xe(Ke)},over:function(Ke){Ne(ve,Ke)||(function(it,pt){var gt=Yr(it,pt);if(gt){var Ot=document.createDocumentFragment();ma(it,gt,Ot),it.display.dragCursor||(it.display.dragCursor=K("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),it.display.lineSpace.insertBefore(it.display.dragCursor,it.display.cursorDiv)),L(it.display.dragCursor,Ot)}}(ve,Ke),Xe(Ke))},start:function(Ke){return function(it,pt){if(c&&(!it.state.draggingText||+new Date-ns<100))Xe(pt);else if(!Ne(it,pt)&&!Le(it.display,pt)&&(pt.dataTransfer.setData("Text",it.getSelection()),pt.dataTransfer.effectAllowed="copyMove",pt.dataTransfer.setDragImage&&!w)){var gt=K("img",null,null,"position: fixed; left: 0; top: 0;");gt.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",P&&(gt.width=gt.height=1,it.display.wrapper.appendChild(gt),gt._top=gt.offsetTop),pt.dataTransfer.setDragImage(gt,0,0),P&&gt.parentNode.removeChild(gt)}}(ve,Ke)},drop:Dn(ve,Zs),leave:function(Ke){Ne(ve,Ke)||rs(ve)}};var nt=ye.input.getField();ot(nt,"keyup",function(Ke){return ps.call(ve,Ke)}),ot(nt,"keydown",Dn(ve,ds)),ot(nt,"keypress",Dn(ve,gs)),ot(nt,"focus",function(Ke){return Do(ve,Ke)}),ot(nt,"blur",function(Ke){return ai(ve,Ke)})}(this),function Xs(){var e;os||(ot(window,"resize",function(){null==e&&(e=setTimeout(function(){e=null,is(Js)},100))}),ot(window,"blur",function(){return is(ai)}),os=!0)}(),Jr(this),this.curOp.forceUpdate=!0,Da(this,r),t.autofocus&&!k||this.hasFocus()?setTimeout(function(){o.hasFocus()&&!o.state.focused&&Do(o)},20):ai(this),vo)vo.hasOwnProperty(Q)&&vo[Q](this,t[Q],mi);_a(this),t.finishInit&&t.finishInit(this);for(var ie=0;ie<Qo.length;++ie)Qo[ie](this);Qr(this),u&&t.lineWrapping&&"optimizelegibility"==getComputedStyle(D.lineDiv).textRendering&&(D.lineDiv.style.textRendering="auto")}xn.defaults=xs,xn.optionHandlers=vo;var Qo=[];function $i(e,t,o,r){var a,D=e.doc;null==o&&(o="add"),"smart"==o&&(D.mode.indent?a=sr(e,t).state:o="prev");var Q=e.options.tabSize,ie=Tt(D,t),ve=xe(ie.text,null,Q);ie.stateAfter&&(ie.stateAfter=null);var ye,Ie=ie.text.match(/^\s*/)[0];if(r||/\S/.test(ie.text)){if("smart"==o&&((ye=D.mode.indent(a,ie.text.slice(Ie.length),ie.text))==V||ye>150)){if(!r)return;o="prev"}}else ye=0,o="not";"prev"==o?ye=t>D.first?xe(Tt(D,t-1).text,null,Q):0:"add"==o?ye=ve+e.options.indentUnit:"subtract"==o?ye=ve-e.options.indentUnit:"number"==typeof o&&(ye=ve+o),ye=Math.max(0,ye);var Re="",Ue=0;if(e.options.indentWithTabs)for(var Fe=Math.floor(ye/Q);Fe;--Fe)Ue+=Q,Re+="\t";if(Ue<ye&&(Re+=s(ye-Ue)),Re!=Ie)return hi(D,Re,q(t,0),q(t,Ie.length),"+input"),ie.stateAfter=null,!0;for(var nt=0;nt<D.sel.ranges.length;nt++){var Ke=D.sel.ranges[nt];if(Ke.head.line==t&&Ke.head.ch<Ie.length){var it=q(t,Ie.length);qo(D,nt,new un(it,it));break}}}xn.defineInitHook=function(e){return Qo.push(e)};var Mr=null;function yo(e){Mr=e}function ea(e,t,o,r,a){var D=e.doc;e.display.shift=!1,r||(r=D.sel);var Q=+new Date-200,ie="paste"==a||e.state.pasteIncoming>Q,ve=le(t),ye=null;if(ie&&r.ranges.length>1)if(Mr&&Mr.text.join("\n")==t){if(r.ranges.length%Mr.text.length==0){ye=[];for(var Ie=0;Ie<Mr.text.length;Ie++)ye.push(D.splitLines(Mr.text[Ie]))}}else ve.length==r.ranges.length&&e.options.pasteLinesPerSelection&&(ye=W(ve,function(pt){return[pt]}));for(var Re=e.curOp.updateInput,Ue=r.ranges.length-1;Ue>=0;Ue--){var Fe=r.ranges[Ue],nt=Fe.from(),Ke=Fe.to();Fe.empty()&&(o&&o>0?nt=q(nt.line,nt.ch-o):e.state.overwrite&&!ie?Ke=q(Ke.line,Math.min(Tt(D,Ke.line).text.length,Ke.ch+E(ve).length)):ie&&Mr&&Mr.lineWise&&Mr.text.join("\n")==ve.join("\n")&&(nt=Ke=q(nt.line,0)));var it={from:nt,to:Ke,text:ye?ye[Ue%ye.length]:ve,origin:a||(ie?"paste":e.state.cutIncoming>Q?"cut":"+input")};fi(e.doc,it),wn(e,"inputRead",e,it)}t&&!ie&&ks(e,t),si(e),e.curOp.updateInput<2&&(e.curOp.updateInput=Re),e.curOp.typing=!0,e.state.pasteIncoming=e.state.cutIncoming=-1}function Os(e,t){var o=e.clipboardData&&e.clipboardData.getData("Text");if(o)return e.preventDefault(),t.isReadOnly()||t.options.disableInput||vr(t,function(){return ea(t,o,0,null,"paste")}),!0}function ks(e,t){if(e.options.electricChars&&e.options.smartIndent)for(var o=e.doc.sel,r=o.ranges.length-1;r>=0;r--){var a=o.ranges[r];if(!(a.head.ch>100||r&&o.ranges[r-1].head.line==a.head.line)){var D=e.getModeAt(a.head),Q=!1;if(D.electricChars){for(var ie=0;ie<D.electricChars.length;ie++)if(t.indexOf(D.electricChars.charAt(ie))>-1){Q=$i(e,a.head.line,"smart");break}}else D.electricInput&&D.electricInput.test(Tt(e.doc,a.head.line).text.slice(0,a.head.ch))&&(Q=$i(e,a.head.line,"smart"));Q&&wn(e,"electricInput",e,a.head.line)}}}function Cs(e){for(var t=[],o=[],r=0;r<e.doc.sel.ranges.length;r++){var a=e.doc.sel.ranges[r].head.line,D={anchor:q(a,0),head:q(a+1,0)};o.push(D),t.push(e.getRange(D.anchor,D.head))}return{text:t,ranges:o}}function Ss(e,t,o,r){e.setAttribute("autocorrect",o?"":"off"),e.setAttribute("autocapitalize",r?"":"off"),e.setAttribute("spellcheck",!!t)}function _s(){var e=K("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none"),t=K("div",[e],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return u?e.style.width="1000px":e.setAttribute("wrap","off"),R&&(e.style.border="1px solid black"),Ss(e),t}function ta(e,t,o,r,a){var D=t,Q=o,ie=Tt(e,t.line),ve=a&&"rtl"==e.direction?-o:o;function ye(pt){var gt,Ot;if("codepoint"==r){var jt=ie.text.charCodeAt(t.ch+(o>0?0:-1));gt=isNaN(jt)?null:new q(t.line,Math.max(0,Math.min(ie.text.length,t.ch+o*((o>0?jt>=55296&&jt<56320:jt>=56320&&jt<57343)?2:1))),-o)}else gt=a?function(_t,Bt,Pt,Zt){var Nt=qe(Bt,_t.doc.direction);if(!Nt)return Yo(Bt,Pt,Zt);Pt.ch>=Bt.text.length?(Pt.ch=Bt.text.length,Pt.sticky="before"):Pt.ch<=0&&(Pt.ch=0,Pt.sticky="after");var sn=Oe(Nt,Pt.ch,Pt.sticky),fn=Nt[sn];if("ltr"==_t.doc.direction&&fn.level%2==0&&(Zt>0?fn.to>Pt.ch:fn.from<Pt.ch))return Yo(Bt,Pt,Zt);var nn,an=function(on,ar){return Go(Bt,on instanceof q?on.ch:on,ar)},Yt=function(on){return _t.options.lineWrapping?(nn=nn||jn(_t,Bt),ha(_t,Bt,nn,on)):{begin:0,end:Bt.text.length}},rn=Yt("before"==Pt.sticky?an(Pt,-1):Pt.ch);if("rtl"==_t.doc.direction||1==fn.level){var Jt=1==fn.level==Zt<0,en=an(Pt,Jt?1:-1);if(null!=en&&(Jt?en<=fn.to&&en<=rn.end:en>=fn.from&&en>=rn.begin))return new q(Pt.line,en,Jt?"before":"after")}var Mn=function(on,ar,Sn){for(;on>=0&&on<Nt.length;on+=ar){var Rn=Nt[on],vn=ar>0==(1!=Rn.level),In=vn?Sn.begin:an(Sn.end,-1);if(Rn.from<=In&&In<Rn.to||(In=vn?Rn.from:an(Rn.to,-1),Sn.begin<=In&&In<Sn.end))return Rr=In,vn?new q(Pt.line,an(Rr,1),"before"):new q(Pt.line,Rr,"after")}var Rr},bn=Mn(sn+Zt,Zt,rn);if(bn)return bn;var hn=Zt>0?rn.end:an(rn.begin,-1);return null==hn||Zt>0&&hn==Bt.text.length||!(bn=Mn(Zt>0?0:Nt.length-1,Zt,Yt(hn)))?null:bn}(e.cm,ie,t,o):Yo(ie,t,o);if(null==gt){if(pt||(Ot=t.line+ve)<e.first||Ot>=e.first+e.size||(t=new q(Ot,t.ch,t.sticky),!(ie=Tt(e,Ot))))return!1;t=Ko(a,e.cm,ie,t.line,ve)}else t=gt;return!0}if("char"==r||"codepoint"==r)ye();else if("column"==r)ye(!0);else if("word"==r||"group"==r)for(var Ie=null,Re="group"==r,Ue=e.cm&&e.cm.getHelper(t,"wordChars"),Fe=!0;!(o<0)||ye(!Fe);Fe=!1){var nt=ie.text.charAt(t.ch)||"\n",Ke=_e(nt,Ue)?"w":Re&&"\n"==nt?"n":!Re||/\s/.test(nt)?null:"p";if(!Re||Fe||Ke||(Ke="s"),Ie&&Ie!=Ke){o<0&&(o=1,ye(),t.sticky="after");break}if(Ke&&(Ie=Ke),o>0&&!ye(!Fe))break}var it=fo(e,t,D,Q,!0);return Te(D,it)&&(it.hitSide=!0),it}function js(e,t,o,r){var a,D,Q=e.doc,ie=t.left;if("page"==r){var ve=Math.min(e.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),ye=Math.max(ve-.5*ii(e.display),3);a=(o>0?t.bottom:t.top)+o*ye}else"line"==r&&(a=o>0?t.bottom+3:t.top-3);for(;(D=_o(e,ie,a)).outside;){if(o<0?a<=0:a>=Q.height){D.hitSide=!0;break}a+=5*o}return D}var pn=function(e){this.cm=e,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new re,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function Ts(e,t){var o=dn(e,t.line);if(!o||o.hidden)return null;var r=Tt(e.doc,t.line),a=Vt(o,r,t.line),D=qe(r,e.doc.direction),Q="left";D&&(Q=Oe(D,t.ch)%2?"right":"left");var ie=Gr(a.map,t.ch,Q);return ie.offset="right"==ie.collapse?ie.end:ie.start,ie}function vi(e,t){return t&&(e.bad=!0),e}function bo(e,t,o){var r;if(t==e.display.lineDiv){if(!(r=e.display.lineDiv.childNodes[o]))return vi(e.clipPos(q(e.display.viewTo-1)),!0);t=null,o=0}else for(r=t;;r=r.parentNode){if(!r||r==e.display.lineDiv)return null;if(r.parentNode&&r.parentNode==e.display.lineDiv)break}for(var a=0;a<e.display.view.length;a++){var D=e.display.view[a];if(D.node==r)return ol(D,t,o)}}function ol(e,t,o){var r=e.text.firstChild,a=!1;if(!t||!De(r,t))return vi(q(qt(e.line),0),!0);if(t==r&&(a=!0,t=r.childNodes[o],o=0,!t)){var D=e.rest?E(e.rest):e.line;return vi(q(qt(D),D.text.length),a)}var Q=3==t.nodeType?t:null,ie=t;for(Q||1!=t.childNodes.length||3!=t.firstChild.nodeType||(Q=t.firstChild,o&&(o=Q.nodeValue.length));ie.parentNode!=r;)ie=ie.parentNode;var ve=e.measure,ye=ve.maps;function Ie(it,pt,gt){for(var Ot=-1;Ot<(ye?ye.length:0);Ot++)for(var jt=Ot<0?ve.map:ye[Ot],Ct=0;Ct<jt.length;Ct+=3){var _t=jt[Ct+2];if(_t==it||_t==pt){var Bt=qt(Ot<0?e.line:e.rest[Ot]),Pt=jt[Ct]+gt;return(gt<0||_t!=it)&&(Pt=jt[Ct+(gt?1:0)]),q(Bt,Pt)}}}var Re=Ie(Q,ie,o);if(Re)return vi(Re,a);for(var Ue=ie.nextSibling,Fe=Q?Q.nodeValue.length-o:0;Ue;Ue=Ue.nextSibling){if(Re=Ie(Ue,Ue.firstChild,0))return vi(q(Re.line,Re.ch-Fe),a);Fe+=Ue.textContent.length}for(var nt=ie.previousSibling,Ke=o;nt;nt=nt.previousSibling){if(Re=Ie(nt,nt.firstChild,-1))return vi(q(Re.line,Re.ch+Ke),a);Ke+=nt.textContent.length}}pn.prototype.init=function(e){var t=this,o=this,r=o.cm,a=o.div=e.lineDiv;function D(ie){for(var ve=ie.target;ve;ve=ve.parentNode){if(ve==a)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(ve.className))break}return!1}function Q(ie){if(D(ie)&&!Ne(r,ie)){if(r.somethingSelected())yo({lineWise:!1,text:r.getSelections()}),"cut"==ie.type&&r.replaceSelection("",null,"cut");else{if(!r.options.lineWiseCopyCut)return;var ve=Cs(r);yo({lineWise:!0,text:ve.text}),"cut"==ie.type&&r.operation(function(){r.setSelections(ve.ranges,0,S),r.replaceSelection("",null,"cut")})}if(ie.clipboardData){ie.clipboardData.clearData();var ye=Mr.text.join("\n");if(ie.clipboardData.setData("Text",ye),ie.clipboardData.getData("Text")==ye)return void ie.preventDefault()}var Ie=_s(),Re=Ie.firstChild;r.display.lineSpace.insertBefore(Ie,r.display.lineSpace.firstChild),Re.value=Mr.text.join("\n");var Ue=fe();Se(Re),setTimeout(function(){r.display.lineSpace.removeChild(Ie),Ue.focus(),Ue==a&&o.showPrimarySelection()},50)}}a.contentEditable=!0,Ss(a,r.options.spellcheck,r.options.autocorrect,r.options.autocapitalize),ot(a,"paste",function(ie){!D(ie)||Ne(r,ie)||Os(ie,r)||h<=11&&setTimeout(Dn(r,function(){return t.updateFromDOM()}),20)}),ot(a,"compositionstart",function(ie){t.composing={data:ie.data,done:!1}}),ot(a,"compositionupdate",function(ie){t.composing||(t.composing={data:ie.data,done:!1})}),ot(a,"compositionend",function(ie){t.composing&&(ie.data!=t.composing.data&&t.readFromDOMSoon(),t.composing.done=!0)}),ot(a,"touchstart",function(){return o.forceCompositionEnd()}),ot(a,"input",function(){t.composing||t.readFromDOMSoon()}),ot(a,"copy",Q),ot(a,"cut",Q)},pn.prototype.screenReaderLabelChanged=function(e){e?this.div.setAttribute("aria-label",e):this.div.removeAttribute("aria-label")},pn.prototype.prepareSelection=function(){var e=ga(this.cm,!1);return e.focus=fe()==this.div,e},pn.prototype.showSelection=function(e,t){e&&this.cm.display.view.length&&((e.focus||t)&&this.showPrimarySelection(),this.showMultipleSelections(e))},pn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},pn.prototype.showPrimarySelection=function(){var e=this.getSelection(),t=this.cm,o=t.doc.sel.primary(),r=o.from(),a=o.to();if(t.display.viewTo==t.display.viewFrom||r.line>=t.display.viewTo||a.line<t.display.viewFrom)e.removeAllRanges();else{var D=bo(t,e.anchorNode,e.anchorOffset),Q=bo(t,e.focusNode,e.focusOffset);if(!D||D.bad||!Q||Q.bad||0!=ge(bt(D,Q),r)||0!=ge(yt(D,Q),a)){var ie=t.display.view,ve=r.line>=t.display.viewFrom&&Ts(t,r)||{node:ie[0].measure.map[2],offset:0},ye=a.line<t.display.viewTo&&Ts(t,a);if(!ye){var Ie=ie[ie.length-1].measure,Re=Ie.maps?Ie.maps[Ie.maps.length-1]:Ie.map;ye={node:Re[Re.length-1],offset:Re[Re.length-2]-Re[Re.length-3]}}if(ve&&ye){var Ue,Fe=e.rangeCount&&e.getRangeAt(0);try{Ue=l(ve.node,ve.offset,ye.offset,ye.node)}catch(nt){}Ue&&(!Y&&t.state.focused?(e.collapse(ve.node,ve.offset),Ue.collapsed||(e.removeAllRanges(),e.addRange(Ue))):(e.removeAllRanges(),e.addRange(Ue)),Fe&&null==e.anchorNode?e.addRange(Fe):Y&&this.startGracePeriod()),this.rememberSelection()}else e.removeAllRanges()}}},pn.prototype.startGracePeriod=function(){var e=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){e.gracePeriod=!1,e.selectionChanged()&&e.cm.operation(function(){return e.cm.curOp.selectionChanged=!0})},20)},pn.prototype.showMultipleSelections=function(e){L(this.cm.display.cursorDiv,e.cursors),L(this.cm.display.selectionDiv,e.selection)},pn.prototype.rememberSelection=function(){var e=this.getSelection();this.lastAnchorNode=e.anchorNode,this.lastAnchorOffset=e.anchorOffset,this.lastFocusNode=e.focusNode,this.lastFocusOffset=e.focusOffset},pn.prototype.selectionInEditor=function(){var e=this.getSelection();if(!e.rangeCount)return!1;var t=e.getRangeAt(0).commonAncestorContainer;return De(this.div,t)},pn.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&fe()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},pn.prototype.blur=function(){this.div.blur()},pn.prototype.getField=function(){return this.div},pn.prototype.supportsTouch=function(){return!0},pn.prototype.receivedFocus=function(){var e=this,t=this;this.selectionInEditor()?setTimeout(function(){return e.pollSelection()},20):vr(this.cm,function(){return t.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function o(){t.cm.state.focused&&(t.pollSelection(),t.polling.set(t.cm.options.pollInterval,o))})},pn.prototype.selectionChanged=function(){var e=this.getSelection();return e.anchorNode!=this.lastAnchorNode||e.anchorOffset!=this.lastAnchorOffset||e.focusNode!=this.lastFocusNode||e.focusOffset!=this.lastFocusOffset},pn.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var e=this.getSelection(),t=this.cm;if(_&&f&&this.cm.display.gutterSpecs.length&&function(a){for(var D=a;D;D=D.parentNode)if(/CodeMirror-gutter-wrapper/.test(D.className))return!0;return!1}(e.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var o=bo(t,e.anchorNode,e.anchorOffset),r=bo(t,e.focusNode,e.focusOffset);o&&r&&vr(t,function(){qn(t.doc,zr(o,r),S),(o.bad||r.bad)&&(t.curOp.selectionChanged=!0)})}}},pn.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var e,t,o,r=this.cm,a=r.display,D=r.doc.sel.primary(),Q=D.from(),ie=D.to();if(0==Q.ch&&Q.line>r.firstLine()&&(Q=q(Q.line-1,Tt(r.doc,Q.line-1).length)),ie.ch==Tt(r.doc,ie.line).text.length&&ie.line<r.lastLine()&&(ie=q(ie.line+1,0)),Q.line<a.viewFrom||ie.line>a.viewTo-1)return!1;Q.line==a.viewFrom||0==(e=Kr(r,Q.line))?(t=qt(a.view[0].line),o=a.view[0].node):(t=qt(a.view[e].line),o=a.view[e-1].node.nextSibling);var ve,ye,Ie=Kr(r,ie.line);if(Ie==a.view.length-1?(ve=a.viewTo-1,ye=a.lineDiv.lastChild):(ve=qt(a.view[Ie+1].line)-1,ye=a.view[Ie+1].node.previousSibling),!o)return!1;for(var Re=r.doc.splitLines(function(Bt,Pt,Zt,Nt,sn){var fn="",nn=!1,an=Bt.doc.lineSeparator(),Yt=!1;function rn(){nn&&(fn+=an,Yt&&(fn+=an),nn=Yt=!1)}function Jt(Wt){Wt&&(rn(),fn+=Wt)}function en(Wt){if(1==Wt.nodeType){var Mn=Wt.getAttribute("cm-text");if(Mn)return void Jt(Mn);var bn,hn=Wt.getAttribute("cm-marker");if(hn){var on=Bt.findMarks(q(Nt,0),q(sn+1,0),(Gn=+hn,function(Rn){return Rn.id==Gn}));return void(on.length&&(bn=on[0].find(0))&&Jt(Ut(Bt.doc,bn.from,bn.to).join(an)))}if("false"==Wt.getAttribute("contenteditable"))return;var ar=/^(pre|div|p|li|table|br)$/i.test(Wt.nodeName);if(!/^br$/i.test(Wt.nodeName)&&0==Wt.textContent.length)return;ar&&rn();for(var Sn=0;Sn<Wt.childNodes.length;Sn++)en(Wt.childNodes[Sn]);/^(pre|p)$/i.test(Wt.nodeName)&&(Yt=!0),ar&&(nn=!0)}else 3==Wt.nodeType&&Jt(Wt.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "));var Gn}for(;en(Pt),Pt!=Zt;)Pt=Pt.nextSibling,Yt=!1;return fn}(r,o,ye,t,ve)),Ue=Ut(r.doc,q(t,0),q(ve,Tt(r.doc,ve).text.length));Re.length>1&&Ue.length>1;)if(E(Re)==E(Ue))Re.pop(),Ue.pop(),ve--;else{if(Re[0]!=Ue[0])break;Re.shift(),Ue.shift(),t++}for(var Fe=0,nt=0,Ke=Re[0],it=Ue[0],pt=Math.min(Ke.length,it.length);Fe<pt&&Ke.charCodeAt(Fe)==it.charCodeAt(Fe);)++Fe;for(var gt=E(Re),Ot=E(Ue),jt=Math.min(gt.length-(1==Re.length?Fe:0),Ot.length-(1==Ue.length?Fe:0));nt<jt&&gt.charCodeAt(gt.length-nt-1)==Ot.charCodeAt(Ot.length-nt-1);)++nt;if(1==Re.length&&1==Ue.length&&t==Q.line)for(;Fe&&Fe>Q.ch&&gt.charCodeAt(gt.length-nt-1)==Ot.charCodeAt(Ot.length-nt-1);)Fe--,nt++;Re[Re.length-1]=gt.slice(0,gt.length-nt).replace(/^\u200b+/,""),Re[0]=Re[0].slice(Fe).replace(/\u200b+$/,"");var Ct=q(t,Fe),_t=q(ve,Ue.length?E(Ue).length-nt:0);return Re.length>1||Re[0]||ge(Ct,_t)?(hi(r.doc,Re,Ct,_t,"+input"),!0):void 0},pn.prototype.ensurePolled=function(){this.forceCompositionEnd()},pn.prototype.reset=function(){this.forceCompositionEnd()},pn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},pn.prototype.readFromDOMSoon=function(){var e=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(e.readDOMTimeout=null,e.composing){if(!e.composing.done)return;e.composing=null}e.updateFromDOM()},80))},pn.prototype.updateFromDOM=function(){var e=this;!this.cm.isReadOnly()&&this.pollContent()||vr(this.cm,function(){return ir(e.cm)})},pn.prototype.setUneditable=function(e){e.contentEditable="false"},pn.prototype.onKeyPress=function(e){0==e.charCode||this.composing||(e.preventDefault(),this.cm.isReadOnly()||Dn(this.cm,ea)(this.cm,String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),0))},pn.prototype.readOnlyChanged=function(e){this.div.contentEditable=String("nocursor"!=e)},pn.prototype.onContextMenu=function(){},pn.prototype.resetPosition=function(){},pn.prototype.needsContentAttribute=!0;var e,t,o,Tn=function(e){this.cm=e,this.prevInput="",this.pollingFast=!1,this.polling=new re,this.hasSelection=!1,this.composing=null};Tn.prototype.init=function(e){var t=this,o=this,r=this.cm;this.createField(e);var a=this.textarea;function D(Q){if(!Ne(r,Q)){if(r.somethingSelected())yo({lineWise:!1,text:r.getSelections()});else{if(!r.options.lineWiseCopyCut)return;var ie=Cs(r);yo({lineWise:!0,text:ie.text}),"cut"==Q.type?r.setSelections(ie.ranges,null,S):(o.prevInput="",a.value=ie.text.join("\n"),Se(a))}"cut"==Q.type&&(r.state.cutIncoming=+new Date)}}e.wrapper.insertBefore(this.wrapper,e.wrapper.firstChild),R&&(a.style.width="0px"),ot(a,"input",function(){c&&h>=9&&t.hasSelection&&(t.hasSelection=null),o.poll()}),ot(a,"paste",function(Q){Ne(r,Q)||Os(Q,r)||(r.state.pasteIncoming=+new Date,o.fastPoll())}),ot(a,"cut",D),ot(a,"copy",D),ot(e.scroller,"paste",function(Q){if(!Le(e,Q)&&!Ne(r,Q)){if(!a.dispatchEvent)return r.state.pasteIncoming=+new Date,void o.focus();var ie=new Event("paste");ie.clipboardData=Q.clipboardData,a.dispatchEvent(ie)}}),ot(e.lineSpace,"selectstart",function(Q){Le(e,Q)||tt(Q)}),ot(a,"compositionstart",function(){var Q=r.getCursor("from");o.composing&&o.composing.range.clear(),o.composing={start:Q,range:r.markText(Q,r.getCursor("to"),{className:"CodeMirror-composing"})}}),ot(a,"compositionend",function(){o.composing&&(o.poll(),o.composing.range.clear(),o.composing=null)})},Tn.prototype.createField=function(e){this.wrapper=_s(),this.textarea=this.wrapper.firstChild},Tn.prototype.screenReaderLabelChanged=function(e){e?this.textarea.setAttribute("aria-label",e):this.textarea.removeAttribute("aria-label")},Tn.prototype.prepareSelection=function(){var e=this.cm,t=e.display,o=e.doc,r=ga(e);if(e.options.moveInputWithCursor){var a=Pr(e,o.sel.primary().head,"div"),D=t.wrapper.getBoundingClientRect(),Q=t.lineDiv.getBoundingClientRect();r.teTop=Math.max(0,Math.min(t.wrapper.clientHeight-10,a.top+Q.top-D.top)),r.teLeft=Math.max(0,Math.min(t.wrapper.clientWidth-10,a.left+Q.left-D.left))}return r},Tn.prototype.showSelection=function(e){var t=this.cm.display;L(t.cursorDiv,e.cursors),L(t.selectionDiv,e.selection),null!=e.teTop&&(this.wrapper.style.top=e.teTop+"px",this.wrapper.style.left=e.teLeft+"px")},Tn.prototype.reset=function(e){if(!this.contextMenuPending&&!this.composing){var t=this.cm;if(t.somethingSelected()){this.prevInput="";var o=t.getSelection();this.textarea.value=o,t.state.focused&&Se(this.textarea),c&&h>=9&&(this.hasSelection=o)}else e||(this.prevInput=this.textarea.value="",c&&h>=9&&(this.hasSelection=null))}},Tn.prototype.getField=function(){return this.textarea},Tn.prototype.supportsTouch=function(){return!1},Tn.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!k||fe()!=this.textarea))try{this.textarea.focus()}catch(e){}},Tn.prototype.blur=function(){this.textarea.blur()},Tn.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},Tn.prototype.receivedFocus=function(){this.slowPoll()},Tn.prototype.slowPoll=function(){var e=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){e.poll(),e.cm.state.focused&&e.slowPoll()})},Tn.prototype.fastPoll=function(){var e=!1,t=this;t.pollingFast=!0,t.polling.set(20,function o(){t.poll()||e?(t.pollingFast=!1,t.slowPoll()):(e=!0,t.polling.set(60,o))})},Tn.prototype.poll=function(){var e=this,t=this.cm,o=this.textarea,r=this.prevInput;if(this.contextMenuPending||!t.state.focused||Me(o)&&!r&&!this.composing||t.isReadOnly()||t.options.disableInput||t.state.keySeq)return!1;var a=o.value;if(a==r&&!t.somethingSelected())return!1;if(c&&h>=9&&this.hasSelection===a||T&&/[\uf700-\uf7ff]/.test(a))return t.display.input.reset(),!1;if(t.doc.sel==t.display.selForContextMenu){var D=a.charCodeAt(0);if(8203!=D||r||(r="\u200b"),8666==D)return this.reset(),this.cm.execCommand("undo")}for(var Q=0,ie=Math.min(r.length,a.length);Q<ie&&r.charCodeAt(Q)==a.charCodeAt(Q);)++Q;return vr(t,function(){ea(t,a.slice(Q),r.length-Q,null,e.composing?"*compose":null),a.length>1e3||a.indexOf("\n")>-1?o.value=e.prevInput="":e.prevInput=a,e.composing&&(e.composing.range.clear(),e.composing.range=t.markText(e.composing.start,t.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},Tn.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},Tn.prototype.onKeyPress=function(){c&&h>=9&&(this.hasSelection=null),this.fastPoll()},Tn.prototype.onContextMenu=function(e){var t=this,o=t.cm,r=o.display,a=t.textarea;t.contextMenuPending&&t.contextMenuPending();var D=Yr(o,e),Q=r.scroller.scrollTop;if(D&&!P){o.options.resetSelectionOnContextMenu&&-1==o.doc.sel.contains(D)&&Dn(o,qn)(o.doc,zr(D),S);var ie,ve=a.style.cssText,ye=t.wrapper.style.cssText,Ie=t.wrapper.offsetParent.getBoundingClientRect();if(t.wrapper.style.cssText="position: static",a.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(e.clientY-Ie.top-5)+"px; left: "+(e.clientX-Ie.left-5)+"px;\n      z-index: 1000; background: "+(c?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",u&&(ie=window.scrollY),r.input.focus(),u&&window.scrollTo(null,ie),r.input.reset(),o.somethingSelected()||(a.value=t.prevInput=" "),t.contextMenuPending=Fe,r.selForContextMenu=o.doc.sel,clearTimeout(r.detectingSelectAll),c&&h>=9&&Ue(),v){Xe(e);var Re=function(){ke(window,"mouseup",Re),setTimeout(Fe,20)};ot(window,"mouseup",Re)}else setTimeout(Fe,50)}function Ue(){if(null!=a.selectionStart){var nt=o.somethingSelected(),Ke="\u200b"+(nt?a.value:"");a.value="\u21da",a.value=Ke,t.prevInput=nt?"":"\u200b",a.selectionStart=1,a.selectionEnd=Ke.length,r.selForContextMenu=o.doc.sel}}function Fe(){if(t.contextMenuPending==Fe&&(t.contextMenuPending=!1,t.wrapper.style.cssText=ye,a.style.cssText=ve,c&&h<9&&r.scrollbars.setScrollTop(r.scroller.scrollTop=Q),null!=a.selectionStart)){(!c||c&&h<9)&&Ue();var nt=0,Ke=function(){r.selForContextMenu==o.doc.sel&&0==a.selectionStart&&a.selectionEnd>0&&"\u200b"==t.prevInput?Dn(o,qa)(o):nt++<10?r.detectingSelectAll=setTimeout(Ke,500):(r.selForContextMenu=null,r.input.reset())};r.detectingSelectAll=setTimeout(Ke,200)}}},Tn.prototype.readOnlyChanged=function(e){e||this.reset(),this.textarea.disabled="nocursor"==e,this.textarea.readOnly=!!e},Tn.prototype.setUneditable=function(){},Tn.prototype.needsContentAttribute=!1,function(e){var t=e.optionHandlers;function o(r,a,D,Q){e.defaults[r]=a,D&&(t[r]=Q?function(ie,ve,ye){ye!=mi&&D(ie,ve,ye)}:D)}e.defineOption=o,e.Init=mi,o("value","",function(r,a){return r.setValue(a)},!0),o("mode",null,function(r,a){r.doc.modeOption=a,Uo(r)},!0),o("indentUnit",2,Uo,!0),o("indentWithTabs",!1),o("smartIndent",!0),o("tabSize",4,function(r){Mi(r),Ci(r),ir(r)},!0),o("lineSeparator",null,function(r,a){if(r.doc.lineSep=a,a){var D=[],Q=r.doc.first;r.doc.iter(function(ve){for(var ye=0;;){var Ie=ve.text.indexOf(a,ye);if(-1==Ie)break;ye=Ie+a.length,D.push(q(Q,Ie))}Q++});for(var ie=D.length-1;ie>=0;ie--)hi(r.doc,a,D[ie],q(D[ie].line,D[ie].ch+a.length))}}),o("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(r,a,D){r.state.specialChars=new RegExp(a.source+(a.test("\t")?"":"|\t"),"g"),D!=mi&&r.refresh()}),o("specialCharPlaceholder",wr,function(r){return r.refresh()},!0),o("electricChars",!0),o("inputStyle",k?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),o("spellcheck",!1,function(r,a){return r.getInputField().spellcheck=a},!0),o("autocorrect",!1,function(r,a){return r.getInputField().autocorrect=a},!0),o("autocapitalize",!1,function(r,a){return r.getInputField().autocapitalize=a},!0),o("rtlMoveVisually",!j),o("wholeLineUpdateBefore",!0),o("theme","default",function(r){ws(r),Ai(r)},!0),o("keyMap","default",function(r,a,D){var Q=go(a),ie=D!=mi&&go(D);ie&&ie.detach&&ie.detach(r,Q),Q.attach&&Q.attach(r,ie||null)}),o("extraKeys",null),o("configureMouse",null),o("lineWrapping",!1,il,!0),o("gutters",[],function(r,a){r.display.gutterSpecs=Bo(a,r.options.lineNumbers),Ai(r)},!0),o("fixedGutter",!0,function(r,a){r.display.gutters.style.left=a?Eo(r.display)+"px":"0",r.refresh()},!0),o("coverGutterNextToScrollbar",!1,function(r){return li(r)},!0),o("scrollbarStyle","native",function(r){ka(r),li(r),r.display.scrollbars.setScrollTop(r.doc.scrollTop),r.display.scrollbars.setScrollLeft(r.doc.scrollLeft)},!0),o("lineNumbers",!1,function(r,a){r.display.gutterSpecs=Bo(r.options.gutters,a),Ai(r)},!0),o("firstLineNumber",1,Ai,!0),o("lineNumberFormatter",function(r){return r},Ai,!0),o("showCursorWhenSelecting",!1,Si,!0),o("resetSelectionOnContextMenu",!0),o("lineWiseCopyCut",!0),o("pasteLinesPerSelection",!0),o("selectionsMayTouch",!1),o("readOnly",!1,function(r,a){"nocursor"==a&&(ai(r),r.display.input.blur()),r.display.input.readOnlyChanged(a)}),o("screenReaderLabel",null,function(r,a){r.display.input.screenReaderLabelChanged(a=""===a?null:a)}),o("disableInput",!1,function(r,a){a||r.display.input.reset()},!0),o("dragDrop",!0,rl),o("allowDropFileTypes",null),o("cursorBlinkRate",530),o("cursorScrollMargin",0),o("cursorHeight",1,Si,!0),o("singleCursorHeightPerLine",!0,Si,!0),o("workTime",100),o("workDelay",100),o("flattenSpans",!0,Mi,!0),o("addModeClass",!1,Mi,!0),o("pollInterval",100),o("undoDepth",200,function(r,a){return r.doc.history.undoDepth=a}),o("historyEventDelay",1250),o("viewportMargin",10,function(r){return r.refresh()},!0),o("maxHighlightLength",1e4,Mi,!0),o("moveInputWithCursor",!0,function(r,a){a||r.display.input.resetPosition()}),o("tabindex",null,function(r,a){return r.display.input.getField().tabIndex=a||""}),o("autofocus",null),o("direction","ltr",function(r,a){return r.doc.setDirection(a)},!0),o("phrases",null)}(xn),t=(e=xn).optionHandlers,o=e.helpers={},e.prototype={constructor:e,focus:function(){window.focus(),this.display.input.focus()},setOption:function(r,a){var D=this.options,Q=D[r];D[r]==a&&"mode"!=r||(D[r]=a,t.hasOwnProperty(r)&&Dn(this,t[r])(this,a,Q),Ae(this,"optionChange",this,r))},getOption:function(r){return this.options[r]},getDoc:function(){return this.doc},addKeyMap:function(r,a){this.state.keyMaps[a?"push":"unshift"](go(r))},removeKeyMap:function(r){for(var a=this.state.keyMaps,D=0;D<a.length;++D)if(a[D]==r||a[D].name==r)return a.splice(D,1),!0},addOverlay:Qn(function(r,a){var D=r.token?r:e.getMode(this.options,r);if(D.startState)throw new Error("Overlays may not be stateful.");(function(Q,ie,ve){for(var ye=0,Ie=ve(ie);ye<Q.length&&ve(Q[ye])<=Ie;)ye++;Q.splice(ye,0,ie)})(this.state.overlays,{mode:D,modeSpec:r,opaque:a&&a.opaque,priority:a&&a.priority||0},function(Q){return Q.priority}),this.state.modeGen++,ir(this)}),removeOverlay:Qn(function(r){for(var a=this.state.overlays,D=0;D<a.length;++D){var Q=a[D].modeSpec;if(Q==r||"string"==typeof r&&Q.name==r)return a.splice(D,1),this.state.modeGen++,void ir(this)}}),indentLine:Qn(function(r,a,D){"string"!=typeof a&&"number"!=typeof a&&(a=null==a?this.options.smartIndent?"smart":"prev":a?"add":"subtract"),mn(this.doc,r)&&$i(this,r,a,D)}),indentSelection:Qn(function(r){for(var a=this.doc.sel.ranges,D=-1,Q=0;Q<a.length;Q++){var ie=a[Q];if(ie.empty())ie.head.line>D&&($i(this,ie.head.line,r,!0),D=ie.head.line,Q==this.doc.sel.primIndex&&si(this));else{var ve=ie.from(),ye=ie.to(),Ie=Math.max(D,ve.line);D=Math.min(this.lastLine(),ye.line-(ye.ch?0:1))+1;for(var Re=Ie;Re<D;++Re)$i(this,Re,r);var Ue=this.doc.sel.ranges;0==ve.ch&&a.length==Ue.length&&Ue[Q].from().ch>0&&qo(this.doc,Q,new un(ve,Ue[Q].to()),S)}}}),getTokenAt:function(r,a){return tr(this,r,a)},getLineTokens:function(r,a){return tr(this,q(r),a,!0)},getTokenTypeAt:function(r){r=wt(this.doc,r);var a,D=Vn(this,Tt(this.doc,r.line)),Q=0,ie=(D.length-1)/2,ve=r.ch;if(0==ve)a=D[2];else for(;;){var ye=Q+ie>>1;if((ye?D[2*ye-1]:0)>=ve)ie=ye;else{if(!(D[2*ye+1]<ve)){a=D[2*ye+2];break}Q=ye+1}}var Ie=a?a.indexOf("overlay "):-1;return Ie<0?a:0==Ie?null:a.slice(0,Ie-1)},getModeAt:function(r){var a=this.doc.mode;return a.innerMode?e.innerMode(a,this.getTokenAt(r).state).mode:a},getHelper:function(r,a){return this.getHelpers(r,a)[0]},getHelpers:function(r,a){var D=[];if(!o.hasOwnProperty(a))return D;var Q=o[a],ie=this.getModeAt(r);if("string"==typeof ie[a])Q[ie[a]]&&D.push(Q[ie[a]]);else if(ie[a])for(var ve=0;ve<ie[a].length;ve++){var ye=Q[ie[a][ve]];ye&&D.push(ye)}else ie.helperType&&Q[ie.helperType]?D.push(Q[ie.helperType]):Q[ie.name]&&D.push(Q[ie.name]);for(var Ie=0;Ie<Q._global.length;Ie++){var Re=Q._global[Ie];Re.pred(ie,this)&&-1==J(D,Re.val)&&D.push(Re.val)}return D},getStateAfter:function(r,a){var D=this.doc;return sr(this,(r=mt(D,null==r?D.first+D.size-1:r))+1,a).state},cursorCoords:function(r,a){var D=this.doc.sel.primary();return Pr(this,null==r?D.head:"object"==typeof r?wt(this.doc,r):r?D.from():D.to(),a||"page")},charCoords:function(r,a){return Qi(this,wt(this.doc,r),a||"page")},coordsChar:function(r,a){return _o(this,(r=ca(this,r,a||"page")).left,r.top)},lineAtHeight:function(r,a){return r=ca(this,{top:r,left:0},a||"page").top,On(this.doc,r+this.display.viewOffset)},heightAtLine:function(r,a,D){var Q,ie=!1;if("number"==typeof r){var ve=this.doc.first+this.doc.size-1;r<this.doc.first?r=this.doc.first:r>ve&&(r=ve,ie=!0),Q=Tt(this.doc,r)}else Q=r;return Ji(this,Q,{top:0,left:0},a||"page",D||ie).top+(ie?this.doc.height-An(Q):0)},defaultTextHeight:function(){return ii(this.display)},defaultCharWidth:function(){return oi(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(r,a,D,Q,ie){var Ie,Re=this.display,Ue=(r=Pr(this,wt(this.doc,r))).bottom,Fe=r.left;if(a.style.position="absolute",a.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(a),Re.sizer.appendChild(a),"over"==Q)Ue=r.top;else if("above"==Q||"near"==Q){var nt=Math.max(Re.wrapper.clientHeight,this.doc.height),Ke=Math.max(Re.sizer.clientWidth,Re.lineSpace.clientWidth);("above"==Q||r.bottom+a.offsetHeight>nt)&&r.top>a.offsetHeight?Ue=r.top-a.offsetHeight:r.bottom+a.offsetHeight<=nt&&(Ue=r.bottom),Fe+a.offsetWidth>Ke&&(Fe=Ke-a.offsetWidth)}a.style.top=Ue+"px",a.style.left=a.style.right="","right"==ie?(Fe=Re.sizer.clientWidth-a.offsetWidth,a.style.right="0px"):("left"==ie?Fe=0:"middle"==ie&&(Fe=(Re.sizer.clientWidth-a.offsetWidth)/2),a.style.left=Fe+"px"),D&&(null!=(Ie=Lo(this,{left:Fe,top:Ue,right:Fe+a.offsetWidth,bottom:Ue+a.offsetHeight})).scrollTop&&ji(this,Ie.scrollTop),null!=Ie.scrollLeft&&Zr(this,Ie.scrollLeft))},triggerOnKeyDown:Qn(ds),triggerOnKeyPress:Qn(gs),triggerOnKeyUp:ps,triggerOnMouseDown:Qn(ms),execCommand:function(r){if(Vi.hasOwnProperty(r))return Vi[r].call(null,this)},triggerElectric:Qn(function(r){ks(this,r)}),findPosH:function(r,a,D,Q){var ie=1;a<0&&(ie=-1,a=-a);for(var ve=wt(this.doc,r),ye=0;ye<a&&!(ve=ta(this.doc,ve,ie,D,Q)).hitSide;++ye);return ve},moveH:Qn(function(r,a){var D=this;this.extendSelectionsBy(function(Q){return D.display.shift||D.doc.extend||Q.empty()?ta(D.doc,Q.head,r,a,D.options.rtlMoveVisually):r<0?Q.from():Q.to()},z)}),deleteH:Qn(function(r,a){var Q=this.doc;this.doc.sel.somethingSelected()?Q.replaceSelection("",null,"+delete"):gi(this,function(ie){var ve=ta(Q,ie.head,r,a,!1);return r<0?{from:ve,to:ie.head}:{from:ie.head,to:ve}})}),findPosV:function(r,a,D,Q){var ie=1,ve=Q;a<0&&(ie=-1,a=-a);for(var ye=wt(this.doc,r),Ie=0;Ie<a;++Ie){var Re=Pr(this,ye,"div");if(null==ve?ve=Re.left:Re.left=ve,(ye=js(this,Re,ie,D)).hitSide)break}return ye},moveV:Qn(function(r,a){var D=this,Q=this.doc,ie=[],ve=!this.display.shift&&!Q.extend&&Q.sel.somethingSelected();if(Q.extendSelectionsBy(function(Ie){if(ve)return r<0?Ie.from():Ie.to();var Re=Pr(D,Ie.head,"div");null!=Ie.goalColumn&&(Re.left=Ie.goalColumn),ie.push(Re.left);var Ue=js(D,Re,r,a);return"page"==a&&Ie==Q.sel.primary()&&Ro(D,Qi(D,Ue,"div").top-Re.top),Ue},z),ie.length)for(var ye=0;ye<Q.sel.ranges.length;ye++)Q.sel.ranges[ye].goalColumn=ie[ye]}),findWordAt:function(r){var a=Tt(this.doc,r.line).text,D=r.ch,Q=r.ch;if(a){var ie=this.getHelper(r,"wordChars");"before"!=r.sticky&&Q!=a.length||!D?++Q:--D;for(var ve=a.charAt(D),ye=_e(ve,ie)?function(Ie){return _e(Ie,ie)}:/\s/.test(ve)?function(Ie){return/\s/.test(Ie)}:function(Ie){return!/\s/.test(Ie)&&!_e(Ie)};D>0&&ye(a.charAt(D-1));)--D;for(;Q<a.length&&ye(a.charAt(Q));)++Q}return new un(q(r.line,D),q(r.line,Q))},toggleOverwrite:function(r){null!=r&&r==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?ce(this.display.cursorDiv,"CodeMirror-overwrite"):y(this.display.cursorDiv,"CodeMirror-overwrite"),Ae(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==fe()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Qn(function(r,a){_i(this,r,a)}),getScrollInfo:function(){var r=this.display.scroller;return{left:r.scrollLeft,top:r.scrollTop,height:r.scrollHeight-Qe(this)-this.display.barHeight,width:r.scrollWidth-Qe(this)-this.display.barWidth,clientHeight:xt(this),clientWidth:ht(this)}},scrollIntoView:Qn(function(r,a){var Q;null==r?(r={from:this.doc.sel.primary().head,to:null},null==a&&(a=this.options.cursorScrollMargin)):"number"==typeof r?r={from:q(r,0),to:null}:null==r.from&&(r={from:r,to:null}),r.to||(r.to=r.from),r.margin=a||0,null!=r.from.line?(Q=r,io(this),this.curOp.scrollToPos=Q):ba(this,r.from,r.to,r.margin)}),setSize:Qn(function(r,a){var D=this,Q=function(ve){return"number"==typeof ve||/^\d+$/.test(String(ve))?ve+"px":ve};null!=r&&(this.display.wrapper.style.width=Q(r)),null!=a&&(this.display.wrapper.style.height=Q(a)),this.options.lineWrapping&&aa(this);var ie=this.display.viewFrom;this.doc.iter(ie,this.display.viewTo,function(ve){if(ve.widgets)for(var ye=0;ye<ve.widgets.length;ye++)if(ve.widgets[ye].noHScroll){Nr(D,ie,"widget");break}++ie}),this.curOp.forceUpdate=!0,Ae(this,"refresh",this)}),operation:function(r){return vr(this,r)},startOperation:function(){return Jr(this)},endOperation:function(){return Qr(this)},refresh:Qn(function(){var r=this.display.cachedTextHeight;ir(this),this.curOp.forceUpdate=!0,Ci(this),_i(this,this.doc.scrollLeft,this.doc.scrollTop),Fo(this.display),(null==r||Math.abs(r-ii(this.display))>.5||this.options.lineWrapping)&&Po(this),Ae(this,"refresh",this)}),swapDoc:Qn(function(r){var a=this.doc;return a.cm=null,this.state.selectingText&&this.state.selectingText(),Da(this,r),Ci(this),this.display.input.reset(),_i(this,r.scrollLeft,r.scrollTop),this.curOp.forceScroll=!0,wn(this,"swapDoc",this,a),a}),phrase:function(r){var a=this.options.phrases;return a&&Object.prototype.hasOwnProperty.call(a,r)?a[r]:r},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},Ve(e),e.registerHelper=function(r,a,D){o.hasOwnProperty(r)||(o[r]=e[r]={_global:[]}),o[r][a]=D},e.registerGlobalHelper=function(r,a,D,Q){e.registerHelper(r,a,Q),o[r]._global.push({pred:D,val:Q})};var al="iter insert remove copy getEditor constructor".split(" ");for(var wo in or.prototype)or.prototype.hasOwnProperty(wo)&&J(al,wo)<0&&(xn.prototype[wo]=function(e){return function(){return e.apply(this.doc,arguments)}}(or.prototype[wo]));return Ve(or),xn.inputStyles={textarea:Tn,contenteditable:pn},xn.defineMode=function(e){xn.defaults.mode||"null"==e||(xn.defaults.mode=e),At.apply(this,arguments)},xn.defineMIME=function(e,t){kt[e]=t},xn.defineMode("null",function(){return{token:function(e){return e.skipToEnd()}}}),xn.defineMIME("text/plain","null"),xn.defineExtension=function(e,t){xn.prototype[e]=t},xn.defineDocExtension=function(e,t){or.prototype[e]=t},xn.fromTextArea=function(e,t){if((t=t?ue(t):{}).value=e.value,!t.tabindex&&e.tabIndex&&(t.tabindex=e.tabIndex),!t.placeholder&&e.placeholder&&(t.placeholder=e.placeholder),null==t.autofocus){var o=fe();t.autofocus=o==e||null!=e.getAttribute("autofocus")&&o==document.body}function r(){e.value=ie.getValue()}var a;if(e.form&&(ot(e.form,"submit",r),!t.leaveSubmitMethodAlone)){var D=e.form;a=D.submit;try{var Q=D.submit=function(){r(),D.submit=a,D.submit(),D.submit=Q}}catch(ve){}}t.finishInit=function(ve){ve.save=r,ve.getTextArea=function(){return e},ve.toTextArea=function(){ve.toTextArea=isNaN,r(),e.parentNode.removeChild(ve.getWrapperElement()),e.style.display="",e.form&&(ke(e.form,"submit",r),t.leaveSubmitMethodAlone||"function"!=typeof e.form.submit||(e.form.submit=a))}},e.style.display="none";var ie=xn(function(ve){return e.parentNode.insertBefore(ve,e.nextSibling)},t);return ie},function(e){e.off=ke,e.on=ot,e.wheelEventPixels=$s,e.Doc=or,e.splitLines=le,e.countColumn=xe,e.findColumn=n,e.isWordChar=de,e.Pass=V,e.signal=Ae,e.Line=Lt,e.changeEnd=Br,e.scrollbarModel=Oa,e.Pos=q,e.cmpPos=ge,e.modes=et,e.mimeModes=kt,e.resolveMode=St,e.getMode=Dt,e.modeExtensions=Mt,e.extendMode=Gt,e.copyState=Xt,e.startState=Qt,e.innerMode=ln,e.commands=Vi,e.keyMap=Lr,e.keyName=ls,e.isModifierKey=as,e.lookupKey=pi,e.normalizeKeyMap=el,e.StringStream=It,e.SharedTextMarker=Fi,e.TextMarker=Ur,e.LineWidget=Ni,e.e_preventDefault=tt,e.e_stopPropagation=dt,e.e_stop=Xe,e.addClass=ce,e.contains=De,e.rmClass=y,e.keyNames=Hr}(xn),xn.version="5.63.0",xn}()},function($e,oe,i){"use strict";i.r(oe);var Z=i(2),ne=i.n(Z),Y=i(13);oe.default=ne.a.View.extend({initialize:function(U){this.config=U.config||{},this.pfx=this.config.stylePrefix||"",this.target=U.target||{},this.propTarget=U.propTarget||{},this.onChange=U.onChange,this.onInputRender=U.onInputRender||{},this.customValue=U.customValue||{},this.properties=[];var M=this.collection;this.listenTo(M,"add",this.addTo),this.listenTo(M,"reset",this.render)},addTo:function(U,M,x){this.add(U,null,x)},add:function(U,M){var x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=M||this.el,h=new U.typeView({model:U,name:U.get("name"),id:this.pfx+U.get("property"),target:this.target,propTarget:this.propTarget,onChange:this.onChange,onInputRender:this.onInputRender,config:this.config});"composite"!=U.get("type")&&(h.customValue=this.customValue),h.render();var u=h.el;this.properties.push(h),h.updateVisibility(),Object(Y.b)(c,u,x.at)},render:function(){var U=this,M=this.$el;this.clearItems();var x=document.createDocumentFragment();return this.collection.each(function(c){return U.add(c,x)}),M.empty(),M.append(x),M.attr("class","".concat(this.pfx,"properties")),this},remove:function(){ne.a.View.prototype.remove.apply(this,arguments),this.clearItems()},clearItems:function(){this.properties.forEach(function(U){return U.remove()}),this.properties=[]}})},function($e,oe,i){"use strict";var Z=i(0),ne=i(2),Y=i.n(ne);oe.a=Y.a.View.extend({itemView:"",itemsView:"",itemType:"type",autoAdd:0,initialize:function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M=arguments.length>1?arguments[1]:void 0;this.config=M||U.config||{},this.autoAdd&&this.listenTo(this.collection,"add",this.addTo),this.items=[],this.init()},init:function(){},addTo:function(U){this.add(U)},itemViewNotFound:function(U){var x=this.ns,c=this.config.em,h="".concat(x?"[".concat(x,"]: "):"","'").concat(U,"' type not found");c&&c.logWarning(h)},add:function(U,M){var x,c=this.config,h=this.reuseView,u=this.items,p=this.itemsView,f=void 0===p?{}:p,P=M||null,w=this.itemView,b=U.get(this.itemType);f[b]?w=f[b]:!b||f[b]||Object(Z.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],b)||this.itemViewNotFound(b),x=U.view&&h?U.view:new w({model:U,config:c},c),u&&u.push(x);var A=x.render().el;P?P.appendChild(A):this.$el.append(A)},render:function(){var U=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(M){this.add(M,U)},this),this.$el.append(U),this.onRender(),this},onRender:function(){},onRemoveBefore:function(){},onRemove:function(){},remove:function(){var U=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},M=this.items;this.onRemoveBefore(M,U),this.clearItems(),Y.a.View.prototype.remove.apply(this,arguments),this.onRemove(M,U)},clearItems:function(){}})},function($e,oe,i){"use strict";var Z=i(14),ne=i.n(Z),Y=i(11),U=i.n(Y),M=i(3),x=i.n(M),c=i(22),h=i.n(c),u=i(2),p=i.n(u),f=i(0),P=i(10),w=["at"];function b(k,T){var C=Object.keys(k);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(k);T&&(j=j.filter(function(N){return Object.getOwnPropertyDescriptor(k,N).enumerable})),C.push.apply(C,j)}return C}function A(k){for(var T=1;T<arguments.length;T++){var C=null!=arguments[T]?arguments[T]:{};T%2?b(Object(C),!0).forEach(function(j){x()(k,j,C[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(C)):b(Object(C)).forEach(function(j){Object.defineProperty(k,j,Object.getOwnPropertyDescriptor(C,j))})}return k}var R=function k(T){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],j=T||[];return j.forEach(function(N){C.push(N.getId()),k(N.components(),C)}),C},_=function k(T){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return T.map(function(j){C.push(j.getId()),k(j.components(),C)}),C};oe.a=p.a.Collection.extend({initialize:function(k){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.opt=T,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var C=T.em,j=T.config;this.config=j,this.em=C,this.domc=T.domc||C&&C.get("DomComponents")},resetChildren:function(k){var T=this,C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},j=this,N=C.previousModels||[],H=N.filter(function(d){return!k.get(d.cid)}),v=_(k);C.keepIds=R(N).filter(function(d){return v.indexOf(d)>=0}),H.forEach(function(d){return T.removeChildren(d,j,C)}),k.each(function(d){return T.onAdd(d)})},removeChildren:function(k,T){var C=this,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(k){var N=this.domc,H=this.em,v=N?N.allById():{},d=j.temporary;if(k.prevColl=this,!d){var l=k.getId(),y=H.get("SelectorManager").getAll(),g=H.get("CssComposer").getAll(),L=(j.keepIds||[]).indexOf(l)<0;delete v[l];var K=L?g.remove(g.filter(function(fe){return fe.getSelectors().getFullString()==="#".concat(l)}),j):[];y.remove(K.map(function(fe){return fe.getSelectors().at(0)})),k.opt.temporary||(H.get("Commands").run("core:component-style-clear",{target:k}),k.removed(),k.trigger("removed"),H.trigger("component:remove",k));var ee=k.components();ee.forEach(function(fe){return C.removeChildren(fe,T,j)})}var De=k.components();H.stopListening(De),H.stopListening(k),H.stopListening(k.get("classes")),k.__postRemove()}},model:function(k,T){var C,j=T.collection.opt,N=j.em,H=N.get("DomComponents").componentTypes;T.em=N,T.config=j.config,T.componentTypes=H,T.domc=j.domc;for(var v=0;v<H.length;v++)if(H[v].id==k.type){C=H[v].model;break}return C||(C=H[H.length-1].model,N&&k.type&&N.logWarning("Component type '".concat(k.type,"' not found"),{attrs:k,options:T})),new C(k,T)},parseString:function(k){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=this.em,j=this.domc,N=C.get("CssComposer"),H=C.get("Parser").parseHtml(k);if(P.a.checkId(H.html,H.css,j.componentsById,T),H.css&&N&&!T.temporary){var v=h()(T,w);N.addCollection(H.css,A(A({},v),{},{extend:1}))}return H.html},add:function(k){var T=this,C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};C.keepIds=R(C.previousModels),Object(f.isString)(k)?k=this.parseString(k,C):Object(f.isArray)(k)&&(k=U()(k)).forEach(function(H,v){if(Object(f.isString)(H)){var d=T.parseString(H,C);k[v]=Object(f.isArray)(d)&&!d.length?null:d}});var j=Object(f.isArray)(k);k=(j?k:[k]).filter(function(H){return H}).map(function(H){return T.processDef(H)}),k=j?Object(f.flatten)(k,1):k[0];var N=p.a.Collection.prototype.add.apply(this,[k,C]);return this.__firstAdd=N,N},processDef:function(k){if(k.cid&&k.ccid)return k;var T=this.em,C=this.config,j=(void 0===C?{}:C).processor,N=k;if(j){var H=j(N=A({},N));H&&(Object(f.each)(N,function(L,K){return delete N[K]}),Object(f.extend)(N,H))}if(N.$$typeof&&"object"==ne()(N.props)){(N=A({},N)).props=A({},N.props);var v=T.get("DomComponents"),d=T.get("Parser").parserHtml;Object(f.each)(N,function(L,K){Object(f.includes)(["props","type"],K)||delete N[K]});var l=N.props,y=l.children;delete l.children,delete N.props;var g=d.splitPropsFromAttr(l);N.attributes=g.attrs,y&&(N.components=y),N.type?v.getType(N.type)||(N.tagName=N.type,delete N.type):N.type="textnode",Object(f.extend)(N,g.props)}return N},onAdd:function(k,T){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},j=this.domc,N=this.em,H=k.getStyle(),v=N&&N.getConfig("avoidInlineStyle");if(j&&j.Component.ensureInList(k),!Object(f.isEmpty)(H)&&!v&&N&&N.get&&N.getConfig("forceClass")&&!C.temporary){var d=k.cid;N.get("CssComposer").setClassRule(d,H),k.setStyle({}),k.addClass(d)}k.__postAdd({recursive:1}),this.__onAddEnd()},__onAddEnd:Object(f.debounce)(function(){})})},function($e,oe,i){"use strict";i.r(oe);var Z=i(2);oe.default=Z.Model.extend({initialize:function(ne){this.config=ne||{},this.editorModel=this.em=this.config.em||{},this.pfx=this.config.stylePrefix,this.ppfx=this.config.pStylePrefix,this.hoverClass=this.pfx+"hover",this.badgeClass=this.pfx+"badge",this.plhClass=this.pfx+"placeholder",this.freezClass=this.ppfx+"freezed",this.canvas=this.em.get&&this.em.get("Canvas"),this.init(this.config)},onFrameScroll:function(ne){},getCanvas:function(){return this.canvas.getElement()},getCanvasBody:function(){return this.canvas.getBody()},getCanvasTools:function(){return this.canvas.getToolsEl()},offset:function(ne){var Y=ne.getBoundingClientRect();return{top:Y.top+ne.ownerDocument.body.scrollTop,left:Y.left+ne.ownerDocument.body.scrollLeft}},init:function(ne){},callRun:function(ne){var Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=this.id;if(ne.trigger("run:".concat(U,":before"),Y),!Y||!Y.abort){var M=Y.sender||ne,x=this.run(ne,M,Y);return ne.trigger("run:".concat(U),x,Y),ne.trigger("run",U,x,Y),x}ne.trigger("abort:".concat(U),Y)},callStop:function(ne){var Y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},U=this.id,M=Y.sender||ne;ne.trigger("stop:".concat(U,":before"),Y);var x=this.stop(ne,M,Y);return ne.trigger("stop:".concat(U),x,Y),ne.trigger("stop",U,x,Y),x},stopCommand:function(){this.em.get("Commands").stop(this.id)},run:function(ne,Y){},stop:function(ne,Y){}})},function($e,oe,i){"use strict";var Z=i(3),ne=i.n(Z),Y=i(0),U=i(1),M=i(44);function x(u,p){var f=Object.keys(u);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(u);p&&(P=P.filter(function(w){return Object.getOwnPropertyDescriptor(u,w).enumerable})),f.push.apply(f,P)}return f}function c(u){for(var p=1;p<arguments.length;p++){var f=null!=arguments[p]?arguments[p]:{};p%2?x(Object(f),!0).forEach(function(P){ne()(u,P,f[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(u,Object.getOwnPropertyDescriptors(f)):x(Object(f)).forEach(function(P){Object.defineProperty(u,P,Object.getOwnPropertyDescriptor(f,P))})}return u}var h=Object(M.a)().parseStyle;oe.a={parseStyle:h,extendStyle:function(u){return c(c({},this.getStyle()),u)},getStyle:function(u){var p=c({},this.get("style")||{});return u&&Object(Y.isString)(u)?p[u]:p},setStyle:function(){var u=this,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(Y.isString)(p)&&(p=h(p));var P=this.getStyle(f),w=c({},p);this.set("style",w,f);var b=Object(U.shallowDiff)(P,w);return Object(Y.keys)(b).forEach(function(A){var R=u.em;u.trigger("change:style:".concat(A)),R&&(R.trigger("styleable:change",u,A),R.trigger("styleable:change:".concat(A),u,A))}),w},addStyle:function(u){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};"string"==typeof u?u={prop:p}:f=p||{},u=this.extendStyle(u),this.setStyle(u,f)},removeStyle:function(u){var p=this.getStyle();delete p[u],this.setStyle(p)},styleToString:function(){var u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=[],f=this.getStyle(u);for(var P in f){var w=u.important,b=Object(Y.isArray)(w)?w.indexOf(P)>=0:w,A="".concat(f[P]).concat(b?" !important":""),R="__"==P.substr(0,2);A&&!R&&p.push("".concat(P,":").concat(A,";"))}return p.join("")},getSelectors:function(){return this.get("selectors")||this.get("classes")},getSelectorsString:function(){return this.selectorsToString?this.selectorsToString():this.getSelectors().getFullString()}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(3),ne=i.n(Z),Y=i(2),U=i.n(Y),M=i(38),x=i(5),c=i.n(x),h=i(6),u=i.n(h),p=i(8),f=i.n(p),P=i(9),w=i.n(P),b=i(4),A=i.n(b),R=i(0),_=i(1);function k(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function T(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?k(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):k(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}var j=function(B){f()(me,B);var F=function C(B){var F=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(me){return!1}}();return function(){var me,le=A()(B);if(F){var Me=A()(this).constructor;me=Reflect.construct(le,arguments,Me)}else me=le.apply(this,arguments);return w()(this,me)}}(me);function me(){return c()(this,me),F.apply(this,arguments)}return u()(me,[{key:"initialize",value:function(){var le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ze=this.get("id")||"",ct=this.get("name")||"";!this.get("property")&&this.set("property",(ct||Ze).replace(/ /g,"-"));var et=this.get("property");!this.get("id")&&this.set("id",et),!ct&&this.set("name",Object(_.capitalize)(et).replace(/-/g," ")),me.callInit(this,le,Me)}},{key:"init",value:function(){}},{key:"getId",value:function(){return this.get("id")}},{key:"getType",value:function(){return this.get("type")}},{key:"getName",value:function(){return this.get("property")}},{key:"getLabel",value:function(){return this.get("name")}},{key:"getValue",value:function(){var le=this.get("value");return Object(R.isUndefined)(le)?this.getDefaultValue():le}},{key:"clearValue",value:function(){var le=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.set({value:void 0,status:""},le),this}},{key:"setValue",value:function(le){var Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,Ze=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ct=this.parseValue(le),et=!Me;!et&&this.set({value:void 0},{avoidStore:et,silent:!0}),this.set(ct,T({avoidStore:et},Ze))}},{key:"setValueFromInput",value:function(le,Me){var Ze=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.setValue(le,Me,T(T({},Ze),{},{fromInput:1}))}},{key:"parseValue",value:function(le){var Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ze={value:le},ct="!important";if(Object(R.isString)(le)&&-1!==le.indexOf(ct)&&(Ze.value=le.replace(ct,"").trim(),Ze.important=1),!this.get("functionName")&&!Me.complete)return Ze;var et=[],kt="".concat(Ze.value),At=kt.indexOf("(")+1,St=kt.lastIndexOf(")"),Dt=kt.substring(0,At-1);if(Dt&&(Ze.functionName=Dt),et.push(At),St>=0&&et.push(St),Ze.value=String.prototype.substring.apply(kt,et),Me.numeric){var Mt=parseFloat(Ze.value);Ze.unit=Ze.value.replace(Mt,""),Ze.value=Mt}return Ze}},{key:"splitValues",value:function(le){var Me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:",",Ze=[],ct="(",et=")",kt="",At=0;return(le||"").split("").forEach(function(St){St==ct?(At++,kt+=ct):St==et&&At>0?(At--,kt+=et):St===Me&&0==At?(Ze.push(kt),kt=""):kt+=St}),""!==kt&&Ze.push(kt),Ze.map(function(St){return St.trim()})}},{key:"getDefaultValue",value:function(){return this.get("defaults")}},{key:"getFullValue",value:function(le){var Me=this.get("functionName"),Ze=this.getDefaultValue(),ct=Object(R.isUndefined)(le)?this.get("value"):le,et=!Object(R.isUndefined)(ct)&&""!==ct;if(ct&&Ze&&ct===Ze)return Ze;if(Me&&et){var kt="url"===Me?"'".concat(ct.replace(/'/g,""),"'"):ct;ct="".concat(Me,"(").concat(kt,")")}return et&&this.get("important")&&(ct="".concat(ct," !important")),ct||""}}]),me}(Y.Model);function N(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function H(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?N(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):N(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}j.callParentInit=function(B,F,me){var le=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};B.prototype.initialize.apply(F,[me,T(T({},le),{},{skipInit:1})])},j.callInit=function(B,F){var me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!me.skipInit&&B.init(F,me)},j.getDefaults=function(){return Object(R.result)(this.prototype,"defaults")},j.prototype.defaults={name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:0,important:0,toRequire:0,requires:null,requiresParent:null};var v=j.extend({defaults:H(H({},j.prototype.defaults),{},{detached:0,properties:[],separator:" "}),initialize:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j.callParentInit(j,this,B,F);var me=this.get("properties")||[],le=i(33).default;this.set("properties",new le(me)),this.listenTo(this,"change:value",this.updateValues),j.callInit(this,B,F)},clearValue:function(){return this.get("properties").each(function(B){return B.clearValue()}),j.prototype.clearValue.apply(this,arguments)},updateValues:function(){this.getFullValue().split(this.getSplitSeparator()),this.get("properties").each(function(F,me){})},getSplitSeparator:function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},getDefaultValue:function(B){var F=this.get("defaults");return F&&!B?F:(F="",this.get("properties").each(function(me,le){return F+="".concat(me.getDefaultValue()," ")}),F.trim())},getFullValue:function(){return this.get("detached")?"":this.get("properties").getFullValue()},getPropertyAt:function(B){return this.get("properties").at(B)}}),d=U.a.Model.extend({defaults:{index:"",value:"",values:{},active:!1,preview:!1,properties:[]},initialize:function(){var B=this.get("properties"),F=this.get("value");this.set("properties",B instanceof Ge?B:new Ge(B));var me=this.get("properties");if(me.forEach(this.onPropAdd,this),this.listenTo(me,"add",this.onPropAdd),!F){var le="",Me=this.get("values");for(var Ze in Me)le+=" "+Me[Ze];this.set("value",le.trim())}},onPropAdd:function(B){var F=this.collection;B.parent=F&&F.property},getPropertyAt:function(B){return this.get("properties").at(B)},getPropertyValue:function(B){var F="";return this.get("properties").each(function(me){me.get("property")==B&&(F=me.getFullValue())}),F},getFullValue:function(){var B=[];return this.get("properties").each(function(F){return B.push(F.getFullValue())}),B.join(" ").trim()}});function l(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function y(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?l(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):l(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}var g=U.a.Collection.extend({model:d,initialize:function(){this.idx=1,this.on("add",this.onAdd),this.on("reset",this.onReset)},onAdd:function(B,F,me){me.noIncrement||B.set("index",this.idx++),me.active&&this.active(this.indexOf(B))},onReset:function(){this.idx=1},getSeparator:function(){var B=this.property;return B?B.get("layerSeparator"):", "},getLayersFromValue:function(B){var F=this,me=[];return B.replace(/\(([\w\s,.]*)\)/g,function(le){var Me=le.replace(/,\s*/g,",");B=B.replace(le,Me)}),(B?B.split(this.getSeparator()):[]).forEach(function(le){me.push({properties:F.properties.parseValue(le)})}),me},getLayersFromStyle:function(B){var F=[],me=this.properties;return me.each(function(le){var Me=B[le.get("property")];(Me?Me.split(", "):[]).forEach(function(Ze,ct){Ze=le.parseValue(Ze.trim()).value;var et=F[ct],kt=y(y({},le.attributes),{value:Ze});et?et.properties.push(kt):F[ct]={properties:[kt]}})}),F.forEach(function(le){var Me=le.properties.map(function(Ze){return Ze.property});me.each(function(Ze){var ct=Ze.get("property");Me.indexOf(ct)<0&&le.properties.push(y({},Ze.attributes))})}),F},active:function(B){this.each(function(me){return me.set("active",0)});var F=this.at(B);F&&F.set("active",1)},getFullValue:function(){var B=[];return this.each(function(F){return B.push(F.getFullValue())}),B.join(this.getSeparator())},getPropertyValues:function(B,F){var me=[];return this.each(function(le){var Me=le.getPropertyValue(B);Me?me.push(Me):!Object(R.isUndefined)(F)&&me.push(F)}),me.join(", ")}});function L(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function K(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?L(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):L(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}var ee=v.extend({defaults:K(K({},v.prototype.defaults),{},{layers:[],layerSeparator:", ",prepend:0,preview:0}),initialize:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};v.callParentInit(v,this,B,F);var me=this.get("layers"),le=new g(me);le.property=this,le.properties=this.get("properties"),this.set("layers",le),v.callInit(this,B,F)},getLayers:function(){return this.get("layers")},getCurrentLayer:function(){return this.getLayers().filter(function(B){return B.get("active")})[0]},getFullValue:function(){return this.get("detached")?"":this.get("layers").getFullValue()},getValueFromStyle:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=this.getLayers().getLayersFromStyle(B);return new g(F).getFullValue()},clearValue:function(){return this.getLayers().reset(),v.prototype.clearValue.apply(this,arguments)},getValueFromTarget:function(B){var F=this.attributes,me=F.detached,le=F.property,Me=F.properties,Ze=B.getStyle(),ct={};return Me.forEach(function(et){var kt=et.get("property"),At=Ze[kt];At&&(ct[kt]=At)}),me?Object(R.keys)(ct).length?ct:"":Ze[le]},getLayersFromTarget:function(B){}}),De=i(22),fe=i.n(De),ce=["status","value"],Ce=["complete"];function Se(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function se(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?Se(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):Se(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}var ue="data-clear-style",xe="component:styleUpdate",re=U.a.View.extend({template:function(){var F=this.ppfx;return'\n      <div class="'.concat(this.pfx,'label" data-sm-label></div>\n      <div class="').concat(F,'fields" data-sm-fields></div>\n    ')},templateLabel:function(B){var F=this.pfx,me=this.em,le=B.parent,Me=B.attributes,Ze=Me.icon,ct=void 0===Ze?"":Ze,et=Me.info,kt=void 0===et?"":et,St=Me.name,Dt=me&&me.t("styleManager.properties.".concat(Me.id))||St;return'\n      <span class="'.concat(F,"icon ").concat(ct,'" title="').concat(kt,'">\n        ').concat(Dt,"\n      </span>\n      ").concat(le?"":'<b class="'.concat(F,'clear" ').concat(ue,">&Cross;</b>"),"\n    ")},templateInput:function(B){return'\n      <div class="'.concat(this.ppfx,'field">\n        <input placeholder="').concat(B.getDefaultValue(),'"/>\n      </div>\n    ')},events:ne()({change:"inputValueChanged"},"click [".concat(ue,"]"),"clear"),initialize:function(){var B=this,F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(R.bindAll)(this,"targetUpdated","__change","__updateStyle"),this.config=F.config||{};var me=this.config.em;this.em=me,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.target=F.target||{},this.propTarget=F.propTarget||{},this.onChange=F.onChange,this.onInputRender=F.onInputRender||{},this.customValue=F.customValue||{};var le=this.model;this.property=le.get("property"),this.input=null;var Me=this.pfx;if(this.inputHolderId="#"+Me+"input-holder",this.sector=le.collection&&le.collection.sector,this.__destroyFn=this.destroy?this.destroy.bind(this):function(){},le.view=this,le.get("value")||le.set("value",le.getDefaultValue()),me){this.listenTo(me,"update:component:style:".concat(this.property),this.targetUpdated);var Ze=le.get("requires")||{};Object.keys(Ze).forEach(function(et){B.listenTo(me,"component:styleUpdate:".concat(et),B.targetUpdated)})}this.listenTo(this.propTarget,"update",this.targetUpdated),this.listenTo(le,"destroy remove",this.remove),this.listenTo(le,"change:value",this.modelValueChanged),this.listenTo(le,"targetUpdated",this.targetUpdated),this.listenTo(le,"change:visible",this.updateVisibility),this.listenTo(le,"change:status",this.updateStatus),this.listenTo(le,"change:name change:className change:full",this.render);var ct=this.init&&this.init.bind(this);ct&&ct()},remove:function(){var B=this;U.a.View.prototype.remove.apply(this,arguments),["em","target","input","$input","propTarget","sector"].forEach(function(F){return B[F]={}}),this.__destroyFn(this._getClbOpts())},updateStatus:function(){var B=this.model,F=B.get("status"),me=B.parent,le=this.pfx,Me=this.ppfx,Ze=this.config,ct="".concat(Me,"four-color"),et="".concat(Me,"color-warn"),kt=this.$el.children(".".concat(le,"label")),At=this.getClearEl(),St=At?At.style:{};switch(kt.removeClass("".concat(ct," ").concat(et)),St.display="none",F){case"updated":!me&&kt.addClass(ct),Ze.clearProperties&&(St.display="inline");break;case"computed":kt.addClass(et)}},clear:function(B){var F=this;B&&B.stopPropagation(),this.model.clearValue(),this.__unset(),setTimeout(function(){return F.targetUpdated()})},getClearEl:function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(ue,"]"))),this.clearEl},getTarget:function(){return this.getTargetModel()},getTargets:function(){return this.propTarget.targets||[this.getTarget()]},getFirstTarget:function(){return this.getTargets()[0]},getTargetModel:function(){return this.propTarget&&this.propTarget.model},getHelperModel:function(){return this.propTarget&&this.propTarget.helper},inputValueChanged:function(B){B&&B.stopPropagation(),this.emit||(this.model.setValueFromInput(this.getInputValue()),this.elementUpdated())},elementUpdated:function(){this.setStatus("updated")},setStatus:function(B){this.model.set("status",B);var F=this.model.parent;F&&"updated"==B&&F.set("status",B)},emitUpdateTarget:Object(R.debounce)(function(){var B=this.config.em;B&&B.trigger("styleManager:update:target",this.getFirstTarget())}),_getTargetData:function(){var B=this.model,F=this.config,me=this.getTargetValue({ignoreDefault:1}),le=B.getDefaultValue(),Me=this.getComputedValue(),Ze="",ct="";return me?(Ze=me,F.highlightChanged&&(ct="updated")):Me&&F.showComputed&&Me!=le?(Ze=Me,F.highlightComputed&&(ct="computed")):(Ze=le,ct=""),{value:Ze,status:ct,targetValue:me,defaultValue:le,computedValue:Me}},targetUpdated:function(B,F){var me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!this.config.fromLayer&&(this.emitUpdateTarget(),this.checkVisibility())){var le=this.config,Me=le.em,Ze=this.model,ct=Ze.get("property"),et=this._getTargetData(),kt=et.status,At=et.value,St=fe()(et,ce),Dt=se({status:kt,value:At},St);return this.setStatus(kt),Ze.setValue(At,0,se({fromTarget:1},me)),this.__update(At),Me&&(Me.trigger("styleManager:change",this,ct,At,Dt),Me.trigger("styleManager:change:".concat(ct),this,At,Dt),this._emitUpdate(Dt)),Dt}},_emitUpdate:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=this.em,me=this.model;if(F){var le=me.get("property"),Me=se(se({},this._getEventData()),B),Ze=Me.id;F.trigger("style:update",Me),F.trigger("style:update:".concat(le),Me),le!==Ze&&F.trigger("style:update:".concat(Ze),Me)}},_getEventData:function(){var B=this.model;return{propertyView:this,targets:this.getTargets(),value:B.getFullValue(),property:B,id:B.get("id"),name:B.get("property")}},checkVisibility:function(){var B=1;return this.config.hideNotStylable&&(this.isTargetStylable()&&this.isComponentStylable()?this.show():(this.hide(),B=0),this.sector&&this.sector.trigger("updateVisibility")),B},getTargetValue:function(){var B,F=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},me=this.model,le=this.getFirstTarget(),Me=this.customValue;if(!le)return B;if((B=le.getStyle()[me.get("property")])||F.ignoreDefault||(B=me.getDefaultValue()),"function"==typeof Me&&!F.ignoreCustomValue){var Ze=me.collection.indexOf(me),ct=Me(this,Ze,B);ct&&(B=ct)}return B},getComputedValue:function(){var B=this.propTarget,F=B.computed||{},me=B.computedDefault||{},le=this.config.avoidComputed||[],Me=this.model.get("property"),Ze=le.indexOf(Me)<0,ct=F[Me],et=me[Object(_.camelCase)(Me)];return F&&Ze&&et!==ct&&ct||""},getInputValue:function(){var B=this.getInputEl();return B?B.value:""},modelValueChanged:function(B,F){var me=this,le=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Me=this.model,Ze=Me.getFullValue();if(le.fromInput||this.setValue(Ze),!le.fromTarget){this.getTargets().forEach(function(At){return me.__updateTarget(At,le)});var ct=this.config.em;if(!ct)return;var et=Me.get("property"),kt=ne()({},et,Ze);ct.getSelectedAll().forEach(function(At){!le.noEmit&&ct.trigger("component:update",At,kt,le),ct.trigger(xe,At,et,le),ct.trigger("".concat(xe,":").concat(et),At,Ze,le),At.trigger("change:style",At,kt,le),At.trigger("change:style:".concat(et),At,Ze,le)})}},__updateTarget:function(B){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},me=this.model,le=me.getFullValue(),Me=this.onChange;B&&this.isComponentStylable()&&(F.fromTarget||(Me&&!F.fromParent?Me(B,this,F):this.updateTargetStyle(le,null,se(se({},F),{},{target:B}))),this._emitUpdate())},updateTargetStyle:function(B){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",me=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},le=F||this.model.get("property"),Me=me.target||this.getFirstTarget(),Ze=Me.getStyle();B?Ze[le]=B:delete Ze[le],me.avoidStore?Ze.__=1:delete Ze.__,Me.setStyle(Ze,me);var ct=this.getHelperModel();ct&&ct.setStyle(Ze,me)},isTargetStylable:function(B){var F=B||this.getFirstTarget(),me=this.model,le=me.get("id"),Me=me.get("property"),Ze=me.get("toRequire"),ct=F.get("unstylable"),et=F.get("stylable-require"),kt=me.get("requires"),At=me.get("requiresParent"),St=this.sector?this.sector.collection:null,Dt=this.em?this.em.getSelected():null,Mt=F.get("stylable");if(Object(R.isArray)(Mt)&&(Mt=Mt.indexOf(Me)>=0),Object(R.isArray)(ct)&&(Mt=ct.indexOf(Me)<0),Ze&&(Mt=!B||et&&(et.indexOf(le)>=0||et.indexOf(Me)>=0)),St&&kt){var Gt=Object.keys(kt);St.each(function(It){It.get("properties").each(function(Tt){if(Object(R.includes)(Gt,Tt.id)){var Ut=kt[Tt.id];Mt=Mt&&Object(R.includes)(Ut,Tt.get("value"))}})})}if(At){var Xt=Dt&&Dt.parent(),ln=Xt&&Xt.getEl();if(ln){var Qt=window.getComputedStyle(ln);Object(R.each)(At,function(It,Tt){Mt=Mt&&Qt[Tt]&&Object(R.includes)(It,Qt[Tt])})}else Mt=!1}return Mt},isComponentStylable:function(){var B=this.em,F=B&&B.getSelected();return!F||this.isTargetStylable(F)},setRawValue:function(B){this.setValue(this.model.parseValue(B))},setValue:function(B){var F=this.model,me=Object(R.isUndefined)(B)?F.getDefaultValue():B;if(this.update)return this.__update(me);var le=this.getInputEl();le&&(le.value=me)},getInputEl:function(){return this.input||(this.input=this.el.querySelector("input")),this.input},updateVisibility:function(){this.el.style.display=this.model.get("visible")?"":"none"},show:function(){this.model.set("visible",1)},hide:function(){this.model.set("visible",0)},cleanValue:function(){this.setValue("")},clearCached:function(){this.clearEl=null,this.input=null,this.$input=null},__unset:function(){var B=this.unset&&this.unset.bind(this);B&&B(this._getClbOpts())},__update:function(B){var F=this.update&&this.update.bind(this);F&&F(se(se({},this._getClbOpts()),{},{value:B}))},__change:function(){for(var B=this.emit&&this.emit.bind(this),F=arguments.length,me=new Array(F),le=0;le<F;le++)me[le]=arguments[le];B&&B.apply(void 0,[this._getClbOpts()].concat(me))},__updateStyle:function(B){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},me=F.complete,le=fe()(F,Ce),Me=this.em,Ze=this.model,ct=Ze.get("property"),et=!1!==me;Object(_.isObject)(B)?this.getTargets().forEach(function(kt){kt.addStyle(B,{avoidStore:!et}),Me&&Me.trigger(xe,kt,ct,le)}):Ze.setValueFromInput(B,me,le),et&&this.elementUpdated()},_getClbOpts:function(){var B=this.model,F=this.el,me=this.createdEl,le=this.propTarget,Me=B.get("property"),Ze=le.computed||{},ct=le.parentRules||[],et=Object(_.find)(ct,function(kt){return!!kt.getStyle()[Me]});return{el:F,createdEl:me,props:B.attributes,setProps:function(){return B.set.apply(B,arguments)},change:this.__change,updateStyle:this.__updateStyle,targets:this.getTargets(),target:this.getFirstTarget(),computed:Ze,parentRules:ct,parentRule:et}},render:function(){this.clearCached();var B=this.pfx,F=this.model,me=this.el,le=this.$el,Me=F.get("property"),Ze=F.get("full"),ct=F.get("className")||"",et="".concat(B,"property");this.createdEl&&this.__destroyFn(this._getClbOpts()),le.empty().append(this.template(F)),le.find("[data-sm-label]").append(this.templateLabel(F));var kt=this.create&&this.create.bind(this);this.createdEl=kt&&kt(this._getClbOpts()),le.find("[data-sm-fields]").append(this.createdEl||this.templateInput(F)),me.className="".concat(et," ").concat(B).concat(F.get("type")," ").concat(et,"__").concat(Me," ").concat(ct).trim(),me.className+=Ze?" ".concat(et,"--full"):"",this.updateStatus();var At=this.onRender&&this.onRender.bind(this);At&&At(),this.setValue(F.get("value"),{fromTarget:1})}});function J(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function $(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?J(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):J(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}var V=U.a.$,S=re.extend({templateInput:function(){var B=this.pfx;return'\n      <div class="'.concat(B,"field ").concat(B,'composite">\n        <span id="').concat(B,'input-holder"></span>\n      </div>\n    ')},inputValueChanged:function(){if(!this.model.get("detached")){for(var B=arguments.length,F=new Array(B),me=0;me<B;me++)F[me]=arguments[me];re.prototype.inputValueChanged.apply(this,F)}},clear:function(B){var F=this.properties;F&&F.forEach(function(me){return me.clear()}),re.prototype.clear.apply(this,arguments)},remove:function(){var B=this;this.model.get("properties").reset(),re.prototype.remove.apply(this,arguments),["properties","props","$props"].forEach(function(F){return B[F]={}})},onRender:function(){var B=this.model,F=B.get("properties")||[];if(this.properties=[],F.length&&(this.$input||(this.$input=V('<input type="hidden" value="0">'),this.input=this.$input.get(0)),this.props||(this.props=B.get("properties")),!this.$props)){this.props.each(function(le,Me){le&&"composite"==le.get("type")&&(this.props.remove(le),console.warn("Nested composite types not yet allowed.")),le.parent=B},this);var me=new(i(28).default)(this.getPropsConfig());this.$props=me.render().$el,this.properties=me.properties,this.$el.find("#".concat(this.pfx,"input-holder")).append(this.$props)}},getPropsConfig:function(B){var F=this,me=this.model,le={config:$($({},this.config),{},{highlightComputed:0}),collection:this.props,target:this.target,propTarget:this.propTarget,onChange:function(Me,Ze,ct){me.set("value",me.getFullValue(),ct)},customValue:function(Me,Ze){return F.valueOnIndex(Ze,Me)}};return me.get("detached")&&delete le.onChange,le},valueOnIndex:function(B,F){var le=this.getTargetValue({ignoreDefault:1});return le?le.split(this.model.getSplitSeparator())[B]:F&&F.getTargetValue({ignoreCustomValue:1,ignoreDefault:1})},clearCached:function(){re.prototype.clearCached.apply(this,arguments),this.$input=null,this.props=null,this.$props=null}}),O=i(28);function z(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function n(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?z(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):z(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}var m=U.a.View.extend({events:{click:"active","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"},template:function(B){var F=this.pfx,me=this.ppfx,le=this.em,Me="".concat(le&&le.t("styleManager.layer")," ").concat(B.get("index"));return'\n      <div id="'.concat(F,'move" class="').concat(me,'no-touch-actions" data-move-layer>\n        <i class="fa fa-arrows"></i>\n      </div>\n      <div id="').concat(F,'label">').concat(Me,'</div>\n      <div id="').concat(F,'preview-box">\n      \t<div id="').concat(F,'preview" data-preview></div>\n      </div>\n      <div id="').concat(F,'close-layer" class="').concat(F,'btn-close" data-close-layer>\n        &Cross;\n      </div>\n      <div id="').concat(F,'inputs" data-properties></div>\n      <div style="clear:both"></div>\n    ')},initialize:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=this.model;this.stackModel=B.stackModel,this.config=B.config||{},this.em=this.config.em,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.sorter=B.sorter||null,this.propsConfig=B.propsConfig||{},this.customPreview=B.onPreview,this.listenTo(F,"destroy remove",this.remove),this.listenTo(F,"change:active",this.updateVisibility),this.listenTo(F.get("properties"),"change",this.updatePreview),F.view=this,F.set({droppable:0,draggable:1}),this.$el.data("model",F)},initSorter:function(B){this.sorter&&this.sorter.startSort(this.el)},removeItem:function(B){B&&B.stopPropagation(),this.remove()},remove:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=this.model,me=this.props,le=F.collection,Me=this.stackModel;U.a.View.prototype.remove.apply(this,arguments),le&&le.contains(F)&&le.remove(F),Me&&Me.set&&(Me.set({stackIndex:null},{silent:!0}),!B.fromTarget&&Me.trigger("updateValue")),me&&me.remove()},onPreview:function(B){var F=this.stackModel,me=F&&F.get("detached"),le=B.split(" "),Ze=[],ct={};return this.model.get("properties").each(function(et,kt){var At=et.get("property"),St=me?et.getFullValue():le[kt]||"";if(St&&"integer"==et.get("type")){var Dt=parseInt(St,10),Mt=St.replace(Dt,"");St=(Dt=(Dt=(Dt=isNaN(Dt)?0:Dt)>3?3:Dt)<-3?-3:Dt)+Mt}Ze.push(St),ct[At]=St}),me?ct:Ze.join(" ")},updatePreview:function(){var B=this.stackModel,F=this.customPreview,me=this.getPreviewEl(),le=this.model.getFullValue(),Me=F?F(le):this.onPreview(le);if(Me&&B&&me){var Ze=me.style;if(Object(R.isString)(Me))Ze[B.get("property")]=Me;else{var ct=[];Object(R.each)(Me,function(et,kt){return ct.push("".concat(kt,":").concat(et))}),me.setAttribute("style",ct.join(";"))}}},getPropertiesWrapper:function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},getPreviewEl:function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},active:function(){var B=this.model,F=B.collection;F.active(F.indexOf(B))},updateVisibility:function(){var B=this.pfx,F=this.getPropertiesWrapper(),me=this.model.get("active");F.style.display=me?"":"none",this.$el[me?"addClass":"removeClass"]("".concat(B,"active"))},render:function(){var B=this.propsConfig,F=this.model,me=this.el,le=this.pfx,Me=F.get("preview"),Ze=new O.default({collection:F.get("properties"),config:n(n({},this.config),{},{fromLayer:1}),target:B.target,customValue:B.customValue,propTarget:B.propTarget,onChange:B.onChange}),ct=Ze.render().el;return me.innerHTML=this.template(F),me.className="".concat(le,"layer").concat(Me?"":" ".concat(le,"no-preview")),this.props=Ze,this.getPropertiesWrapper().appendChild(ct),this.updateVisibility(),this.updatePreview(),this}}),s=U.a.View.extend({initialize:function(B){this.config=B.config||{},this.stackModel=B.stackModel,this.preview=B.preview,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.propsConfig=B.propsConfig;var F=this.pfx,me=this.ppfx,le=this.collection;this.className="".concat(F,"layers ").concat(me,"field"),this.listenTo(le,"add",this.addTo),this.listenTo(le,"deselectAll",this.deselectAll),this.listenTo(le,"reset",this.reset),this.items=[];var Me=this.config.em||"",Ze=Me?Me.get("Utils"):"";this.sorter=Ze?new Ze.Sorter({container:this.el,ignoreViewChildren:1,containerSel:".".concat(F,"layers"),itemSel:".".concat(F,"layer"),pfx:this.config.pStylePrefix}):"",le.view=this,this.$el.data("model",le),this.$el.data("collection",le)},addTo:function(B){var F=this.collection.indexOf(B);this.addToCollection(B,null,F)},addToCollection:function(B,F,me){var le=F||null,Me=this.stackModel,Ze=this.config,ct=this.sorter,et=this.propsConfig;void 0!==this.preview&&B.set("preview",this.preview);var kt=new m({model:B,config:Ze,sorter:ct,stackModel:Me,propsConfig:et}),At=kt.render().el;if(this.items.push(kt),le)le.appendChild(At);else if(void 0!==me){var St="before";this.$el.children().length==me&&(me--,St="after"),me<0?this.$el.append(At):this.$el.children().eq(me)[St](At)}else this.$el.append(At);return At},deselectAll:function(){this.$el.find("."+this.pfx+"layer").removeClass(this.pfx+"active")},reset:function(B,F){this.clearItems(F),this.render()},render:function(){var B=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(F){this.addToCollection(F,B)},this),this.$el.append(B),this.$el.attr("class",this.className),this.sorter&&(this.sorter.plh=null),this},remove:function(){this.clearItems(),U.a.View.prototype.remove.apply(this,arguments)},clearItems:function(B){this.items.forEach(function(F){return F.remove(B)}),this.items=[]}});function E(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}var W=new(i(39).a),pe=S.extend({templateInput:function(){var B=this.pfx;return'\n      <div class="'.concat(B,"field ").concat(B,'stack">\n        <button type="button" id="').concat(B,'add" data-add-layer>+</button>\n        <div data-layers-wrapper></div>\n      </div>\n    ')},init:function(){var B=this.model;B.set("stackIndex",null),this.events["click [data-add-layer]"]="addLayer",this.listenTo(B,"change:stackIndex",this.indexChanged),this.listenTo(B,"updateValue",this.inputValueChanged),this.delegateEvents();var F=this.getPropsConfig();this.layers=new s({collection:this.getLayers(),stackModel:B,preview:B.get("preview"),config:this.config,propsConfig:F});var me=i(28).default;this.propsView=new me({target:this.target,collection:B.get("properties"),stackModel:B,config:this.config,onChange:F.onChange,propTarget:F.propTarget})},targetUpdated:function(){var B,F=this;if(this.model.get("detached"))B=this._getTargetData(),this.setStatus(B.status),this.checkVisibility();else{for(var me=arguments.length,le=new Array(me),Me=0;Me<me;Me++)le[Me]=arguments[Me];B=S.prototype.targetUpdated.apply(this,le)}setTimeout(function(){return F.refreshLayers(B)})},getLayers:function(){return this.model.get("layers")},indexChanged:function(B){var F=this.model;this.getLayers().active(F.get("stackIndex"))},addLayer:function(){var B=this.model,F=this.getLayers(),me=B.get("prepend"),le=B.get("properties").deepClone();le.each(function(Ze){return Ze.set("value","")});var Me=F.add({properties:le},function(Ze){for(var ct=1;ct<arguments.length;ct++){var et=null!=arguments[ct]?arguments[ct]:{};ct%2?E(Object(et),!0).forEach(function(kt){ne()(Ze,kt,et[kt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ze,Object.getOwnPropertyDescriptors(et)):E(Object(et)).forEach(function(kt){Object.defineProperty(Ze,kt,Object.getOwnPropertyDescriptor(et,kt))})}return Ze}({active:1},me&&{at:0}));this.inputValueChanged({up:1}),B.set("stackIndex",F.indexOf(Me))},inputValueChanged:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=this.model;B.up&&this.elementUpdated(),F.get("detached")?F.get("properties").each(function(me){return me.trigger("change:value")}):F.set("value",this.getLayerValues())},setValue:function(){},getLayerValues:function(){return this.getLayers().getFullValue()},_getClassRule:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=this.em,me=B.skipAdd,le=void 0===me?1:me,Me=F.getSelected(),Ze=F.get("StyleManager").getModelToStyle(Me,{skipAdd:le,useClasses:1});return Ze!==Me&&Ze},_getParentTarget:function(B){for(var F,me=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},le=this.em,Me=this.model,Ze=Me.get("property"),ct=me.isValid||function(ln){return ln.getStyle()[Ze]},et=le.get("CssComposer").getAll().filter(function(ln){return ln.selectorsToString()===B.getSelectorsString()}),kt=et.reduce(function(ln,Qt){return ln[Qt.getAtRule()]=Qt,ln},{}),At=W.sortMediaObject(kt),St=At.map(function(ln){return ln.value}),Dt=St.indexOf(B),Mt=St.splice(0,Dt),Gt=Mt.length-1;Gt>-1;Gt--){var Xt=Mt[Gt];if(ct(Xt)){F=Xt;break}}return F},refreshLayers:function(){var B,F,me,le,Me,Ze,ct=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},et=[],kt=this.model,At=this.em,St=this.getLayers(),Dt=kt.get("detached"),Mt=kt.get("property"),Gt=this.getFirstTarget(),Xt=this.getComputedValue(),ln=At.getSelected(),Qt={fromTarget:1};if(Dt){F=ct.targetValue||{};var It=function(qt){var On=kt.get("properties").at(0).get("property");return qt&&!Object(R.isUndefined)(qt.getStyle()[On])};if(!Object(R.keys)(F).length&&Xt&&ln){var Tt={isValid:function(qt){return It(qt)}};(le=this._getParentTarget(Gt,Tt))?F=le.getStyle():(me=this._getClassRule(),le=!(Me=It(me)&&me.getStyle())&&this._getParentTarget(this._getClassRule({skipAdd:0}),Tt),Ze=It(le)&&le.getStyle(),F=Me||Ze||{})}B=F,et=St.getLayersFromStyle(F)}else{var Ut=this.getTargetValue({ignoreDefault:1}),Kt=Ut;!Kt&&Xt&&((le=this._getParentTarget(Gt))?Kt=le.getStyle()[Mt]:(Ze=(le=!(Me=(me=this._getClassRule())&&me.getStyle()[Mt])&&this._getParentTarget(this._getClassRule({skipAdd:0})))&&le.getStyle()[Mt],Kt=Me||Ze||Xt)),B=Kt=Kt==kt.getDefaultValue()?"":Kt,et=St.getLayersFromValue(Kt)}var Et=kt.getLayersFromTarget(Gt,{resultValue:B,layersObj:et})||et;St.reset(null,Qt),St.add(Et,Qt),kt.set({stackIndex:null},{silent:!0})},getTargetValue:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=this.model,me=F.attributes.detached,le=this.getFirstTarget(),Me=S.prototype.getTargetValue.call(this,B);return Object(R.isUndefined)(Me)&&!me?Me=F.getValueFromStyle(le.getStyle()):me&&(Me=F.getValueFromTarget(le)),Me},getPropsConfig:function(){var B=this,F=B.model;return{target:B.target,propTarget:B.propTarget,onChange:function(me,le,Me){var Ze=le.model,ct=F.get("status");if(F.get("detached")){var et=Ze.get("property"),kt=Ze.getDefaultValue(),At=B.getLayers(),St=At.getPropertyValues(et,kt);le.updateTargetStyle(St,null,Me),"background-image"!=et||Me.avoidStore||"computed"!=ct||F.get("properties").filter(function(Mt){return"__"==Mt.get("property").substr(0,2)}).forEach(function(Mt){var Gt=Mt.get("property"),Xt=At.getPropertyValues(Gt,Mt.getDefaultValue());B.getTargets().forEach(function(ln){return ln.addStyle(ne()({},Gt,Xt),Me)})})}else if("updated"==ct){var Dt=F.getFullValue();F.set("value",Dt,Me),!Dt&&le.updateTargetStyle(Dt,null,Me)}}}},onRender:function(){var F=this.layers,me=this.propsView,le=this.el.querySelector("[data-layers-wrapper]");me.render(),le.appendChild(F.render().el)}}),Ee=U.a.$,be=re.extend({templateInput:function(){var B=this.pfx,F=this.em;return'\n    <div class="'.concat(B,"field ").concat(B,"file\">\n      <div id='").concat(B,"input-holder'>\n        <div class=\"").concat(B,'btn-c">\n          <button class="').concat(B,'btn" id="').concat(B,'images" type="button">\n            ').concat(F.t("styleManager.fileButton"),'\n          </button>\n        </div>\n        <div style="clear:both;"></div>\n      </div>\n      <div id="').concat(B,'preview-box">\n        <div id="').concat(B,'preview-file"></div>\n        <div id="').concat(B,'close">&Cross;</div>\n      </div>\n    </div>\n    ')},init:function(){var B=this.em;this.modal=B.get("Modal"),this.am=B.get("AssetManager"),this.events["click #"+this.pfx+"close"]="removeFile",this.events["click #"+this.pfx+"images"]="openAssetManager",this.delegateEvents()},onRender:function(){if(!this.$input){var B=this.model.getDefaultValue();this.$input=Ee('<input placeholder="'.concat(B,'">'))}this.$preview||(this.$preview=this.$el.find("#"+this.pfx+"preview-file")),this.$previewBox||(this.$previewBox=this.$el.find("#"+this.pfx+"preview-box")),this.setValue(this.componentValue,0)},clearCached:function(){re.prototype.clearCached.apply(this,arguments),this.$preview=null,this.$previewBox=null},setValue:function(B,F){re.prototype.setValue.apply(this,arguments),this.setPreviewView(B&&B!=this.model.getDefaultValue()),this.setPreview(B)},setPreviewView:function(B){var F=this.$previewBox;F&&F[B?"addClass":"removeClass"]("".concat(this.pfx,"show")),F&&F.css({display:B?"block":"none"})},spreadUrl:function(B){this.model.set("value",B),this.setPreviewView(1)},setPreview:function(B){var F=this.$preview;B=B&&B.indexOf("url(")<0?"url(".concat(B,")"):B,F&&F.css("background-image",B)},cleanValue:function(){this.setPreviewView(0),this.model.set({value:""},{silent:!0})},removeFile:function(){this.model.set("value",this.model.getDefaultValue());for(var B=arguments.length,F=new Array(B),me=0;me<B;me++)F[me]=arguments[me];re.prototype.cleanValue.apply(this,F),this.setPreviewView(0)},openAssetManager:function(){var B=this,F=this.em,me=F&&F.get("AssetManager");me&&me.open({select:function(le,Me){var Ze;Ze=le,B.spreadUrl(Object(R.isString)(Ze)?Ze:Ze.get("src")),Me&&me.close()},target:this.getTargetModel(),types:["image"],accept:"image/*"})}}),de=U.a.$,_e=re.extend({templateInput:function(){return""},init:function(){var B=this.model;this.listenTo(B,"change:unit",this.modelValueChanged),this.listenTo(B,"el:change",this.elementUpdated),this.listenTo(B,"change:units",this.render)},setValue:function(B){var F=this.model.parseValue(B);B="".concat(F.value).concat(F.unit),this.inputInst.setValue(B,{silent:1})},onRender:function(){var B=this.ppfx;if(!this.input){var F=this.model.input;F.ppfx=B,F.render(),this.el.querySelector(".".concat(B,"fields")).appendChild(F.el),this.$input=F.inputEl,this.unit=F.unitEl,this.$unit=de(this.unit),this.input=this.$input.get(0),this.inputInst=F}},clearCached:function(){re.prototype.clearCached.apply(this,arguments),this.unit=null,this.$unit=null}}),Pe=i(45);function He(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function ut(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?He(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):He(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}var rt=_e.extend({setValue:function(B){var F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};F=ut(ut({},F),{},{silent:1}),this.inputInst.setValue(B,F)},remove:function(){var B=this;_e.prototype.remove.apply(this,arguments);var F=this.inputInst;F&&F.remove&&F.remove(),["inputInst","$color"].forEach(function(me){return B[me]={}})},onRender:function(){if(!this.input){var B=this.ppfx,F=new Pe.a({target:this.target,model:this.model,ppfx:B}).render();this.el.querySelector(".".concat(B,"fields")).appendChild(F.el),this.$input=F.inputEl,this.$color=F.colorEl,this.input=this.$input.get(0),this.inputInst=F}}}),G=i(11),ae=i.n(G);function Oe(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function ze(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?Oe(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):Oe(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}var qe=j.extend({defaults:function(){return ze(ze({},j.prototype.defaults),{},{options:[],full:1})},initialize:function(){for(var B=arguments.length,F=new Array(B),me=0;me<B;me++)F[me]=arguments[me];j.prototype.initialize.apply(this,F),this.listenTo(this,"change:options",this.onOptionChange)},onOptionChange:function(){this.set("list",this.get("options"))},getOptions:function(){var B=this.attributes,F=B.options;return F&&F.length?F:B.list},setOptions:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.set("options",B),this},addOption:function(B){if(B){var F=this.getOptions();this.setOptions([].concat(ae()(F),[B]))}return this}});function Je(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function ot(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?Je(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):Je(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}var X=qe.extend({defaults:function(){return ot(ot({},qe.prototype.defaults()),{},{full:0})}}),ke=re.extend({templateInput:function(){var B=this.pfx,F=this.ppfx;return'\n      <div class="'.concat(F,"field ").concat(F,'select">\n        <span id="').concat(B,'input-holder"></span>\n        <div class="').concat(F,'sel-arrow">\n          <div class="').concat(F,'d-s-arrow"></div>\n        </div>\n      </div>\n    ')},initialize:function(){for(var B=arguments.length,F=new Array(B),me=0;me<B;me++)F[me]=arguments[me];re.prototype.initialize.apply(this,F),this.listenTo(this.model,"change:options",this.updateOptions)},updateOptions:function(){this.input=null,this.onRender()},onRender:function(){var B=this.pfx,F=this.model.getOptions();if(!this.input){var me="";F.forEach(function(Me){var Ze=Me.name||Me.value,ct=Me.style?Me.style.replace(/"/g,"&quot;"):"",et=ct?'style="'.concat(ct,'"'):"",kt=Me.value.replace(/"/g,"&quot;");me+='<option value="'.concat(kt,'" ').concat(et,">").concat(Ze,"</option>")});var le=this.el.querySelector("#".concat(B,"input-holder"));le.innerHTML="<select>".concat(me,"</select>"),this.input=le.firstChild}}}),Ae=re.extend({templateInput:function(){var B=this.ppfx;return'\n      <div class="'.concat(B,"field ").concat(B,'field-radio">\n      </div>\n    ')},onRender:function(){var B=this.pfx,F=this.ppfx,me="".concat(F,"radio-item-label"),le=this.model,Me=le.get("property"),Ze=le.get("list")||le.get("options")||[],ct=le.cid,et="".concat(B,"radio ").concat(B,"radio-").concat(Me);if(!this.input&&Ze&&Ze.length){var kt="";Ze.forEach(function(St){var Dt=St.className?"".concat(St.className," ").concat(B,"icon ").concat(me):"",Mt="".concat(Me,"-").concat(St.value,"-").concat(ct),Gt=St.name||St.value,Xt=St.title?'title="'.concat(St.title,'"'):"";kt+='\n            <div class="'.concat(F,'radio-item">\n              <input type="radio" class="').concat(et,'" id="').concat(Mt,'" name="').concat(Me,"-").concat(ct,'" value="').concat(St.value,'"/>\n              <label class="').concat(Dt||me,'" ').concat(Xt,' for="').concat(Mt,'">').concat(Dt?"":Gt,"</label>\n            </div>\n          ")});var At=this.el.querySelector(".".concat(F,"field"));At.innerHTML='<div class="'.concat(F,'radio-items">').concat(kt,"</div>"),this.input=At.firstChild}},getInputValue:function(){var B=this.getCheckedEl();return B?B.value:""},getCheckedEl:function(){var B=this.getInputEl();return B?B.querySelector("input:checked"):""},setValue:function(B){var F=this.model,me=B||F.get("value")||F.getDefaultValue(),le=this.getInputEl(),Me=le?le.querySelector('[value="'.concat(me,'"]')):"";if(Me)Me.checked=!0;else{var Ze=this.getCheckedEl();Ze&&(Ze.checked=!1)}}}),Ne=i(40);function he(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function Be(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?he(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):he(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}var Ve=j.extend({defaults:Be(Be({},j.prototype.defaults),{},{units:[],unit:"",step:1,min:"",max:""}),getUnits:function(){return this.get("units")||[]},getValueUnit:function(){return this.get("unit")},initialize:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};j.callParentInit(j,this,B,F);var me=this.get("unit"),le=this.get("units");this.input=Object(_.hasWin)()&&new Ne.a({model:this}),le.length&&!me&&this.set("unit",le[0]),j.callInit(this,B,F)},clearValue:function(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.set({value:void 0,unit:void 0},B),this},parseValue:function(B){var F=j.prototype.parseValue.apply(this,arguments),me=this.input.validateInputValue(F.value,{deepCheck:1}),le=me.value,Me=me.unit;return F.value=le,F.unit=Me,F},getFullValue:function(){var B=this.get("value"),F=this.get("unit");return B=Object(R.isUndefined)(B)?"":B,F=!Object(R.isUndefined)(F)&&B?F:"",B="".concat(B).concat(F),j.prototype.getFullValue.apply(this,[B])}});function tt(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function dt(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?tt(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):tt(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}var vt=Ve.extend({defaults:dt(dt({},Ve.prototype.defaults),{},{showInput:1})});function Xe(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function ft(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?Xe(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):Xe(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}var je=_e.extend({events:function(){return ft(ft({},_e.prototype.events),{},{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},templateInput:function(B){var F=this.ppfx;return'\n      <div class="'.concat(F,"field ").concat(F,'field-range">\n        <input type="range"\n          min="').concat(B.get("min"),'"\n          max="').concat(B.get("max"),'"\n          step="').concat(B.get("step"),'"/>\n      </div>\n    ')},getSliderEl:function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},inputValueChanged:function(){var B=this.model,F=B.get("step");this.getInputEl().value=this.getSliderEl().value;var me=this.getInputValue()-F;B.set("value",me,{avoidStore:1}).set("value",me+F),this.elementUpdated()},inputValueChangedSoft:function(){this.getInputEl().value=this.getSliderEl().value,this.model.set("value",this.getInputValue(),{avoidStore:1}),this.elementUpdated()},setValue:function(B){var F=this.model.parseValue(B);this.getSliderEl().value=parseFloat(F.value),_e.prototype.setValue.apply(this,arguments)},onRender:function(){_e.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},clearCached:function(){_e.prototype.clearCached.apply(this,arguments),this.slider=null}});function st(B,F){var me=Object.keys(B);if(Object.getOwnPropertySymbols){var le=Object.getOwnPropertySymbols(B);F&&(le=le.filter(function(Me){return Object.getOwnPropertyDescriptor(B,Me).enumerable})),me.push.apply(me,le)}return me}function te(B){for(var F=1;F<arguments.length;F++){var me=null!=arguments[F]?arguments[F]:{};F%2?st(Object(me),!0).forEach(function(le){ne()(B,le,me[le])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(me)):st(Object(me)).forEach(function(le){Object.defineProperty(B,le,Object.getOwnPropertyDescriptor(me,le))})}return B}var Ge=oe.default=U.a.Collection.extend(M.a).extend({extendViewApi:1,types:[{id:"stack",model:ee,view:pe,isType:function(B){if(B&&"stack"==B.type)return B}},{id:"composite",model:v,view:S,isType:function(B){if(B&&"composite"==B.type)return B}},{id:"file",model:j,view:be,isType:function(B){if(B&&"file"==B.type)return B}},{id:"color",model:j,view:rt,isType:function(B){if(B&&"color"==B.type)return B}},{id:"select",model:X,view:ke,isType:function(B){if(B&&"select"==B.type)return B}},{id:"radio",model:qe,view:Ae,isType:function(B){if(B&&"radio"==B.type)return B}},{id:"slider",model:vt,view:je,isType:function(B){if(B&&"slider"==B.type)return B}},{id:"integer",model:Ve,view:_e,isType:function(B){if(B&&"integer"==B.type)return B}},{id:"base",model:j,view:re,isType:function(B){return B.type="base",B}}],deepClone:function(){var B=this.clone();return B.reset(B.map(function(F){var me=F.clone();return me.typeView=F.typeView,me})),B},parseValue:function(B){var F=this,me=[];return B.split(" ").forEach(function(le,Me){var Ze=F.at(Me);Ze&&me.push(te(te({},Ze.attributes),{value:le}))}),me},getFullValue:function(){var B="";return this.each(function(F){return B+="".concat(F.getFullValue()," ")}),B.trim()}})},function($e,oe){function i(Z,ne,Y,U,M,x,c){try{var h=Z[x](c),u=h.value}catch(p){return void Y(p)}h.done?ne(u):Promise.resolve(u).then(U,M)}$e.exports=function(Z){return function(){var ne=this,Y=arguments;return new Promise(function(U,M){var x=Z.apply(ne,Y);function c(u){i(x,U,M,c,h,"next",u)}function h(u){i(x,U,M,c,h,"throw",u)}c(void 0)})}},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(Z){"object"==typeof window&&(i=window)}$e.exports=i},function($e,oe,i){"use strict";i.r(oe);var Z=i(2),ne=i.n(Z).a.$;oe.default={startSelectPosition:function(Y,U){var M=this,x=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.isPointed=!1;var c=this.editorModel.get("Utils"),h=Y.ownerDocument.body;c&&!this.sorter&&(this.sorter=new c.Sorter({container:h,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:U,wmargin:1,nested:1,em:this.editorModel,canvasRelative:1,scale:function(){return M.em.getZoomDecimal()}})),x.onStart&&(this.sorter.onStart=x.onStart),Y&&this.sorter.startSort(Y,{container:h})},getOffsetDim:function(){var Y=this.offset(this.canvas.getFrameEl()),U=this.offset(this.canvas.getElement());return{top:Y.top-U.top,left:Y.left-U.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex="after"==this.posMethod&&0!==this.cDim.length?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=0!==this.cDim.length&&"after"==this.posMethod&&this.posIndex==this.cDim.length,this.posTargetEl=0===this.cDim.length?ne(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?ne(this.cDim[this.posIndex][5]).parent():ne(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(Y,U,M){var x=Y||0,h=M.length,u=0!==h&&"after"==(U||"before")&&x==h;return 0!==h&&(!u&&!M[x][4]||M[x-1]&&!M[x-1][4]||u&&!M[x-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},function($e,oe,i){"use strict";var Z=i(46),ne=i(1);Object(ne.hasWin)()&&(window.Promise=window.Promise||Z.a),oe.a="function"==typeof fetch?fetch.bind():function(Y,U){return new Z.a(function(M,x){var c=new XMLHttpRequest;for(var h in c.open(U.method||"get",Y),c.withCredentials="include"==U.credentials,U.headers||{})c.setRequestHeader(h,U.headers[h]);c.onload=function(u){return M({status:c.status,statusText:c.statusText,text:function(){return Z.a.resolve(c.responseText)}})},c.onerror=x,c.upload&&U.onProgress&&(c.upload.onprogress=U.onProgress),U.body?c.send(U.body):c.send()})}},function($e,oe,i){"use strict";var Z=i(0),ne=i(2),Y=i.n(ne),U=Y.a.Model,M=Y.a.View;oe.a={types:[],initialize:function(x,c){var h=this;this.model=function(){var p,f,P,w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(w&&w.type){var A=h.getBaseType();p=(P=h.getType(w.type))?P.model:A.model,f=P?P.view:A.view}else{var R=h.recognizeType(w);p=(P=R.type).model,f=P.view,w=R.attributes}var _=new p(w,b);return _.typeView=f,_};var u=this.init&&this.init.bind(this);u&&u()},recognizeType:function(x){for(var c=this.getTypes(),h=0;h<c.length;h++){var u=c[h],p=u.isType(x);if(p="boolean"==typeof p&&p?{type:u.id}:p)return{type:u,attributes:p}}return{type:this.getBaseType(),attributes:x}},getBaseType:function(){var x=this.getTypes();return x[x.length-1]},getTypes:function(){return this.types},getType:function(x){for(var c=this.getTypes(),h=0;h<c.length;h++){var u=c[h];if(u.id===x)return u}},addType:function(x,c){var h=this.getType(x),u=this.getBaseType(),p=h?h.model:u.model,f=h?h.view:u.view,P=c.model,w=c.view,b=c.isType;P=P instanceof U||Object(Z.isFunction)(P)?P:p.extend(P||{}),w=w instanceof M||Object(Z.isFunction)(w)?w:f.extend(w||{}),!this.extendViewApi||c.model||c.view||(w=w.extend(c)),h?(h.model=P,h.view=w,h.isType=b||h.isType):(c.id=x,c.model=P,c.view=w,c.isType=b||function(A){if(A&&A.type==x)return!0},this.getTypes().unshift(c))}}},function($e,oe,i){"use strict";var Z=i(2),ne=i.n(Z),Y=i(0),U=Number.MAX_VALUE;oe.a=ne.a.Model.extend({initialize:function(){Object(Y.bindAll)(this,"sortRules"),this.compCls=[],this.ids=[]},buildFromModel:function(M){var x=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h="",u=this.em,p=u&&u.getConfig("avoidInlineStyle"),f=M.styleToString(),P=M.get("classes"),w=c.wrapperIsBody,b=M.get("wrapper");if(this.ids.push("#".concat(M.getId())),P.each(function(_){return x.compCls.push(_.getFullName())}),!p&&f){var A="#".concat(M.getId());h="".concat(A=w&&b?"body":A,"{").concat(f,"}")}var R=M.components();return R.each(function(_){return h+=x.buildFromModel(_,c)}),h},build:function(M){var x=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},h=c.json,u=c.em||"",p=c.cssc||u&&u.get("CssComposer");this.em=u,this.compCls=[],this.ids=[],this.model=M;var f=[],P=M?this.buildFromModel(M,c):"",w=Object(Y.isUndefined)(c.clearStyles)&&u?u.getConfig("clearStyles"):c.clearStyles;if(p){var b=c.rules||p.getAll(),A={},R=[];b.forEach(function(_){var k=_.getAtRule();if(k){var T=A[k];T?T.push(_):A[k]=[_]}else{var C=x.buildFromRule(_,R,c);h?f.push(C):P+=C}}),this.sortMediaObject(A).forEach(function(_){var k="",T=_.key;_.value.forEach(function(C){var j=x.buildFromRule(C,R,c);C.get("singleAtRule")?P+="".concat(T,"{").concat(j,"}"):k+=j,h&&f.push(j)}),k&&(P+="".concat(T,"{").concat(k,"}"))}),u&&w&&b.remove&&b.remove(R)}return h?f.filter(function(_){return _}):P},buildFromRule:function(M,x){var c,h=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},p="",f=this.model,P=M.selectorsToString({skipAdd:1}),w=M.get("selectorsAdd"),b=M.get("singleAtRule");if(M.get("selectors").each(function(R){var _=R.getFullName();(h.compCls.indexOf(_)>=0||h.ids.indexOf(_)>=0||u.keepUnusedStyles)&&(c=1)}),P&&c||w||b||!f){var A=M.getDeclaration({body:1});A&&(u.json?p=M:p+=A)}else x.push(M);return p},getQueryLength:function(M){var x=/(-?\d*\.?\d+)\w{0,}/.exec(M);return x?parseFloat(x[1]):U},sortMediaObject:function(){var M=this,x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=[];return Object(Y.each)(x,function(h,u){return c.push({key:u,value:h})}),c.sort(function(h,u){var p=[h.key,u.key].every(function(w){return-1!==w.indexOf("min-width")}),P=p?u.key:h.key;return M.getQueryLength(p?h.key:u.key)-M.getQueryLength(P)})},sortRules:function(M,x){var c=function(f){return f.get("mediaText")},h=[c(M),c(x)].every(function(f){return-1!==f.indexOf("min-width")}),u=c(h?M:x),p=c(h?x:M);return this.getQueryLength(u)-this.getQueryLength(p)}})},function($e,oe,i){"use strict";var Z=i(2),Y=(i.n(Z),i(0)),U=i(1),M=i(25);oe.a=M.a.extend({events:{"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"},template:function(){var x=this.ppfx;return'\n      <span class="'.concat(x,'input-holder"></span>\n      <span class="').concat(x,'field-units"></span>\n      <div class="').concat(x,'field-arrows" data-arrows>\n        <div class="').concat(x,'field-arrow-u" data-arrow-up></div>\n        <div class="').concat(x,'field-arrow-d" data-arrow-down></div>\n      </div>\n    ')},inputClass:function(){var x=this.ppfx;return this.opts.contClass||"".concat(x,"field ").concat(x,"field-integer")},initialize:function(){M.a.prototype.initialize.apply(this,arguments),Object(Y.bindAll)(this,"moveIncrement","upIncrement"),this.doc=document,this.listenTo(this.model,"change:unit",this.handleModelChange)},setValue:function(x,c){var h=c||{},u=this.validateInputValue(x,{deepCheck:1}),p={value:u.value};(u.unit||u.force)&&(p.unit=u.unit),this.model.set(p,h),h.silent&&this.handleModelChange()},handleChange:function(x){x.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},handleUnitChange:function(x){x.stopPropagation();var c=this.getUnitEl().value;this.model.set("unit",c),this.elementUpdated()},handleKeyDown:function(x){"ArrowUp"===x.key&&(x.preventDefault(),this.upArrowClick()),"ArrowDown"===x.key&&(x.preventDefault(),this.downArrowClick())},elementUpdated:function(){this.model.trigger("el:change")},handleModelChange:function(){var x=this.model;this.getInputEl().value=x.get("value");var c=this.getUnitEl();c&&(c.value=x.get("unit")||"")},getUnitEl:function(){if(!this.unitEl){var x=this.model,c=x.get("units")||[];if(c.length){var h=[];c.forEach(function(p){var f=p==x.get("unit")?"selected":"";h.push("<option ".concat(f,">").concat(p,"</option>"))});var u=document.createElement("div");u.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(h.join(""),"</select>"),this.unitEl=u.firstChild}}return this.unitEl},upArrowClick:function(){var x=this.model,c=x.get("step"),h=parseFloat(x.get("value"));h=this.normalizeValue(h+c);var u=this.validateInputValue(h);x.set("value",u.value),this.elementUpdated()},downArrowClick:function(){var x=this.model,c=x.get("step"),h=parseFloat(x.get("value")),u=this.normalizeValue(h-c),p=this.validateInputValue(u);x.set("value",p.value),this.elementUpdated()},downIncrement:function(x){x.preventDefault(),this.moved=0;var c=this.model.get("value");c=this.normalizeValue(c),this.current={y:x.pageY,val:c},Object(U.on)(this.doc,"mousemove",this.moveIncrement),Object(U.on)(this.doc,"mouseup",this.upIncrement)},moveIncrement:function(x){this.moved=1;var c=this.model,h=c.get("step"),u=this.current,p=this.normalizeValue(u.val+(u.y-x.pageY)*h);return this.prValue=this.validateInputValue(p).value,c.set("value",this.prValue,{avoidStore:1}),!1},upIncrement:function(){var x=this.model,c=x.get("step");if(Object(U.off)(this.doc,"mouseup",this.upIncrement),Object(U.off)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var h=this.prValue-c;x.set("value",h,{avoidStore:1}).set("value",h+c),this.elementUpdated()}},normalizeValue:function(x){var c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=this.model,u=h.get("step"),p=0;if(isNaN(x))return c;if(x=parseFloat(x),Math.floor(x)!==x){var f=u.toString().split(".")[1];p=f?f.length:0}return p?parseFloat(x.toFixed(p)):x},validateInputValue:function(x,c){var h=0,u=c||{},p=this.model,P=Object(Y.isUndefined)(x)?"":x,w=p.get("units")||[],b=p.get("unit")||w.length&&w[0]||"",A=p.get("max"),R=p.get("min"),_=!!p.get("limitlessMax"),k=!!p.get("limitlessMin");if(u.deepCheck){var T=p.get("fixedValues")||[];if(P){var C=new RegExp("^"+T.join("|"),"g");if(T.length&&C.test(P))P=P.match(C)[0],b="",h=1;else{var j=P+"";P+="",P=parseFloat(P.replace(",",".")),P=isNaN(P)?"":P;var N=j.replace(P,"");Object(Y.indexOf)(w,N)>=0&&(b=N)}}}return _||Object(Y.isUndefined)(A)||""===A||(P=P>A?A:P),k||Object(Y.isUndefined)(R)||""===R||(P=P<R?R:P),{force:h,value:P,unit:b}},render:function(){M.a.prototype.render.call(this),this.unitEl=null;var x=this.getUnitEl();return x&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(x),this}})},function($e,oe,i){var Z=i(94),ne=i(95),Y=i(50),U=i(96);$e.exports=function(M,x){return Z(M)||ne(M,x)||Y(M,x)||U()},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe,i){"use strict";var Z=i(2),ne=i.n(Z),Y=i(0);oe.a=ne.a.View.extend({initialize:function(U){this.opts=U||{},this.config=U.config||{},this.em=this.config.em;var M=this.collection;this.listenTo(M,"add",this.addTo),this.listenTo(M,"reset",this.resetChildren),this.listenTo(M,"remove",this.removeChildren)},removeChildren:function(U,M){var x=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};U.views.forEach(function(u){if(u){var p=u.childrenView,f=u.scriptContainer;p&&p.stopListening(),f&&f.remove(),u.remove.apply(u)}});var h=U.components();h.forEach(function(u){return x.removeChildren(u,M,c)})},addTo:function(U){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},x=this.config.em,c=this.collection.indexOf(U);if(this.addToCollection(U,null,c),x&&!M.temporary){var h=function u(p){x.trigger("component:add",p),p.components().forEach(function(f){return u(f)})};h(U)}},addToCollection:function(U,M,x){this.compView||(this.compView=i(12).default);for(var c=this.config,h=this.opts,u=this.em,p=M||null,f=c.frameView,P=void 0===f?{}:f,w=P.model&&U.getView(P.model),b=h.componentTypes||u&&u.get("DomComponents").getTypes(),A=U.get("type")||"default",R=this.compView,_=0;_<b.length;_++)if(b[_].id==A){R=b[_].view;break}var k,T=w||new R({model:U,config:c,componentTypes:b});try{k=T.render().el}catch(H){k=document.createTextNode(""),u.logError(H)}if(p)p.appendChild(k);else{var C=this.parentEl,j=C.childNodes;if(Object(Y.isUndefined)(x))C.appendChild(k);else{var N=j.length==x;N&&x--,N||!j.length?C.appendChild(k):C.insertBefore(k,j[x])}}return k},resetChildren:function(U){var M=this,x=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=x.previousModels,h=void 0===c?[]:c;this.parentEl.innerHTML="",h.forEach(function(u){return M.removeChildren(u,M.collection)}),U.each(function(u){return M.addToCollection(u)})},render:function(U){var M=this,x=this.el,c=document.createDocumentFragment();return this.parentEl=U||this.el,this.collection.each(function(h){return M.addToCollection(h,c)}),x.innerHTML="",x.appendChild(c),this}})},function($e,oe,i){"use strict";var Z=i(2),ne=i.n(Z),Y=ne.a.View.extend({tagName:"style",initialize:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=c.config||{};var h=this.model;this.listenTo(h,"change",this.render),this.listenTo(h,"destroy remove",this.remove),this.listenTo(h.get("selectors"),"change",this.render)},render:function(){var c=this.model,h=this.el,u=c.get("important");return h.innerHTML=c.toCSS({important:u}),this}}),U=Y.extend({_createElement:function(c){return document.createTextNode("")},render:function(){var c=this.model,h=c.get("important");return this.el.textContent=c.getDeclaration({important:h}),this}}),M=ne.a.$,x=function(c,h){return"".concat(c).concat(h?"-".concat(parseFloat(h)):"")};oe.a=ne.a.View.extend({initialize:function(c){var h=c.config||{};this.atRules={},this.config=h,this.em=h.em,this.pfx=h.stylePrefix||"",this.className=this.pfx+"rules";var u=this.collection;this.listenTo(u,"add",this.addTo),this.listenTo(u,"reset",this.render)},addTo:function(c){this.addToCollection(c)},addToCollection:function(c,h){if(this.renderStarted){var u,p,f=h||null,P={model:c,config:this.config};if("keyframes"===c.get("atRuleType")){var w=c.getAtRule(),b=this.atRules[w];if(!b){var A=document.createElement("style");b=document.createTextNode(""),A.appendChild(document.createTextNode("".concat(w,"{"))),A.appendChild(b),A.appendChild(document.createTextNode("}")),this.atRules[w]=b,u=A}p=new U(P),b.appendData(p.render().el.textContent)}else u=(p=new Y(P)).render().el;var R=this.className,_=c.get("mediaText"),k=x(R),T=k;if(_&&(T=x(R,this.getMediaWidth(_))),u){var C,j=f||this.el;try{C=j.querySelector("#".concat(T))}catch(N){}C||(C=j.querySelector("#".concat(k))),C.appendChild(u)}return u}},getMediaWidth:function(c){return c&&c.replace("(".concat(this.em.getConfig("mediaCondition"),": "),"").replace(")","")},render:function(){var c=this;this.renderStarted=1,this.atRules={};var h=this.em,u=this.$el,p=this.className,f=this.collection,P=document.createDocumentFragment();u.empty();var w=h.get("DeviceManager").getAll().pluck("priority");return w.every(function(b){return b})&&w.unshift(0),w.forEach(function(b){return M('<div id="'.concat(x(p,b),'"></div>')).appendTo(P)}),f.each(function(b){return c.addToCollection(b,P)}),u.append(P),u.attr("class",p),this}})},function($e,oe,i){"use strict";var Z=i(3),ne=i.n(Z),Y=i(14),U=i.n(Y),M=i(0),x="text/html",c=x,h=function(f){var P,w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=new DOMParser,A=w.htmlType||c,R=A===x,_=R?f:"<div>".concat(f,"</div>"),k=b.parseFromString(_,A);if(R){var T=k.head,C=k.body,j=T.querySelectorAll("script");Object(M.each)(j,function(H){return C.appendChild(H)});var N=[];Object(M.each)(T.children,function(H){return N.push(H)}),Object(M.each)(N,function(H,v){return C.insertBefore(H,C.children[v])}),P=C}else P=k.firstChild;return P};function u(f,P){var w=Object.keys(f);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(f);P&&(b=b.filter(function(A){return Object.getOwnPropertyDescriptor(f,A).enumerable})),w.push.apply(w,b)}return w}function p(f){for(var P=1;P<arguments.length;P++){var w=null!=arguments[P]?arguments[P]:{};P%2?u(Object(w),!0).forEach(function(b){ne()(f,b,w[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(f,Object.getOwnPropertyDescriptors(w)):u(Object(w)).forEach(function(b){Object.defineProperty(f,b,Object.getOwnPropertyDescriptor(w,b))})}return f}oe.a=function(f){var P=f,w="data-gjs-",b="parse:html";return{compTypes:"",modelAttrStart:w,splitPropsFromAttr:function(){var A=this,R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},_={},k={};return Object(M.each)(R,function(T,C){if(0===C.indexOf(A.modelAttrStart)){var j=C.replace(w,""),N=T.length,H=T&&Object(M.isString)(T),v=H&&T.substr(0,1),d=H&&T.substr(N-1);T="false"!==(T="true"===T||T)&&T;try{T="{"==v&&"}"==d||"["==v&&"]"==d?JSON.parse(T):T}catch(l){}_[j]=T}else k[C]=T}),{props:_,attrs:k}},parseStyle:function(A){for(var R={},_=A.split(";"),k=0,T=_.length;k<T;k++){var C=_[k].trim();if(C){var j=C.split(":");R[j[0].trim()]=j.slice(1).join(":").trim()}}return R},parseClass:function(A){for(var R=[],_=A.split(" "),k=0,T=_.length;k<T;k++){var C=_[k].trim();C&&R.push(C)}return R},parseNode:function(A){for(var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_=[],k=A.childNodes,T=0,C=k.length;T<C;T++){var j=k[T],N=j.attributes||[],H=N.length,v=_[_.length-1],d=j.childNodes.length,l=this.compTypes,y={};if(l){var g="",L=j.getAttribute&&j.getAttribute("".concat(w,"type"));if(L)y={type:L};else{for(var K=0;K<l.length;K++){var ee=l[K];if(g=ee.model.isComponent(j,R)){"object"!==U()(g)&&(g={type:ee.id});break}}y=g}}y.tagName||(y.tagName=j.tagName?j.tagName.toLowerCase():""),H&&(y.attributes={});for(var De=0;De<H;De++){var fe=N[De].nodeName,ce=N[De].nodeValue;if("style"==fe)y.style=this.parseStyle(ce);else if("class"==fe)y.classes=this.parseClass(ce);else{if("contenteditable"==fe)continue;if(0===fe.indexOf(w)){var Ce=fe.replace(w,""),Se=ce.length,se=ce&&ce.substr(0,1),ue=ce&&ce.substr(Se-1);ce="false"!==(ce="true"===ce||ce)&&ce;try{ce="{"==se&&"}"==ue||"["==se&&"]"==ue?JSON.parse(ce):ce}catch(n){}y[Ce]=ce}else""===ce&&!0===j[fe]&&(ce=!0),y.attributes[fe]=ce}}if(d&&!y.components){var xe=j.childNodes[0];1===d&&3===xe.nodeType?(!y.type&&(y.type="text"),y.components={type:"textnode",content:xe.nodeValue}):y.components=this.parseNode(j,p(p({},R),{},{inSvg:R.inSvg||"svg"===y.type}))}if("textnode"==y.type){if(v&&"textnode"==v.type){v.content+=y.content;continue}if(!f.keepEmptyTextNodes){var re=j.nodeValue;if(" "!=re&&!re.trim())continue}}d||"/>"!=="".concat(j.outerHTML).slice(-2)||(y.void=!0);var J=y.components;if(!y.type&&J){for(var $=1,V=0,S=0;S<J.length;S++){var O=J[S],z=O.type;if(["text","textnode"].indexOf(z)<0&&P.textTags.indexOf(O.tagName)<0){$=0;break}"textnode"==z&&(V=1)}$&&V&&(y.type="text")}(y.tagName||"textnode"==y.type)&&_.push(y)}return _},parse:function(A,R){var _=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},k=P.em,T=k&&k.get("Config")||{},C={html:null,css:null},j=p(p({},f),_),N=Object(M.isFunction)(j.parserHtml)?j.parserHtml(A,j):h(A,j),H=N.querySelectorAll("script"),v=H.length;if(!T.allowScripts)for(;v--;)H[v].parentNode.removeChild(H[v]);if(R){for(var d=N.querySelectorAll("style"),l=d.length,y="";l--;)y=d[l].innerHTML+y,d[l].parentNode.removeChild(d[l]);y&&(C.css=R.parse(y))}k&&k.trigger("".concat(b,":root"),{input:A,root:N});var g=this.parseNode(N),L=1!==g.length||P.returnArray?g:g[0];return C.html=L,k&&k.trigger(b,{input:A,output:C}),C}}}},function($e,oe,i){"use strict";var Z=i(3),ne=i.n(Z),Y=i(2),U=i.n(Y),M=i(0),x=i(14),c=i.n(x),h=i(1),u=i(25);function p(b,A){var R=Object.keys(b);if(Object.getOwnPropertySymbols){var _=Object.getOwnPropertySymbols(b);A&&(_=_.filter(function(k){return Object.getOwnPropertyDescriptor(b,k).enumerable})),R.push.apply(R,_)}return R}function f(b){for(var A=1;A<arguments.length;A++){var R=null!=arguments[A]?arguments[A]:{};A%2?p(Object(R),!0).forEach(function(_){ne()(b,_,R[_])}):Object.getOwnPropertyDescriptors?Object.defineProperties(b,Object.getOwnPropertyDescriptors(R)):p(Object(R)).forEach(function(_){Object.defineProperty(b,_,Object.getOwnPropertyDescriptor(R,_))})}return b}var P=U.a.$;P&&function(b,A){if(Object(h.hasWin)()){var R={beforeShow:re,move:re,change:re,show:re,hide:re,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},_=[],k=!!/msie/i.exec(window.navigator.userAgent),T=function(){function X(Ae,Ne){return!!~(""+Ae).indexOf(Ne)}var ke=document.createElement("div").style;return ke.cssText="background-color:rgba(0,0,0,.5)",X(ke.backgroundColor,"rgba")||X(ke.backgroundColor,"hsla")}(),C=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),j=function(){var X="";if(k)for(var ke=1;ke<=6;ke++)X+="<div class='sp-"+ke+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",X,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),N="spectrum.id";b.fn.spectrum=function(X,ke){if("string"==typeof X){var Ae=this,Ne=Array.prototype.slice.call(arguments,1);return this.each(function(){var he=_[b(this).data(N)];if(he){var Be=he[X];if(!Be)throw new Error("Spectrum: no such method: '"+X+"'");"get"==X?Ae=he.get():"container"==X?Ae=he.container:"option"==X?Ae=he.option.apply(he,Ne):"destroy"==X?(he.destroy(),b(this).removeData(N)):Be.apply(he,Ne)}}),Ae}return this.spectrum("destroy").each(function(){var he=xe(this,b.extend({},X,b(this).data()));b(this).data(N,he.id)})},b.fn.spectrum.load=!0,b.fn.spectrum.loadOpts={},b.fn.spectrum.draggable=V,b.fn.spectrum.defaults=R,b.fn.spectrum.inputTypeColorSupport=function X(){if(void 0===X._cachedResult){var ke=b("<input type='color'/>")[0];X._cachedResult="color"===ke.type&&""!==ke.value}return X._cachedResult},b.spectrum={},b.spectrum.localization={},b.spectrum.palettes={},b.fn.spectrum.processNativeColorInputs=function(){var X=b("input[type=color]");X.length&&!S()&&X.spectrum({preferredFormat:"hex6"})};var H=/^[\s,#]+/,v=/\s+$/,d=0,l=Math,y=l.round,g=l.min,L=l.max,K=l.random,ee=function X(ke,Ae){if(Ae=Ae||{},(ke=ke||"")instanceof X)return ke;if(!(this instanceof X))return new X(ke,Ae);var he,Xe,ft,Be,Ve,tt,dt,Ne=(Be={r:0,g:0,b:0},Ve=1,tt=!1,dt=!1,"string"==typeof(he=ke)&&(he=function(je){je=je.replace(H,"").replace(v,"").toLowerCase();var st,Ge,te=!1;if(Ce[je])je=Ce[je],te=!0;else if("transparent"==je)return{r:0,g:0,b:0,a:0,format:"name"};return(st=se.rgb.exec(je))?{r:st[1],g:st[2],b:st[3]}:(st=se.rgba.exec(je))?{r:st[1],g:st[2],b:st[3],a:st[4]}:(st=se.hsl.exec(je))?{h:st[1],s:st[2],l:st[3]}:(st=se.hsla.exec(je))?{h:st[1],s:st[2],l:st[3],a:st[4]}:(st=se.hsv.exec(je))?{h:st[1],s:st[2],v:st[3]}:(st=se.hsva.exec(je))?{h:st[1],s:st[2],v:st[3],a:st[4]}:(st=se.hex8.exec(je))?{a:(Ge=st[1],qe(Ge)/255),r:qe(st[2]),g:qe(st[3]),b:qe(st[4]),format:te?"name":"hex8"}:(st=se.hex6.exec(je))?{r:qe(st[1]),g:qe(st[2]),b:qe(st[3]),format:te?"name":"hex"}:!!(st=se.hex3.exec(je))&&{r:qe(st[1]+""+st[1]),g:qe(st[2]+""+st[2]),b:qe(st[3]+""+st[3]),format:te?"name":"hex"}}(he)),"object"==c()(he)&&(he.hasOwnProperty("r")&&he.hasOwnProperty("g")&&he.hasOwnProperty("b")?(Xe=he.g,ft=he.b,Be={r:255*Oe(he.r,255),g:255*Oe(Xe,255),b:255*Oe(ft,255)},tt=!0,dt="%"===String(he.r).substr(-1)?"prgb":"rgb"):he.hasOwnProperty("h")&&he.hasOwnProperty("s")&&he.hasOwnProperty("v")?(he.s=ot(he.s),he.v=ot(he.v),Be=function(je,st,te){je=6*Oe(je,360),st=Oe(st,100),te=Oe(te,100);var Ge=l.floor(je),B=je-Ge,F=te*(1-st),me=te*(1-B*st),le=te*(1-(1-B)*st),Me=Ge%6;return{r:255*[te,me,F,F,le,te][Me],g:255*[le,te,te,me,F,F][Me],b:255*[F,F,le,te,te,me][Me]}}(he.h,he.s,he.v),tt=!0,dt="hsv"):he.hasOwnProperty("h")&&he.hasOwnProperty("s")&&he.hasOwnProperty("l")&&(he.s=ot(he.s),he.l=ot(he.l),Be=function(je,st,te){var Ge,B,F;function me(Ze,ct,et){return et<0&&(et+=1),et>1&&(et-=1),et<1/6?Ze+6*(ct-Ze)*et:et<.5?ct:et<2/3?Ze+(ct-Ze)*(2/3-et)*6:Ze}if(je=Oe(je,360),st=Oe(st,100),te=Oe(te,100),0===st)Ge=B=F=te;else{var le=te<.5?te*(1+st):te+st-te*st,Me=2*te-le;Ge=me(Me,le,je+1/3),B=me(Me,le,je),F=me(Me,le,je-1/3)}return{r:255*Ge,g:255*B,b:255*F}}(he.h,he.s,he.l),tt=!0,dt="hsl"),he.hasOwnProperty("a")&&(Ve=he.a)),Ve=ae(Ve),{ok:tt,format:he.format||dt,r:g(255,L(Be.r,0)),g:g(255,L(Be.g,0)),b:g(255,L(Be.b,0)),a:Ve});this._originalInput=ke,this._r=Ne.r,this._g=Ne.g,this._b=Ne.b,this._a=Ne.a,this._roundA=y(100*this._a)/100,this._format=Ae.format||Ne.format,this._gradientType=Ae.gradientType,this._r<1&&(this._r=y(this._r)),this._g<1&&(this._g=y(this._g)),this._b<1&&(this._b=y(this._b)),this._ok=Ne.ok,this._tc_id=d++};ee.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var X=this.toRgb();return(299*X.r+587*X.g+114*X.b)/1e3},setAlpha:function(X){return this._a=ae(X),this._roundA=y(100*this._a)/100,this},toHsv:function(){var X=z(this._r,this._g,this._b);return{h:360*X.h,s:X.s,v:X.v,a:this._a}},toHsvString:function(){var X=z(this._r,this._g,this._b),ke=y(360*X.h),Ae=y(100*X.s),Ne=y(100*X.v);return 1==this._a?"hsv("+ke+", "+Ae+"%, "+Ne+"%)":"hsva("+ke+", "+Ae+"%, "+Ne+"%, "+this._roundA+")"},toHsl:function(){var X=O(this._r,this._g,this._b);return{h:360*X.h,s:X.s,l:X.l,a:this._a}},toHslString:function(){var X=O(this._r,this._g,this._b),ke=y(360*X.h),Ae=y(100*X.s),Ne=y(100*X.l);return 1==this._a?"hsl("+ke+", "+Ae+"%, "+Ne+"%)":"hsla("+ke+", "+Ae+"%, "+Ne+"%, "+this._roundA+")"},toHex:function(X){return n(this._r,this._g,this._b,X)},toHexString:function(X){return"#"+this.toHex(X)},toHex8:function(){return m(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:y(this._r),g:y(this._g),b:y(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+y(this._r)+", "+y(this._g)+", "+y(this._b)+")":"rgba("+y(this._r)+", "+y(this._g)+", "+y(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:y(100*Oe(this._r,255))+"%",g:y(100*Oe(this._g,255))+"%",b:y(100*Oe(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+y(100*Oe(this._r,255))+"%, "+y(100*Oe(this._g,255))+"%, "+y(100*Oe(this._b,255))+"%)":"rgba("+y(100*Oe(this._r,255))+"%, "+y(100*Oe(this._g,255))+"%, "+y(100*Oe(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(Se[n(this._r,this._g,this._b,!0)]||!1)},toFilter:function(X){var ke="#"+m(this._r,this._g,this._b,this._a),Ae=ke,Ne=this._gradientType?"GradientType = 1, ":"";return X&&(Ae=ee(X).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+Ne+"startColorstr="+ke+",endColorstr="+Ae+")"},toString:function(X){var ke=!!X;X=X||this._format;var Ae=!1;return ke||!(this._a<1&&this._a>=0)||"hex"!==X&&"hex6"!==X&&"hex3"!==X&&"name"!==X?("rgb"===X&&(Ae=this.toRgbString()),"prgb"===X&&(Ae=this.toPercentageRgbString()),"hex"!==X&&"hex6"!==X||(Ae=this.toHexString()),"hex3"===X&&(Ae=this.toHexString(!0)),"hex8"===X&&(Ae=this.toHex8String()),"name"===X&&(Ae=this.toName()),"hsl"===X&&(Ae=this.toHslString()),"hsv"===X&&(Ae=this.toHsvString()),Ae||this.toHexString()):"name"===X&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(X,ke){var Ae=X.apply(null,[this].concat([].slice.call(ke)));return this._r=Ae._r,this._g=Ae._g,this._b=Ae._b,this.setAlpha(Ae._a),this},lighten:function(){return this._applyModification(pe,arguments)},brighten:function(){return this._applyModification(Ee,arguments)},darken:function(){return this._applyModification(be,arguments)},desaturate:function(){return this._applyModification(s,arguments)},saturate:function(){return this._applyModification(E,arguments)},greyscale:function(){return this._applyModification(W,arguments)},spin:function(){return this._applyModification(de,arguments)},_applyCombination:function(X,ke){return X.apply(null,[this].concat([].slice.call(ke)))},analogous:function(){return this._applyCombination(rt,arguments)},complement:function(){return this._applyCombination(_e,arguments)},monochromatic:function(){return this._applyCombination(G,arguments)},splitcomplement:function(){return this._applyCombination(ut,arguments)},triad:function(){return this._applyCombination(Pe,arguments)},tetrad:function(){return this._applyCombination(He,arguments)}},ee.fromRatio=function(X,ke){if("object"==c()(X)){var Ae={};for(var Ne in X)X.hasOwnProperty(Ne)&&(Ae[Ne]="a"===Ne?X[Ne]:ot(X[Ne]));X=Ae}return ee(X,ke)},ee.equals=function(X,ke){return!(!X||!ke)&&ee(X).toRgbString()==ee(ke).toRgbString()},ee.random=function(){return ee.fromRatio({r:K(),g:K(),b:K()})},ee.mix=function(X,ke,Ae){Ae=0===Ae?0:Ae||50;var Ne,he=ee(X).toRgb(),Be=ee(ke).toRgb(),Ve=Ae/100,tt=2*Ve-1,dt=Be.a-he.a,vt=1-(Ne=((Ne=tt*dt==-1?tt:(tt+dt)/(1+tt*dt))+1)/2);return ee({r:Be.r*Ne+he.r*vt,g:Be.g*Ne+he.g*vt,b:Be.b*Ne+he.b*vt,a:Be.a*Ve+he.a*(1-Ve)})},ee.readability=function(X,ke){var Ae=ee(X),Ne=ee(ke),he=Ae.toRgb(),Be=Ne.toRgb(),Ve=Ae.getBrightness(),tt=Ne.getBrightness(),dt=Math.max(he.r,Be.r)-Math.min(he.r,Be.r)+Math.max(he.g,Be.g)-Math.min(he.g,Be.g)+Math.max(he.b,Be.b)-Math.min(he.b,Be.b);return{brightness:Math.abs(Ve-tt),color:dt}},ee.isReadable=function(X,ke){var Ae=ee.readability(X,ke);return Ae.brightness>125&&Ae.color>500},ee.mostReadable=function(X,ke){for(var Ae=null,Ne=0,he=!1,Be=0;Be<ke.length;Be++){var Ve=ee.readability(X,ke[Be]),tt=Ve.brightness>125&&Ve.color>500,dt=Ve.brightness/125*3+Ve.color/500;(tt&&!he||tt&&he&&dt>Ne||!tt&&!he&&dt>Ne)&&(he=tt,Ne=dt,Ae=ee(ke[Be]))}return Ae};var De,fe,ce,Ce=ee.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Se=ee.hexNames=function(X){var ke={};for(var Ae in X)X.hasOwnProperty(Ae)&&(ke[X[Ae]]=Ae);return ke}(Ce),se=(fe="[\\s|\\(]+("+(De="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+De+")[,|\\s]+("+De+")\\s*\\)?",ce="[\\s|\\(]+("+De+")[,|\\s]+("+De+")[,|\\s]+("+De+")[,|\\s]+("+De+")\\s*\\)?",{rgb:new RegExp("rgb"+fe),rgba:new RegExp("rgba"+ce),hsl:new RegExp("hsl"+fe),hsla:new RegExp("hsla"+ce),hsv:new RegExp("hsv"+fe),hsva:new RegExp("hsva"+ce),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=ee,b(function(){b.fn.spectrum.load&&b.fn.spectrum.processNativeColorInputs()})}function ue(X,ke,Ae,Ne){for(var he=[],Be=0;Be<X.length;Be++){var Ve=X[Be];if(Ve){var tt=ee(Ve),dt=tt.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";dt+=ee.equals(ke,Ve)?" sp-thumb-active":"";var vt=tt.toString(Ne.preferredFormat||"rgb"),Xe=T?"background-color:"+tt.toRgbString():"filter:"+tt.toFilter();he.push('<span title="'+vt+'" data-color="'+tt.toRgbString()+'" class="'+dt+'"><span class="sp-thumb-inner" style="'+Xe+';"></span></span>')}else he.push(b("<div />").append(b('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",Ne.noColorSelectedText)).html())}return"<div class='sp-cf "+Ae+"'>"+he.join("")+"</div>"}function xe(X,ke){var Ae,Be,Rt,zt,Ve=(Rt=X,(zt=b.extend({},R,ke)).callbacks={move:$(zt.move,Rt),change:$(zt.change,Rt),show:$(zt.show,Rt),hide:$(zt.hide,Rt),beforeShow:$(zt.beforeShow,Rt)},zt),tt=Ve.flat,dt=Ve.showSelectionPalette,vt=Ve.localStorageKey,Xe=Ve.theme,ft=Ve.callbacks,je=(Ae=An,function(){var Lt=this,Rt=arguments,zt=function(){Be=null,Ae.apply(Lt,Rt)};Be||(Be=setTimeout(zt,10))}),st=!1,te=!1,Ge=!0,B=0,F=0,me=0,le=0,Me=0,Ze=0,ct=0,et=0,kt=0,At=0,St=1,Dt=[],Mt=[],Gt={},Xt=Ve.selectionPalette.slice(0),ln=Ve.maxSelectionSize,Qt="sp-dragging",It=null,Tt=X.ownerDocument,Ut=b(X),Kt=!1,Et=b(j,Tt).addClass(Xe),qt=Et.find(".sp-picker-container"),On=Et.find(".sp-color"),mn=Et.find(".sp-dragger"),I=Et.find(".sp-hue"),q=Et.find(".sp-slider"),ge=Et.find(".sp-alpha-inner"),Te=Et.find(".sp-alpha"),at=Et.find(".sp-alpha-handle"),yt=Et.find(".sp-input"),bt=Et.find(".sp-palette"),mt=Et.find(".sp-initial"),wt=Et.find(".sp-cancel"),Ht=Et.find(".sp-clear"),tn=Et.find(".sp-choose"),cn=Et.find(".sp-palette-toggle"),kn=Ut.is("input"),Vn=kn&&"color"===Ut.attr("type")&&S(),sr=kn&&!tt,Yn=sr?b(C).addClass(Xe).addClass(Ve.className).addClass(Ve.replacerClassName):b([]),lr=sr?Yn:Ut,Un=Yn.find(".sp-preview-inner"),er=Ve.color||kn&&Ut.val(),tr=!1,Pn=Ve.preferredFormat,Sr=!Ve.showButtons||Ve.clickoutFiresChange,Hn=!er,yn=Ve.allowEmpty&&!Vn;function Kn(){if(Ve.showPaletteOnly&&(Ve.showPalette=!0),cn.text(Ve.showPaletteOnly?Ve.togglePaletteMoreText:Ve.togglePaletteLessText),Ve.palette){Dt=Ve.palette.slice(0),Mt=b.isArray(Dt[0])?Dt:[Dt],Gt={};for(var Lt=0;Lt<Mt.length;Lt++)for(var Rt=0;Rt<Mt[Lt].length;Rt++){var zt=ee(Mt[Lt][Rt]).toRgbString();Gt[zt]=!0}}Et.toggleClass("sp-flat",tt),Et.toggleClass("sp-input-disabled",!Ve.showInput),Et.toggleClass("sp-alpha-enabled",Ve.showAlpha),Et.toggleClass("sp-clear-enabled",yn),Et.toggleClass("sp-buttons-disabled",!Ve.showButtons),Et.toggleClass("sp-palette-buttons-disabled",!Ve.togglePaletteOnly),Et.toggleClass("sp-palette-disabled",!Ve.showPalette),Et.toggleClass("sp-palette-only",Ve.showPaletteOnly),Et.toggleClass("sp-initial-disabled",!Ve.showInitial),Et.addClass(Ve.className).addClass(Ve.containerClassName),An()}function Cn(){if(vt&&window.localStorage){try{var Lt=window.localStorage[vt].split(",#");Lt.length>1&&(delete window.localStorage[vt],b.each(Lt,function(Rt,zt){Nn(zt)}))}catch(Rt){}try{Xt=window.localStorage[vt].split(";")}catch(Rt){}}}function Nn(Lt){if(dt){var Rt=ee(Lt).toRgbString();if(!Gt[Rt]&&-1===b.inArray(Rt,Xt))for(Xt.push(Rt);Xt.length>ln;)Xt.shift();if(vt&&window.localStorage)try{window.localStorage[vt]=Xt.join(";")}catch(zt){}}}function _r(){var Lt=gn(),Rt=b.map(Mt,function(zt,Ft){return ue(zt,Lt,"sp-palette-row sp-palette-row-"+Ft,Ve)});Cn(),Xt&&Rt.push(ue(function(){var zt=[];if(Ve.showPalette)for(var Ft=0;Ft<Xt.length;Ft++){var _n=ee(Xt[Ft]).toRgbString();Gt[_n]||zt.push(Xt[Ft])}return zt.reverse().slice(0,Ve.maxSelectionSize)}(),Lt,"sp-palette-row sp-palette-row-selection",Ve)),bt.html(Rt.join(""))}function cr(){if(Ve.showInitial){var Lt=tr,Rt=gn();mt.html(ue([Lt,Rt],Rt,"sp-palette-row-initial",Ve))}}function br(){(F<=0||B<=0||le<=0)&&An(),te=!0,Et.addClass(Qt),It=null,Ut.trigger("dragstart.spectrum",[gn()])}function Wn(){te=!1,Et.removeClass(Qt),Ut.trigger("dragstop.spectrum",[gn()])}function ur(){var Lt=yt.val();if(null!==Lt&&""!==Lt||!yn){var Rt=ee(Lt);Rt.isValid()?(fr(Rt),Xn(!0)):yt.addClass("sp-validation-error")}else fr(null),Xn(!0)}function Zn(){st?Fn():nr()}function nr(){var Lt=b.Event("beforeShow.spectrum");if(st)An();else if(Ut.trigger("beforeShow.spectrum",[gn()]),!1!==ft.beforeShow(gn())&&!Lt.isDefaultPrevented()){(function(){for(var zt=0;zt<_.length;zt++)_[zt]&&_[zt].hide()})(),st=!0;var Rt=b(Tt);Rt.bind("keydown.spectrum",En),Rt.bind("click.spectrum",Ir),b(window).bind("resize.spectrum",je),Yn.addClass("sp-active"),Et.removeClass("sp-hidden"),An(),Cr(),tr=gn(),cr(),ft.show(tr),Ut.trigger("show.spectrum",[tr])}}function En(Lt){27===Lt.keyCode&&Fn()}function Ir(Lt){2!=Lt.button&&(te||(Sr?Xn(!0):$r(),Fn()))}function Fn(){st&&!tt&&(st=!1,b(Tt).unbind("keydown.spectrum",En),b(Tt).unbind("click.spectrum",Ir),b(window).unbind("resize.spectrum",je),Yn.removeClass("sp-active"),Et.addClass("sp-hidden"),ft.hide(gn()),Ut.trigger("hide.spectrum",[gn()]))}function $r(){fr(tr,!0)}function fr(Lt,Rt){var zt,Ft;ee.equals(Lt,gn())?Cr():(!Lt&&yn?Hn=!0:(Hn=!1,Ge=!Lt,Ft=(zt=ee(Lt)).toHsv(),et=Ft.h%360/360,kt=Ft.s,At=Ft.v,St=Ft.a),Cr(),zt&&zt.isValid()&&!Rt&&(Pn=Ve.preferredFormat||zt.getFormat()))}function gn(Lt){return Lt=Lt||{},yn&&Hn?null:ee.fromRatio({h:et,s:kt,v:At,a:Math.round(100*St)/100},{format:Lt.format||Pn})}function hr(){Cr(),ft.move(gn()),Ut.trigger("move.spectrum",[gn()])}function Cr(){yt.removeClass("sp-validation-error"),dr();var Lt=ee.fromRatio({h:et,s:1,v:1});On.css("background-color",Lt.toHexString());var Rt=Pn;St<1&&(0!==St||"name"!==Rt)&&("hex"!==Rt&&"hex3"!==Rt&&"hex6"!==Rt&&"name"!==Rt||(Rt="rgb"));var zt=gn({format:Rt}),Ft="";if(Un.removeClass("sp-clear-display"),Un.css("background-color","transparent"),!zt&&yn)Un.addClass("sp-clear-display");else{var _n=zt.toHexString(),$n=zt.toRgbString();if(T||1===zt.alpha?Un.css("background-color",$n):(Un.css("background-color","transparent"),Un.css("filter",zt.toFilter())),Ve.showAlpha){var wr=zt.toRgb();wr.a=0;var pr=ee(wr).toRgbString(),Jn="linear-gradient(left, "+pr+", "+_n+")";k?ge.css("filter",ee(pr).toFilter({gradientType:1},_n)):(ge.css("background","-webkit-"+Jn),ge.css("background","-moz-"+Jn),ge.css("background","-ms-"+Jn),ge.css("background","linear-gradient(to right, "+pr+", "+_n+")"))}Ft=zt.toString(Rt)}Ve.showInput&&yt.val(Ft),Ve.showPalette&&_r(),cr()}function dr(){var Lt=kt,Rt=At;if(yn&&Hn)at.hide(),q.hide(),mn.hide();else{at.show(),q.show(),mn.show();var zt=Lt*B,Ft=F-Rt*F;zt=Math.max(-me,Math.min(B-me,zt-me)),Ft=Math.max(-me,Math.min(F-me,Ft-me)),mn.css({top:Ft+"px",left:zt+"px"}),at.css({left:St*Me-Ze/2+"px"}),q.css({top:et*le-ct+"px"})}}function Xn(Lt){var Rt=gn(),zt="",Ft=!!Ge||!ee.equals(Rt,tr);Rt&&(zt=Rt.toString(Pn),Nn(Rt)),kn&&Ut.val(zt),Lt&&Ft&&(ft.change(Rt),Ut.trigger("change",[Rt]))}function An(){st&&(B=On.width(),F=On.height(),me=mn.height(),I.width(),le=I.height(),ct=q.height(),Me=Te.width(),Ze=at.width(),tt||(Et.css("position","absolute"),Et.offset(Ve.offset?Ve.offset:function(Lt,Rt){var Ft=Lt.outerWidth(),_n=Lt.outerHeight(),$n=Rt.outerHeight(),wr=Lt[0].ownerDocument,pr=wr.documentElement,gr=pr.clientHeight,Tr=pr.clientWidth+b(wr).scrollLeft(),xr=gr+b(wr).scrollTop(),zn=Rt.offset();return zn.top+=$n,zn.left-=Math.min(zn.left,zn.left+Ft>Tr&&Tr>Ft?Math.abs(zn.left+Ft-Tr):0),zn.top-=Math.min(zn.top,zn.top+_n>xr&&xr>_n?Math.abs(_n+$n-0):0),zn}(Et,lr))),dr(),Ve.showPalette&&_r(),Ut.trigger("reflow.spectrum"))}function Dr(){Fn(),Kt=!0,Ut.attr("disabled",!0),lr.addClass("sp-disabled")}!function(){if(k&&Et.find("*:not(input)").attr("unselectable","on"),Kn(),sr&&Ut.after(Yn).hide(),yn||Ht.hide(),tt)Ut.after(Et).hide();else{var Lt="parent"===Ve.appendTo?Ut.parent():b(Ve.appendTo);1!==Lt.length&&(Lt=b("body")),Lt.append(Et)}function Rt(Ft){return Ft.data&&Ft.data.ignore?(fr(b(Ft.target).closest(".sp-thumb-el").data("color")),hr()):(fr(b(Ft.target).closest(".sp-thumb-el").data("color")),hr(),Xn(!0),Ve.hideAfterPaletteSelect&&Fn()),!1}Cn(),lr.bind("click.spectrum touchstart.spectrum",function(Ft){Kt||Zn(),Ft.stopPropagation(),b(Ft.target).is("input")||Ft.preventDefault()}),(Ut.is(":disabled")||!0===Ve.disabled)&&Dr(),Et.click(J),yt.change(ur),yt.bind("paste",function(){setTimeout(ur,1)}),yt.keydown(function(Ft){13==Ft.keyCode&&ur()}),wt.text(Ve.cancelText),wt.bind("click.spectrum",function(Ft){Ft.stopPropagation(),Ft.preventDefault(),$r(),Fn()}),Ht.attr("title",Ve.clearText),Ht.bind("click.spectrum",function(Ft){Ft.stopPropagation(),Ft.preventDefault(),Hn=!0,hr(),tt&&Xn(!0)}),tn.text(Ve.chooseText),tn.bind("click.spectrum",function(Ft){Ft.stopPropagation(),Ft.preventDefault(),k&&yt.is(":focus")&&yt.trigger("change"),yt.hasClass("sp-validation-error")||(Xn(!0),Fn())}),cn.text(Ve.showPaletteOnly?Ve.togglePaletteMoreText:Ve.togglePaletteLessText),cn.bind("click.spectrum",function(Ft){Ft.stopPropagation(),Ft.preventDefault(),Ve.showPaletteOnly=!Ve.showPaletteOnly,Ve.showPaletteOnly||tt||Et.css("left","-="+(qt.outerWidth(!0)+5)),Kn()}),V(Te,function(Ft,_n,$n){St=Ft/Me,Hn=!1,$n.shiftKey&&(St=Math.round(10*St)/10),hr()},br,Wn),V(I,function(Ft,_n){et=parseFloat(_n/le),Hn=!1,Ve.showAlpha||(St=1),hr()},br,Wn),V(On,function(Ft,_n,$n){if($n.shiftKey){if(!It){var pr=F-At*F,Jn=Math.abs(Ft-kt*B)>Math.abs(_n-pr);It=Jn?"x":"y"}}else It=null;var gr=!It||"y"===It;(!It||"x"===It)&&(kt=parseFloat(Ft/B)),gr&&(At=parseFloat((F-_n)/F)),Hn=!1,Ve.showAlpha||(St=1),hr()},br,Wn),er?(fr(er),Cr(),Pn=Ve.preferredFormat||ee(er).getFormat(),Nn(er)):Cr(),tt&&nr();var zt=k?"mousedown.spectrum":"click.spectrum touchstart.spectrum";bt.delegate(".sp-thumb-el",zt,Rt),mt.delegate(".sp-thumb-el:nth-child(1)",zt,{ignore:!0},Rt)}();var jr={show:nr,hide:Fn,toggle:Zn,reflow:An,option:function(Lt,Rt){return Lt===A?b.extend({},Ve):Rt===A?Ve[Lt]:(Ve[Lt]=Rt,"preferredFormat"===Lt&&(Pn=Ve.preferredFormat),void Kn())},enable:function(){Kt=!1,Ut.attr("disabled",!1),lr.removeClass("sp-disabled")},disable:Dr,offset:function(Lt){Ve.offset=Lt,An()},set:function(Lt){fr(Lt),Xn()},get:gn,destroy:function(){Ut.show(),lr.unbind("click.spectrum touchstart.spectrum"),Et.remove(),Yn.remove(),_[jr.id]=null},container:Et};return jr.id=_.push(jr)-1,jr}function re(){}function J(X){X.stopPropagation()}function $(X,ke){var Ae=Array.prototype.slice,Ne=Ae.call(arguments,2);return function(){return X.apply(ke,Ne.concat(Ae.call(arguments)))}}function V(X,ke,Ae,Ne){ke=ke||function(){},Ae=Ae||function(){},Ne=Ne||function(){};var he=document,Be=!1,Ve={},tt=0,dt=0,vt="ontouchstart"in window,Xe={};function ft(te){te.stopPropagation&&te.stopPropagation(),te.preventDefault&&te.preventDefault(),te.returnValue=!1}function je(te){if(Be){if(k&&he.documentMode<9&&!te.button)return st();var Ge=te&&te.touches&&te.touches[0],F=Ge&&Ge.pageY||te.pageY,me=Math.max(0,Math.min((Ge&&Ge.pageX||te.pageX)-Ve.left,dt)),le=Math.max(0,Math.min(F-Ve.top,tt));vt&&ft(te),ke.apply(X,[me,le,te])}}function st(){Be&&(b(he).unbind(Xe),b(he.body).removeClass("sp-dragging"),setTimeout(function(){Ne.apply(X,arguments)},0)),Be=!1}Xe.selectstart=ft,Xe.dragstart=ft,Xe["touchmove mousemove"]=je,Xe["touchend mouseup"]=st,b(X).bind("touchstart mousedown",function(te){var Ge=te.which?3==te.which:2==te.button;Ge||Be||!1!==Ae.apply(X,arguments)&&(Be=!0,tt=b(X).height(),dt=b(X).width(),Ve=b(X).offset(),b(he).bind(Xe),b(he.body).addClass("sp-dragging"),je(te),ft(te))})}function S(){return b.fn.spectrum.inputTypeColorSupport()}function O(X,ke,Ae){X=Oe(X,255),ke=Oe(ke,255),Ae=Oe(Ae,255);var Ne,he,Be=L(X,ke,Ae),Ve=g(X,ke,Ae),tt=(Be+Ve)/2;if(Be==Ve)Ne=he=0;else{var dt=Be-Ve;switch(he=tt>.5?dt/(2-Be-Ve):dt/(Be+Ve),Be){case X:Ne=(ke-Ae)/dt+(ke<Ae?6:0);break;case ke:Ne=(Ae-X)/dt+2;break;case Ae:Ne=(X-ke)/dt+4}Ne/=6}return{h:Ne,s:he,l:tt}}function z(X,ke,Ae){X=Oe(X,255),ke=Oe(ke,255),Ae=Oe(Ae,255);var Ne,he,Be=L(X,ke,Ae),Ve=g(X,ke,Ae),tt=Be,dt=Be-Ve;if(he=0===Be?0:dt/Be,Be==Ve)Ne=0;else{switch(Be){case X:Ne=(ke-Ae)/dt+(ke<Ae?6:0);break;case ke:Ne=(Ae-X)/dt+2;break;case Ae:Ne=(X-ke)/dt+4}Ne/=6}return{h:Ne,s:he,v:tt}}function n(X,ke,Ae,Ne){var he=[Je(y(X).toString(16)),Je(y(ke).toString(16)),Je(y(Ae).toString(16))];return Ne&&he[0].charAt(0)==he[0].charAt(1)&&he[1].charAt(0)==he[1].charAt(1)&&he[2].charAt(0)==he[2].charAt(1)?he[0].charAt(0)+he[1].charAt(0)+he[2].charAt(0):he.join("")}function m(X,ke,Ae,Ne){var he;return[Je((he=Ne,Math.round(255*parseFloat(he)).toString(16))),Je(y(X).toString(16)),Je(y(ke).toString(16)),Je(y(Ae).toString(16))].join("")}function s(X,ke){ke=0===ke?0:ke||10;var Ae=ee(X).toHsl();return Ae.s-=ke/100,Ae.s=ze(Ae.s),ee(Ae)}function E(X,ke){ke=0===ke?0:ke||10;var Ae=ee(X).toHsl();return Ae.s+=ke/100,Ae.s=ze(Ae.s),ee(Ae)}function W(X){return ee(X).desaturate(100)}function pe(X,ke){ke=0===ke?0:ke||10;var Ae=ee(X).toHsl();return Ae.l+=ke/100,Ae.l=ze(Ae.l),ee(Ae)}function Ee(X,ke){ke=0===ke?0:ke||10;var Ae=ee(X).toRgb();return Ae.r=L(0,g(255,Ae.r-y(-ke/100*255))),Ae.g=L(0,g(255,Ae.g-y(-ke/100*255))),Ae.b=L(0,g(255,Ae.b-y(-ke/100*255))),ee(Ae)}function be(X,ke){ke=0===ke?0:ke||10;var Ae=ee(X).toHsl();return Ae.l-=ke/100,Ae.l=ze(Ae.l),ee(Ae)}function de(X,ke){var Ae=ee(X).toHsl(),Ne=(y(Ae.h)+ke)%360;return Ae.h=Ne<0?360+Ne:Ne,ee(Ae)}function _e(X){var ke=ee(X).toHsl();return ke.h=(ke.h+180)%360,ee(ke)}function Pe(X){var ke=ee(X).toHsl(),Ae=ke.h;return[ee(X),ee({h:(Ae+120)%360,s:ke.s,l:ke.l}),ee({h:(Ae+240)%360,s:ke.s,l:ke.l})]}function He(X){var ke=ee(X).toHsl(),Ae=ke.h;return[ee(X),ee({h:(Ae+90)%360,s:ke.s,l:ke.l}),ee({h:(Ae+180)%360,s:ke.s,l:ke.l}),ee({h:(Ae+270)%360,s:ke.s,l:ke.l})]}function ut(X){var ke=ee(X).toHsl(),Ae=ke.h;return[ee(X),ee({h:(Ae+72)%360,s:ke.s,l:ke.l}),ee({h:(Ae+216)%360,s:ke.s,l:ke.l})]}function rt(X,ke,Ae){ke=ke||6,Ae=Ae||30;var Ne=ee(X).toHsl(),he=360/Ae,Be=[ee(X)];for(Ne.h=(Ne.h-(he*ke>>1)+720)%360;--ke;)Ne.h=(Ne.h+he)%360,Be.push(ee(Ne));return Be}function G(X,ke){ke=ke||6;for(var Ae=ee(X).toHsv(),Ne=Ae.h,he=Ae.s,Be=Ae.v,Ve=[],tt=1/ke;ke--;)Ve.push(ee({h:Ne,s:he,v:Be})),Be=(Be+tt)%1;return Ve}function ae(X){return X=parseFloat(X),(isNaN(X)||X<0||X>1)&&(X=1),X}function Oe(X,ke){var Ne;"string"==typeof(Ne=X)&&-1!=Ne.indexOf(".")&&1===parseFloat(Ne)&&(X="100%");var Ae=function(Ne){return"string"==typeof Ne&&-1!=Ne.indexOf("%")}(X);return X=g(ke,L(0,parseFloat(X))),Ae&&(X=parseInt(X*ke,10)/100),l.abs(X-ke)<1e-6?1:X%ke/parseFloat(ke)}function ze(X){return g(1,L(0,X))}function qe(X){return parseInt(X,16)}function Je(X){return 1==X.length?"0"+X:""+X}function ot(X){return X<=1&&(X=100*X+"%"),X}}(P);var w=function(b){var A="name"===b.getFormat()&&b.toName(),R=1==b.getAlpha()?b.toHexString():b.toRgbString();return A||R.replace(/ /g,"")};oe.a=u.a.extend({template:function(){var b=this.ppfx;return'\n      <div class="'.concat(this.holderClass(),'"></div>\n      <div class="').concat(b,'field-colorp">\n        <div class="').concat(b,'field-colorp-c" data-colorp-c>\n          <div class="').concat(b,'checker-bg"></div>\n        </div>\n      </div>\n    ')},inputClass:function(){var b=this.ppfx;return"".concat(b,"field ").concat(b,"field-color")},holderClass:function(){return"".concat(this.ppfx,"input-holder")},remove:function(){u.a.prototype.remove.apply(this,arguments),this.colorEl.spectrum("destroy")},__onInputChange:function(b){var A=b,R=this.getColorEl();if(R){R.spectrum("set",A);var _=R.spectrum("get"),k=A&&w(_);k&&(A=k)}this.model.set({value:A},{fromInput:1})},setValue:function(b){var A=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},R=this.model,_=R.get("defaults"),k=Object(M.isUndefined)(b)?Object(M.isUndefined)(_)?"":_:b,T=this.getInputEl(),C=this.getColorEl(),j="none"!=k?k:"";T.value=k,C.get(0).style.backgroundColor=j,(A.fromTarget||A.fromInput&&!A.avoidStore)&&(C.spectrum("set",j),this.noneColor="none"==k)},getColorEl:function(){if(!this.colorEl){var b,A=this.em,R=this,_=this.ppfx,k=this.model,T=P('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),C=T.get(0).style,j=A&&A.config?A.config.el:"",N=A&&A.getConfig&&A.getConfig("colorPicker")||{},H=0;this.$el.find("[data-colorp-c]").append(T),T.spectrum(f(f(f({color:k.getValue()||!1,containerClassName:"".concat(_,"one-bg ").concat(_,"two-color"),appendTo:j||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2a2f",palette:[]},N),k.get("colorPicker")||{}),{},{move:function(v){var d=w(v);C.backgroundColor=d,k.setValueFromInput(d,0)},change:function(v){H=1;var d=w(v);C.backgroundColor=d,k.setValueFromInput(0,0),k.setValueFromInput(d),R.noneColor=0},show:function(v){H=0,b=w(v)},hide:function(v){!H&&b&&(R.noneColor&&(b=""),C.backgroundColor=b,T.spectrum("set",b),k.setValueFromInput(b,0))}})),A&&A.on&&this.listenTo(A,"component:selected",function(){H=1,T.spectrum("hide")}),this.colorEl=T}return this.colorEl},render:function(){return u.a.prototype.render.call(this),this.getColorEl(),this}})},function($e,oe,i){"use strict";(function(Z){var ne=i(14),Y=i.n(ne),U=i(77),M=i(78),x=setTimeout;function c(R){return Boolean(R&&void 0!==R.length)}function h(){}function u(R){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof R)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],A(R,this)}function p(R,_){for(;3===R._state;)R=R._value;0!==R._state?(R._handled=!0,u._immediateFn(function(){var k=1===R._state?_.onFulfilled:_.onRejected;if(null!==k){var T;try{T=k(R._value)}catch(C){return void P(_.promise,C)}f(_.promise,T)}else(1===R._state?f:P)(_.promise,R._value)})):R._deferreds.push(_)}function f(R,_){try{if(_===R)throw new TypeError("A promise cannot be resolved with itself.");if(_&&("object"===Y()(_)||"function"==typeof _)){var k=_.then;if(_ instanceof u)return R._state=3,R._value=_,void w(R);if("function"==typeof k)return void A((T=k,C=_,function(){T.apply(C,arguments)}),R)}R._state=1,R._value=_,w(R)}catch(j){P(R,j)}var T,C}function P(R,_){R._state=2,R._value=_,w(R)}function w(R){2===R._state&&0===R._deferreds.length&&u._immediateFn(function(){R._handled||u._unhandledRejectionFn(R._value)});for(var _=0,k=R._deferreds.length;_<k;_++)p(R,R._deferreds[_]);R._deferreds=null}function b(R,_,k){this.onFulfilled="function"==typeof R?R:null,this.onRejected="function"==typeof _?_:null,this.promise=k}function A(R,_){var k=!1;try{R(function(T){k||(k=!0,f(_,T))},function(T){k||(k=!0,P(_,T))})}catch(T){if(k)return;k=!0,P(_,T)}}u.prototype.catch=function(R){return this.then(null,R)},u.prototype.then=function(R,_){var k=new this.constructor(h);return p(this,new b(R,_,k)),k},u.prototype.finally=U.a,u.all=function(R){return new u(function(_,k){if(!c(R))return k(new TypeError("Promise.all accepts an array"));var T=Array.prototype.slice.call(R);if(0===T.length)return _([]);var C=T.length;function j(H,v){try{if(v&&("object"===Y()(v)||"function"==typeof v)){var d=v.then;if("function"==typeof d)return void d.call(v,function(l){j(H,l)},k)}T[H]=v,0==--C&&_(T)}catch(l){k(l)}}for(var N=0;N<T.length;N++)j(N,T[N])})},u.allSettled=M.a,u.resolve=function(R){return R&&"object"===Y()(R)&&R.constructor===u?R:new u(function(_){_(R)})},u.reject=function(R){return new u(function(_,k){k(R)})},u.race=function(R){return new u(function(_,k){if(!c(R))return k(new TypeError("Promise.race accepts an array"));for(var T=0,C=R.length;T<C;T++)u.resolve(R[T]).then(_,k)})},u._immediateFn="function"==typeof Z&&function(R){Z(R)}||function(R){x(R,0)},u._unhandledRejectionFn=function(R){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",R)},oe.a=u}).call(this,i(84).setImmediate)},function($e,oe,i){"use strict";i.r(oe),i.d(oe,"evAll",function(){return Se}),i.d(oe,"evPfx",function(){return se}),i.d(oe,"evPageSelect",function(){return ue}),i.d(oe,"evPageSelectBefore",function(){return xe}),i.d(oe,"evPageUpdate",function(){return re}),i.d(oe,"evPageAdd",function(){return J}),i.d(oe,"evPageAddBefore",function(){return $}),i.d(oe,"evPageRemove",function(){return V}),i.d(oe,"evPageRemoveBefore",function(){return S});var Z=i(11),ne=i.n(Z),Y=i(3),U=i.n(Y),M=i(0),x=i(1),c=i(2),h=i(5),u=i.n(h),p=i(6),f=i.n(p),P=i(8),w=i.n(P),b=i(9),A=i.n(b),R=i(4),_=i.n(R);function k(n,m){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(n);m&&(E=E.filter(function(W){return Object.getOwnPropertyDescriptor(n,W).enumerable})),s.push.apply(s,E)}return s}function T(n){for(var m=1;m<arguments.length;m++){var s=null!=arguments[m]?arguments[m]:{};m%2?k(Object(s),!0).forEach(function(E){U()(n,E,s[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):k(Object(s)).forEach(function(E){Object.defineProperty(n,E,Object.getOwnPropertyDescriptor(s,E))})}return n}var j="__aw",N="__ah",H=function(n){w()(s,n);var m=function C(n){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}();return function(){var s,E=_()(n);if(m){var W=_()(this).constructor;s=Reflect.construct(E,arguments,W)}else s=E.apply(this,arguments);return A()(this,s)}}(s);function s(){return u()(this,s),m.apply(this,arguments)}return f()(s,[{key:"defaults",value:function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",_undo:!0,_undoexc:["changesCount"]}}},{key:"initialize",value:function(E){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},pe=W.config,Ee=pe.em,be=this.attributes,de=be.styles,_e=be.component,Pe=Ee.get("DomComponents"),He=Pe.getConfig(),ut=Ee.get("CssComposer").getAll(),rt={};this.em=Ee;var G={em:Ee,config:He,frame:this,idMap:rt};if(!Object(x.isComponent)(_e)){var ae=Object(x.isObject)(_e)?_e:{components:_e};!ae.type&&(ae.type="wrapper");var Oe=Pe.getType("wrapper").model;this.set("component",new Oe(ae,G))}if(de){if(!Object(x.isObject)(de)){var ze=Object.keys(rt);ze.length&&Array.isArray(de)&&de.forEach(function(qe){var Je=qe.selectors;if(Je&&1==Je.length){var ot=Je[0],X=ot.name&&2===ot.type&&ot;if(X&&rt[X.name])X.name=rt[X.name];else if(Object(M.isString)(ot)&&"#"===ot[0]){var ke=ot.substring(1);ke&&rt[ke]&&(Je[0]="#".concat(rt[ke]))}}}),ut.add(de),this.set("styles",ut)}}else this.set("styles",ut);!E.width&&this.set(j,1),!E.height&&this.set(N,1)}},{key:"onRemove",value:function(){this.getComponent().remove({root:1})}},{key:"changesUp",value:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};E.temporary||E.noCount||E.avoidStore||this.set("changesCount",this.get("changesCount")+1)}},{key:"getComponent",value:function(){return this.get("component")}},{key:"getStyles",value:function(){return this.get("styles")}},{key:"disable",value:function(){this.trigger("disable")}},{key:"remove",value:function(){this.view=0;var E=this.collection;return E&&E.remove(this)}},{key:"getHead",value:function(){var E=this.get("head")||[];return ne()(E)}},{key:"setHead",value:function(E){return this.set("head",ne()(E))}},{key:"addHeadItem",value:function(E){var W=this.getHead();W.push(E),this.setHead(W)}},{key:"getHeadByAttr",value:function(E,W,pe){return this.getHead().filter(function(Ee){return Ee.attributes&&Ee.attributes[E]==W&&(!pe||pe===Ee.tag)})[0]}},{key:"removeHeadByAttr",value:function(E,W,pe){var Ee=this.getHead(),be=this.getHeadByAttr(E,W,pe),de=Ee.indexOf(be);de>=0&&(Ee.splice(de,1),this.setHead(Ee))}},{key:"addLink",value:function(E){var W="link";!this.getHeadByAttr("href",E,W)&&this.addHeadItem({tag:W,attributes:{href:E,rel:"stylesheet"}})}},{key:"removeLink",value:function(E){this.removeHeadByAttr("href",E,"link")}},{key:"addScript",value:function(E){var W="script";!this.getHeadByAttr("src",E,W)&&this.addHeadItem({tag:W,attributes:{src:E}})}},{key:"removeScript",value:function(E){this.removeHeadByAttr("src",E,"script")}},{key:"getPage",value:function(){var E=this.collection;return E&&E.page}},{key:"_emitUpdated",value:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.em.trigger("frame:updated",T({frame:this},E))}},{key:"toJSON",value:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},W=c.Model.prototype.toJSON.call(this,E),pe=this.em,Ee=pe&&pe.get("StorageManager"),be=Ee&&Ee.getConfig(),de=Object(M.result)(this,"defaults");if(be&&!E.fromUndo){var _e={component:this.getComponent()};be.storeHtml&&(W.html=pe.getHtml(_e)),be.storeCss&&(W.css=pe.getCss(_e))}return E.fromUndo&&delete W.component,delete W.styles,delete W.changesCount,W[j]&&delete W.width,W[N]&&delete W.height,Object(M.forEach)(W,function(Pe,He){0===He.indexOf("_")&&delete W[He]}),Object(M.forEach)(de,function(Pe,He){W[He]===Pe&&delete W[He]}),Object(M.forEach)(["attributes","head"],function(Pe){Object(M.isEmpty)(W[Pe])&&delete W[Pe]}),W}}]),s}(c.Model);function v(n,m){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(n);m&&(E=E.filter(function(W){return Object.getOwnPropertyDescriptor(n,W).enumerable})),s.push.apply(s,E)}return s}function d(n){for(var m=1;m<arguments.length;m++){var s=null!=arguments[m]?arguments[m]:{};m%2?v(Object(s),!0).forEach(function(E){U()(n,E,s[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):v(Object(s)).forEach(function(E){Object.defineProperty(n,E,Object.getOwnPropertyDescriptor(s,E))})}return n}var y=function(n){w()(s,n);var m=function l(n){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}();return function(){var s,E=_()(n);if(m){var W=_()(this).constructor;s=Reflect.construct(E,arguments,W)}else s=E.apply(this,arguments);return A()(this,s)}}(s);function s(){return u()(this,s),m.apply(this,arguments)}return f()(s,[{key:"initialize",value:function(E){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(M.bindAll)(this,"itemLoaded"),this.config=W,this.on("reset",this.onReset),this.on("remove",this.onRemove)}},{key:"onReset",value:function(E){var W=this,pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ee=pe.previousModels||[];Ee.map(function(be){return W.onRemove(be)})}},{key:"onRemove",value:function(E){E&&E.onRemove()}},{key:"itemLoaded",value:function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(0))}},{key:"listenToLoad",value:function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(1)}},{key:"listenToLoadItems",value:function(E){var W=this;this.forEach(function(pe){return pe[E?"on":"off"]("loaded",W.itemLoaded)})}},{key:"add",value:function(E){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},pe=this.config;return c.Collection.prototype.add.call(this,E,d(d({},W),{},{config:pe}))}}]),s}(c.Collection);y.prototype.model=H;var L=function(n){w()(s,n);var m=function g(n){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}();return function(){var s,E=_()(n);if(m){var W=_()(this).constructor;s=Reflect.construct(E,arguments,W)}else s=E.apply(this,arguments);return A()(this,s)}}(s);function s(){return u()(this,s),m.apply(this,arguments)}return f()(s,[{key:"defaults",value:function(){return{frames:[],_undo:!0}}},{key:"initialize",value:function(E){var W=this,pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ee=pe.config,be=void 0===Ee?{}:Ee,de=be.em,_e={};this.em=de,E.frames||(_e.component=E.component,_e.styles=E.styles,["component","styles"].map(function(rt){return W.unset(rt)}));var Pe=E.frames||[_e],He=new y(Pe,be);He.page=this,this.set("frames",He);var ut=de&&de.get("UndoManager");ut&&ut.add(He)}},{key:"onRemove",value:function(){this.get("frames").reset()}},{key:"getFrames",value:function(){return this.get("frames")}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.get("name")}},{key:"setName",value:function(E){return this.get({name:E})}},{key:"getAllFrames",value:function(){return this.getFrames().models||[]}},{key:"getMainFrame",value:function(){return this.getFrames().at(0)}},{key:"getMainComponent",value:function(){var E=this.getMainFrame();return E&&E.getComponent()}},{key:"toJSON",value:function(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},W=c.Model.prototype.toJSON.call(this,E),pe=Object(M.result)(this,"defaults");return Object(M.forEach)(W,function(Ee,be){0===be.indexOf("_")&&delete W[be]}),Object(M.forEach)(pe,function(Ee,be){W[be]===Ee&&delete W[be]}),W}}]),s}(c.Model);function K(n,m){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(n);m&&(E=E.filter(function(W){return Object.getOwnPropertyDescriptor(n,W).enumerable})),s.push.apply(s,E)}return s}function ee(n){for(var m=1;m<arguments.length;m++){var s=null!=arguments[m]?arguments[m]:{};m%2?K(Object(s),!0).forEach(function(E){U()(n,E,s[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):K(Object(s)).forEach(function(E){Object.defineProperty(n,E,Object.getOwnPropertyDescriptor(s,E))})}return n}var fe=function(n){w()(s,n);var m=function De(n){var m=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(s){return!1}}();return function(){var s,E=_()(n);if(m){var W=_()(this).constructor;s=Reflect.construct(E,arguments,W)}else s=E.apply(this,arguments);return A()(this,s)}}(s);function s(){return u()(this,s),m.apply(this,arguments)}return f()(s,[{key:"initialize",value:function(E){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=W,this.on("reset",this.onReset),this.on("remove",this.onRemove)}},{key:"onReset",value:function(E){var W=this,pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},Ee=pe.previousModels||[];Ee.map(function(be){return W.onRemove(be)})}},{key:"onRemove",value:function(E){E&&E.onRemove()}},{key:"add",value:function(E){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},pe=this.config;return c.Collection.prototype.add.call(this,E,ee(ee({},W),{},{config:pe}))}}]),s}(c.Collection);function ce(n,m){var s=Object.keys(n);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(n);m&&(E=E.filter(function(W){return Object.getOwnPropertyDescriptor(n,W).enumerable})),s.push.apply(s,E)}return s}function Ce(n){for(var m=1;m<arguments.length;m++){var s=null!=arguments[m]?arguments[m]:{};m%2?ce(Object(s),!0).forEach(function(E){U()(n,E,s[E])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(s)):ce(Object(s)).forEach(function(E){Object.defineProperty(n,E,Object.getOwnPropertyDescriptor(s,E))})}return n}fe.prototype.model=L;var Se="page",se="".concat(Se,":"),ue="".concat(se,"select"),xe="".concat(ue,":before"),re="".concat(se,"update"),J="".concat(se,"add"),$="".concat(J,":before"),V="".concat(se,"remove"),S="".concat(V,":before"),O="change:selected",z="main";oe.default=function(){return{name:"PageManager",storageKey:"pages",Page:L,Pages:fe,events:{all:Se,select:ue,selectBefore:xe,update:re,add:J,addBefore:$,remove:V,removeBefore:S},init:function(){var n=this,m=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(M.bindAll)(this,"_onPageChange");var s=m.em,E=Ce({},m);this.config=E,this.em=s;var W=new fe([],E);this.pages=W;var pe=new c.Model({_undo:!0});return this.model=pe,W.on("add",function(Ee,be,de){return s.trigger(J,Ee,de)}),W.on("remove",function(Ee,be,de){return s.trigger(V,Ee,de)}),W.on("change",function(Ee,be){s.trigger(re,Ee,Ee.changedAttributes(),be)}),W.on("reset",function(Ee){return Ee.at(0)&&n.select(Ee.at(0))}),W.on("all",this.__onChange,this),pe.on(O,this._onPageChange),this},__onChange:function(n,m,s,E){this.em.trigger(Se,{event:n,page:m,options:E||s})},onLoad:function(){var n=this.pages,m={silent:!0};n.add(this.config.pages||[],m);var s=n.length?this.getMain():this.add({type:z},m);this.select(s,m)},_onPageChange:function(n,m,s){var E=this.em,W=E.get("LayerManager"),pe=m.getMainComponent();W&&pe&&W.setRoot(pe),E.trigger(ue,m,n.previous("selected")),this.__onChange(O,m,s)},postLoad:function(){var m=this.model,s=this.em.get("UndoManager");s&&s.add(m),s&&s.add(this.pages)},add:function(n){var m=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=this.em;n.id=n.id||this._createId();var W=function(){var pe=m.pages.add(n,s);return s.select&&m.select(pe),pe};return!s.silent&&E.trigger($,n,W,s),!s.abort&&W()},remove:function(n){var m=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=this.em,W=Object(M.isString)(n)?this.get(n):n,pe=function(){return W&&m.pages.remove(W,s),W};return!s.silent&&E.trigger(S,W,pe,s),!s.abort&&pe()},get:function(n){return this.pages.filter(function(m){return m.get("id")===n})[0]},getMain:function(){var n=this.pages;return n.filter(function(m){return m.get("type")===z})[0]||n.at(0)},getAll:function(){return ne()(this.pages.models)},getAllWrappers:function(){var n=this.getAll();return Object(M.unique)(Object(M.flatten)(n.map(function(m){return m.getAllFrames().map(function(s){return s.getComponent()})})))},getAllMap:function(){return this.getAll().reduce(function(n,m){return n[m.get("id")]=m,n},{})},select:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Object(M.isString)(n)?this.get(n):n;return s&&(this.em.trigger(xe,s,m),this.model.set("selected",s,m)),this},getSelected:function(){return this.model.get("selected")},destroy:function(){var n=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","config","em","pages","model"].map(function(m){return n[m]=0})},store:function(n){if(!this.em.get("hasPages"))return{};var m={},s=this.config;return m[this.storageKey]=JSON.stringify(this.getAll()),!n&&s.stm&&s.stm.store(m),m},load:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.storageKey,s=n[m]||[];if("string"==typeof s)try{s=JSON.parse(n[m])}catch(E){}return s&&s.length&&this.pages.reset(s),s},_createId:function(){var n,m=this.getAll().length+16,s=this.getAllMap();do{n=Object(x.createId)(m)}while(s[n]);return n}}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(2),ne=i.n(Z),Y=ne.a.Model.extend({defaults:{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1},initialize:function(U){if(this.get("buttons").length){var M=i(48).default;this.set("buttons",new M(this.get("buttons")))}}});oe.default=ne.a.Collection.extend({model:Y,deactivateAllExceptOne:function(U,M){this.forEach(function(x,c){x!==U&&(x.set("active",!1),M&&x.get("buttons").length&&x.get("buttons").deactivateAllExceptOne(U,M))})},deactivateAll:function(U,M){var x=U||"";this.forEach(function(c){c.get("context")==x&&c!==M&&c.set("active",!1,{fromCollection:1})})},disableAllButtons:function(U){var M=U||"";this.forEach(function(x,c){x.get("context")==M&&x.set("disable",!0)})},disableAllButtonsExceptOne:function(U,M){this.forEach(function(x,c){x!==U&&(x.set("disable",!0),M&&x.get("buttons").length&&x.get("buttons").disableAllButtonsExceptOne(U,M))})}})},function($e,oe){$e.exports=function(i,Z){(null==Z||Z>i.length)&&(Z=i.length);for(var ne=0,Y=new Array(Z);ne<Z;ne++)Y[ne]=i[ne];return Y},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe,i){var Z=i(49);$e.exports=function(ne,Y){if(ne){if("string"==typeof ne)return Z(ne,Y);var U=Object.prototype.toString.call(ne).slice(8,-1);return"Object"===U&&ne.constructor&&(U=ne.constructor.name),"Map"===U||"Set"===U?Array.from(ne):"Arguments"===U||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(U)?Z(ne,Y):void 0}},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe,i){!function(Z){"use strict";function ne(H){for(var v={},d=0;d<H.length;++d)v[H[d].toLowerCase()]=!0;return v}Z.defineMode("css",function(H,v){var d=v.inline;v.propertyKeywords||(v=Z.resolveMode("text/css"));var l,y,g=H.indentUnit,L=v.tokenHooks,K=v.documentTypes||{},ee=v.mediaTypes||{},De=v.mediaFeatures||{},fe=v.mediaValueKeywords||{},ce=v.propertyKeywords||{},Ce=v.nonStandardPropertyKeywords||{},Se=v.fontProperties||{},se=v.counterDescriptors||{},ue=v.colorKeywords||{},xe=v.valueKeywords||{},re=v.allowNested,$=!0===v.supportsAtComponent,V=!1!==H.highlightNonStandardPropertyKeywords;function S(de,_e){return l=_e,de}function O(de,_e){var Pe=de.next();if(L[Pe]){var He=L[Pe](de,_e);if(!1!==He)return He}return"@"==Pe?(de.eatWhile(/[\w\\\-]/),S("def",de.current())):"="==Pe||("~"==Pe||"|"==Pe)&&de.eat("=")?S(null,"compare"):'"'==Pe||"'"==Pe?(_e.tokenize=z(Pe),_e.tokenize(de,_e)):"#"==Pe?(de.eatWhile(/[\w\\\-]/),S("atom","hash")):"!"==Pe?(de.match(/^\s*\w*/),S("keyword","important")):/\d/.test(Pe)||"."==Pe&&de.eat(/\d/)?(de.eatWhile(/[\w.%]/),S("number","unit")):"-"!==Pe?/[,+>*\/]/.test(Pe)?S(null,"select-op"):"."==Pe&&de.match(/^-?[_a-z][_a-z0-9-]*/i)?S("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(Pe)?S(null,Pe):de.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(de.current())&&(_e.tokenize=n),S("variable callee","variable")):/[\w\\\-]/.test(Pe)?(de.eatWhile(/[\w\\\-]/),S("property","word")):S(null,null):/[\d.]/.test(de.peek())?(de.eatWhile(/[\w.%]/),S("number","unit")):de.match(/^-[\w\\\-]*/)?(de.eatWhile(/[\w\\\-]/),de.match(/^\s*:/,!1)?S("variable-2","variable-definition"):S("variable-2","variable")):de.match(/^\w+-/)?S("meta","meta"):void 0}function z(de){return function(_e,Pe){for(var He,ut=!1;null!=(He=_e.next());){if(He==de&&!ut){")"==de&&_e.backUp(1);break}ut=!ut&&"\\"==He}return(He==de||!ut&&")"!=de)&&(Pe.tokenize=null),S("string","string")}}function n(de,_e){return de.next(),_e.tokenize=de.match(/^\s*[\"\')]/,!1)?null:z(")"),S(null,"(")}function m(de,_e,Pe){this.type=de,this.indent=_e,this.prev=Pe}function s(de,_e,Pe,He){return de.context=new m(Pe,_e.indentation()+(!1===He?0:g),de.context),Pe}function E(de){return de.context.prev&&(de.context=de.context.prev),de.context.type}function W(de,_e,Pe){return be[Pe.context.type](de,_e,Pe)}function pe(de,_e,Pe,He){for(var ut=He||1;ut>0;ut--)Pe.context=Pe.context.prev;return W(de,_e,Pe)}function Ee(de){var _e=de.current().toLowerCase();y=xe.hasOwnProperty(_e)?"atom":ue.hasOwnProperty(_e)?"keyword":"variable"}var be={top:function(de,_e,Pe){if("{"==de)return s(Pe,_e,"block");if("}"==de&&Pe.context.prev)return E(Pe);if($&&/@component/i.test(de))return s(Pe,_e,"atComponentBlock");if(/^@(-moz-)?document$/i.test(de))return s(Pe,_e,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(de))return s(Pe,_e,"atBlock");if(/^@(font-face|counter-style)/i.test(de))return Pe.stateArg=de,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(de))return"keyframes";if(de&&"@"==de.charAt(0))return s(Pe,_e,"at");if("hash"==de)y="builtin";else if("word"==de)y="tag";else{if("variable-definition"==de)return"maybeprop";if("interpolation"==de)return s(Pe,_e,"interpolation");if(":"==de)return"pseudo";if(re&&"("==de)return s(Pe,_e,"parens")}return Pe.context.type},block:function(de,_e,Pe){if("word"==de){var He=_e.current().toLowerCase();return ce.hasOwnProperty(He)?(y="property","maybeprop"):Ce.hasOwnProperty(He)?(y=V?"string-2":"property","maybeprop"):re?(y=_e.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(y+=" error","maybeprop")}return"meta"==de?"block":re||"hash"!=de&&"qualifier"!=de?be.top(de,_e,Pe):(y="error","block")},maybeprop:function(de,_e,Pe){return":"==de?s(Pe,_e,"prop"):W(de,_e,Pe)},prop:function(de,_e,Pe){if(";"==de)return E(Pe);if("{"==de&&re)return s(Pe,_e,"propBlock");if("}"==de||"{"==de)return pe(de,_e,Pe);if("("==de)return s(Pe,_e,"parens");if("hash"!=de||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(_e.current())){if("word"==de)Ee(_e);else if("interpolation"==de)return s(Pe,_e,"interpolation")}else y+=" error";return"prop"},propBlock:function(de,_e,Pe){return"}"==de?E(Pe):"word"==de?(y="property","maybeprop"):Pe.context.type},parens:function(de,_e,Pe){return"{"==de||"}"==de?pe(de,_e,Pe):")"==de?E(Pe):"("==de?s(Pe,_e,"parens"):"interpolation"==de?s(Pe,_e,"interpolation"):("word"==de&&Ee(_e),"parens")},pseudo:function(de,_e,Pe){return"meta"==de?"pseudo":"word"==de?(y="variable-3",Pe.context.type):W(de,_e,Pe)},documentTypes:function(de,_e,Pe){return"word"==de&&K.hasOwnProperty(_e.current())?(y="tag",Pe.context.type):be.atBlock(de,_e,Pe)},atBlock:function(de,_e,Pe){if("("==de)return s(Pe,_e,"atBlock_parens");if("}"==de||";"==de)return pe(de,_e,Pe);if("{"==de)return E(Pe)&&s(Pe,_e,re?"block":"top");if("interpolation"==de)return s(Pe,_e,"interpolation");if("word"==de){var He=_e.current().toLowerCase();y="only"==He||"not"==He||"and"==He||"or"==He?"keyword":ee.hasOwnProperty(He)?"attribute":De.hasOwnProperty(He)?"property":fe.hasOwnProperty(He)?"keyword":ce.hasOwnProperty(He)?"property":Ce.hasOwnProperty(He)?V?"string-2":"property":xe.hasOwnProperty(He)?"atom":ue.hasOwnProperty(He)?"keyword":"error"}return Pe.context.type},atComponentBlock:function(de,_e,Pe){return"}"==de?pe(de,_e,Pe):"{"==de?E(Pe)&&s(Pe,_e,re?"block":"top",!1):("word"==de&&(y="error"),Pe.context.type)},atBlock_parens:function(de,_e,Pe){return")"==de?E(Pe):"{"==de||"}"==de?pe(de,_e,Pe,2):be.atBlock(de,_e,Pe)},restricted_atBlock_before:function(de,_e,Pe){return"{"==de?s(Pe,_e,"restricted_atBlock"):"word"==de&&"@counter-style"==Pe.stateArg?(y="variable","restricted_atBlock_before"):W(de,_e,Pe)},restricted_atBlock:function(de,_e,Pe){return"}"==de?(Pe.stateArg=null,E(Pe)):"word"==de?(y="@font-face"==Pe.stateArg&&!Se.hasOwnProperty(_e.current().toLowerCase())||"@counter-style"==Pe.stateArg&&!se.hasOwnProperty(_e.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(de,_e,Pe){return"word"==de?(y="variable","keyframes"):"{"==de?s(Pe,_e,"top"):W(de,_e,Pe)},at:function(de,_e,Pe){return";"==de?E(Pe):"{"==de||"}"==de?pe(de,_e,Pe):("word"==de?y="tag":"hash"==de&&(y="builtin"),"at")},interpolation:function(de,_e,Pe){return"}"==de?E(Pe):"{"==de||";"==de?pe(de,_e,Pe):("word"==de?y="variable":"variable"!=de&&"("!=de&&")"!=de&&(y="error"),"interpolation")}};return{startState:function(de){return{tokenize:null,state:d?"block":"top",stateArg:null,context:new m(d?"block":"top",de||0,null)}},token:function(de,_e){if(!_e.tokenize&&de.eatSpace())return null;var Pe=(_e.tokenize||O)(de,_e);return Pe&&"object"==typeof Pe&&(l=Pe[1],Pe=Pe[0]),y=Pe,"comment"!=l&&(_e.state=be[_e.state](l,de,_e)),y},indent:function(de,_e){var Pe=de.context,He=_e&&_e.charAt(0),ut=Pe.indent;return"prop"!=Pe.type||"}"!=He&&")"!=He||(Pe=Pe.prev),Pe.prev&&("}"!=He||"block"!=Pe.type&&"top"!=Pe.type&&"interpolation"!=Pe.type&&"restricted_atBlock"!=Pe.type?(")"!=He||"parens"!=Pe.type&&"atBlock_parens"!=Pe.type)&&("{"!=He||"at"!=Pe.type&&"atBlock"!=Pe.type)||(ut=Math.max(0,Pe.indent-g)):ut=(Pe=Pe.prev).indent),ut},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:v.lineComment,fold:"brace"}});var Y=["domain","regexp","url","url-prefix"],U=ne(Y),M=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],x=ne(M),c=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme"],h=ne(c),u=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light"],p=ne(u),f=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],P=ne(f),w=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],b=ne(w),A=ne(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),R=ne(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),_=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],k=ne(_),T=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","button-bevel","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-controls-background","media-current-time-display","media-fullscreen-button","media-mute-button","media-play-button","media-return-to-realtime-button","media-rewind-button","media-seek-back-button","media-seek-forward-button","media-slider","media-sliderthumb","media-time-remaining-display","media-volume-slider","media-volume-slider-container","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menulist-text","menulist-textfield","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],C=ne(T),j=Y.concat(M).concat(c).concat(u).concat(f).concat(w).concat(_).concat(T);function N(H,v){for(var d,l=!1;null!=(d=H.next());){if(l&&"/"==d){v.tokenize=null;break}l="*"==d}return["comment","comment"]}Z.registerHelper("hintWords","css",j),Z.defineMIME("text/css",{documentTypes:U,mediaTypes:x,mediaFeatures:h,mediaValueKeywords:p,propertyKeywords:P,nonStandardPropertyKeywords:b,fontProperties:A,counterDescriptors:R,colorKeywords:k,valueKeywords:C,tokenHooks:{"/":function(H,v){return!!H.eat("*")&&(v.tokenize=N,N(H,v))}},name:"css"}),Z.defineMIME("text/x-scss",{mediaTypes:x,mediaFeatures:h,mediaValueKeywords:p,propertyKeywords:P,nonStandardPropertyKeywords:b,colorKeywords:k,valueKeywords:C,fontProperties:A,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,v){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(v.tokenize=N,N(H,v)):["operator","operator"]},":":function(H){return!!H.match(/^\s*\{/,!1)&&[null,null]},$:function(H){return H.match(/^[\w-]+/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(H){return!!H.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),Z.defineMIME("text/x-less",{mediaTypes:x,mediaFeatures:h,mediaValueKeywords:p,propertyKeywords:P,nonStandardPropertyKeywords:b,colorKeywords:k,valueKeywords:C,fontProperties:A,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(H,v){return H.eat("/")?(H.skipToEnd(),["comment","comment"]):H.eat("*")?(v.tokenize=N,N(H,v)):["operator","operator"]},"@":function(H){return H.eat("{")?[null,"interpolation"]:!H.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(H.eatWhile(/[\w\\\-]/),H.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),Z.defineMIME("text/x-gss",{documentTypes:U,mediaTypes:x,mediaFeatures:h,propertyKeywords:P,nonStandardPropertyKeywords:b,fontProperties:A,counterDescriptors:R,colorKeywords:k,valueKeywords:C,supportsAtComponent:!0,tokenHooks:{"/":function(H,v){return!!H.eat("*")&&(v.tokenize=N,N(H,v))}},name:"css",helperType:"gss"})}(i(27))},function($e,oe,i){"use strict";i.r(oe),oe.default={run:function(Z){Z.DomComponents.clear(),Z.CssComposer.clear()}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(0),ne=i(1),Y=i(24);oe.default={run:function(U){Object(Z.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=U,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(U){this.toggleMove(),this.disableDragger()},onKeyUp:function(U){" "===Object(ne.getKeyChar)(U)&&this.editor.stopCommand(this.id)},enableDragger:function(U){this.toggleDragger(1,U)},disableDragger:function(U){this.toggleDragger(0,U)},toggleDragger:function(U,M){var x=this.canvasModel,c=this.em,h=this.dragger,u=U?"add":"remove";this.getCanvas().classList[u]("".concat(this.ppfx,"is__grabbing")),h||(h=new Y.a({getPosition:function(){return{x:x.get("x"),y:x.get("y")}},setPosition:function(p){x.set({x:p.x,y:p.y})},onStart:function(p,f){c.trigger("canvas:move:start",f)},onDrag:function(p,f){c.trigger("canvas:move",f)},onEnd:function(p,f){c.trigger("canvas:move:end",f)}}),this.dragger=h),U?h.start(M):h.stop()},toggleMove:function(U){var M=this.ppfx,x=U?"add":"remove",c=U?"on":"off",h={on:ne.on,off:ne.off},u=this.getCanvas(),p=["".concat(M,"is__grab")];!U&&p.push("".concat(M,"is__grabbing")),p.forEach(function(f){return u.classList[x](f)}),h[c](document,"keyup",this.onKeyUp),h[c](u,"mousedown",this.enableDragger),h[c](document,"mouseup",this.disableDragger)}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(11),ne=i.n(Z),Y=i(0);oe.default={run:function(U,M){var x=this,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},h=[],u=c.component||U.getSelectedAll();return u=Object(Y.isArray)(u)?ne()(u):[u],U.select(null),u.forEach(function(p){if(!p||!p.get("removable"))return x.em.logWarning("The element is not removable",{component:p});p.remove(),p.collection&&h.push(p)}),h.length&&U.select(h),u}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(3),ne=i.n(Z),Y=i(0),U=i(24);function M(h,u){var p=Object.keys(h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);u&&(f=f.filter(function(P){return Object.getOwnPropertyDescriptor(h,P).enumerable})),p.push.apply(p,f)}return p}function x(h){for(var u=1;u<arguments.length;u++){var p=null!=arguments[u]?arguments[u]:{};u%2?M(Object(p),!0).forEach(function(f){ne()(h,f,p[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(p)):M(Object(p)).forEach(function(f){Object.defineProperty(h,f,Object.getOwnPropertyDescriptor(p,f))})}return h}var c="dmode";oe.default={run:function(h,u){var p=this,f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(Y.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var P=f.target,w=f.event,b=f.mode,A=f.dragger,R=void 0===A?{}:A,_=P.getEl(),k=x({doc:_.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return p.guidesStatic},guidesTarget:function(){return p.guidesTarget}},R);this.setupGuides(),this.opts=f,this.editor=h,this.em=h.getModel(),this.target=P,this.isTran="translate"==b,this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var T=this.dragger;return T?T.setOptions(k):(T=new U.a(k),this.dragger=T),w&&T.start(w),this.toggleDrag(1),this.em.trigger("".concat(c,":start"),this.getEventOpts()),T},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(h){var u=h.guide;u&&u.parentNode.removeChild(u)}),this.guides=[]},getGuidesContainer:function(){var h=this,u=this.guidesEl;if(!u){var p=this.editor,f=this.em,P=this.opts,w=p.getConfig("stylePrefix"),b=document.createElement("div"),A=document.createElement("div"),R='<div class="'.concat(w,"guide-info__line ").concat(w,'danger-bg">\n        <div class="').concat(w,"guide-info__content ").concat(w,'danger-color"></div>\n      </div>');(u=document.createElement("div")).className="".concat(w,"guides"),b.className="".concat(w,"guide-info ").concat(w,"guide-info__x"),A.className="".concat(w,"guide-info ").concat(w,"guide-info__y"),b.innerHTML=R,A.innerHTML=R,u.appendChild(b),u.appendChild(A),p.Canvas.getGlobalToolsEl().appendChild(u),this.guidesEl=u,this.elGuideInfoX=b,this.elGuideInfoY=A,this.elGuideInfoContentX=b.querySelector(".".concat(w,"guide-info__content")),this.elGuideInfoContentY=A.querySelector(".".concat(w,"guide-info__content")),f.on("canvas:update frame:scroll",Object(Y.debounce)(function(){h.updateGuides(),P.debug&&h.guides.forEach(function(_){return h.renderGuide(_)})},200))}return u},getGuidesStatic:function(){var h=this,u=[],p=this.target.getEl(),f=p.parentNode,P=void 0===f?{}:f;return Object(Y.each)(P.children,function(w){return u=u.concat(p!==w?h.getElementGuides(w):[])}),u.concat(this.getElementGuides(P))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(h){var u,p,f=this;(h||this.guides).forEach(function(P){var w=P.origin,b=u===w?p:f.getElementPos(w);u=w,p=b,Object(Y.each)(f.getGuidePosUpdate(P,b),function(A,R){return P[R]=A}),P.originRect=b})},getGuidePosUpdate:function(h,u){var p={},f=u.top,P=u.height,w=u.left,b=u.width;switch(h.type){case"t":p.y=f;break;case"b":p.y=f+P;break;case"l":p.x=w;break;case"r":p.x=w+b;break;case"x":p.x=w+b/2;break;case"y":p.y=f+P/2}return p},renderGuide:function(){var h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=h.guide||document.createElement("div"),p="px",f=h.active?2:1,P=u.children[0];return u.style="position: absolute; background-color: ".concat(h.active?"green":"red",";"),u.children.length||((P=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",u.appendChild(P)),h.y?(u.style.width="100%",u.style.height="".concat(f).concat(p),u.style.top="".concat(h.y).concat(p),u.style.left=0):(u.style.width="".concat(f).concat(p),u.style.height="100%",u.style.left="".concat(h.x).concat(p),u.style.top="0".concat(p)),!h.guide&&this.guidesContainer.appendChild(u),u},getElementPos:function(h){return this.editor.Canvas.getElementPos(h,{noScroll:1})},getElementGuides:function(h){var u=this,p=this.opts,f=this.getElementPos(h),P=f.top,w=f.height,b=f.left,A=f.width,R=[{type:"t",y:P},{type:"b",y:P+w},{type:"l",x:b},{type:"r",x:b+A},{type:"x",x:b+A/2},{type:"y",y:P+w/2}].map(function(_){return x(x({},_),{},{origin:h,originRect:f,guide:p.debug&&u.renderGuide(_)})});return R.forEach(function(_){return u.guides.push(_)}),R},getTranslate:function(h){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x",p=0;return(h||"").split(" ").forEach(function(f){var P=f.trim(),w="translate".concat(u.toUpperCase(),"(");0===P.indexOf(w)&&(p=parseFloat(P.replace(w,"")))}),p},setTranslate:function(h,u,p){var f="translate".concat(u.toUpperCase(),"("),P="".concat(f).concat(p,")"),w=(h||"").split(" ").map(function(b){return 0===b.trim().indexOf(f)&&(b=P),b}).join(" ");return w.indexOf(f)<0&&(w+=" ".concat(P)),w},getPosition:function(){var u=this.isTran,p=this.target.getStyle(),f=p.left,P=p.top,w=p.transform,b=0,A=0;return u?(b=this.getTranslate(w),A=this.getTranslate(w,"y")):(b=parseFloat(f||0),A=parseFloat(P||0)),{x:b,y:A}},setPosition:function(h){var p=h.y,f=h.end,P=h.position,w=h.width,b=h.height,A=this.target,R=this.isTran,_=this.em,T=f?"":1,C="".concat(h.x).concat("px"),j="".concat(p).concat("px"),N={};if(R){var H=A.getStyle().transform||"";H=this.setTranslate(H,"x",C),N={transform:H=this.setTranslate(H,"y",j),en:T},A.addStyle(N,{avoidStore:!f})}else{var v={position:P,width:w,height:b},d={left:C,top:j,en:T};Object(Y.keys)(v).forEach(function(l){var y=v[l];y&&(d[l]=y)}),A.addStyle(N=d,{avoidStore:!f})}_.getSelected()&&Object(Y.keys)(N).forEach(function(l){return _.trigger("update:component:style:".concat(l))})},_getDragData:function(){var h=this.target;return{target:h,parent:h.parent(),index:h.index()}},onStart:function(h){var u=this.target,f=this.isTran,P=this.opts,w=P.center,b=P.onStart,A=this.editor.Canvas,R=u.getStyle(),_="absolute";if(b&&b(this._getDragData()),!f&&R.position!==_){var k=A.offset(u.getEl()),T=k.left,C=k.top,j=k.width,N=k.height;if(w){var H=A.getMouseRelativeCanvas(h);T=H.x,C=H.y}this.setPosition({x:T,y:C,width:"".concat(j,"px"),height:"".concat(N,"px"),position:_})}},onDrag:function(){var h=this,u=this.guidesTarget,p=this.opts,f=p.onDrag;this.updateGuides(u),p.debug&&u.forEach(function(P){return h.renderGuide(P)}),p.guidesInfo&&this.renderGuideInfo(u.filter(function(P){return P.active})),f&&f(this._getDragData())},onEnd:function(h,u){var p=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},f=this.editor,P=this.opts,w=this.id,b=P.onEnd;b&&b(h,p,x(x({event:h},p),this._getDragData())),f.stopCommand(w),this.hideGuidesInfo(),this.em.trigger("".concat(c,":end"),this.getEventOpts())},hideGuidesInfo:function(){var h=this;["X","Y"].forEach(function(u){var p=h["elGuideInfo".concat(u)];p&&(p.style.display="none")})},renderGuideInfo:function(){var h=this,u=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],p=this.guidesStatic;this.hideGuidesInfo(),u.forEach(function(f){var w=f.x,b=h.getElementPos(f.origin),A=Object(Y.isUndefined)(w)?"y":"x",R="y"===A,_=b[R?"left":"top"],k=b.rect[R?"left":"top"],T=R?_+b.width:_+b.height,C=R?k+b.rect.width:k+b.rect.height,j=h["elGuideInfo".concat(A.toUpperCase())],N=h["elGuideInfoContent".concat(A.toUpperCase())],H=j.style,v=p.filter(function(J){return J.type===f.type}).map(function(J){var $=J.originRect,V=$.left,O=$.top,n=R?V+$.width:O+$.height;return{gap:n<_?_-n:(R?V:O)-T,guide:J}}).filter(function(J){return J.gap>0}).sort(function(J,$){return J.gap-$.gap}).map(function(J){return J.guide})[0];if(v){var d=v.originRect,l=d.left,g=d.top,K=d.rect,ee=R?l<b.left:g<b.top,De=R?l:g,fe=R?K.left:K.top,ce=R?l+d.width:g+d.height,Ce=R?K.left+K.width:K.top+K.height,Se=R?f.y:f.x,se=ee?ce:T,ue="".concat(Se,"px"),xe=ee?_-ce:De-T,re=ee?k-Ce:fe-C;H.display="",H[R?"top":"left"]=ue,H[R?"left":"top"]="".concat(se,"px"),H[R?"width":"height"]="".concat(xe,"px"),N.innerHTML="".concat(Math.round(re),"px"),h.em.trigger("".concat(c,":active"),x(x({},h.getEventOpts()),{},{guide:f,guidesStatic:p,matched:v,posFirst:Se,posSecond:se,size:xe,sizeRaw:re,elGuideInfo:j,elGuideInfoCnt:N}))}})},toggleDrag:function(h){var p=this.editor,f=h?"add":"remove",P=["".concat(this.ppfx,"is__grabbing")],w=p.Canvas,b=w.getBody();P.forEach(function(A){return b.classList[f](A)}),w[h?"startAutoscroll":"stopAutoscroll"]()}}},function($e,oe,i){"use strict";i.r(oe),oe.default={run:function(Z){if(Z.Canvas.hasFocus()){var ne=[];Z.getSelectedAll().forEach(function(Y){var U=Y.components(),M=U&&U.filter(function(x){return x.get("selectable")})[0];M&&ne.push(M)}),ne.length&&Z.select(ne)}}}},function($e,oe,i){"use strict";i.r(oe),oe.default={run:function(Z,ne){var Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(Z.Canvas.hasFocus()||Y.force){var U=[];Z.getSelectedAll().forEach(function(M){for(var x=M.parent();x&&!x.get("selectable");)x=x.parent();x&&U.push(x)}),U.length&&Z.select(U)}}}},function($e,oe,i){"use strict";i.r(oe),oe.default={run:function(Z){if(Z.Canvas.hasFocus()){var ne=[];Z.getSelectedAll().forEach(function(Y){var U=Y.parent();if(U){var M,x=U.components().length,c=0,h=0;do{c++,M=(h=Y.index()+c)<=x?U.getChildAt(h):null}while(M&&!M.get("selectable"));ne.push(M||Y)}}),ne.length&&Z.select(ne)}}}},function($e,oe,i){"use strict";i.r(oe),oe.default={run:function(Z){if(Z.Canvas.hasFocus()){var ne=[];Z.getSelectedAll().forEach(function(Y){var U=Y.parent();if(U){var M,x=0,c=0;do{x++,M=(c=Y.index()-x)>=0?U.getChildAt(c):null}while(M&&!M.get("selectable"));ne.push(M||Y)}}),ne.length&&Z.select(ne)}}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(0);oe.default={run:function(ne,Y){var U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},M=U.target,x=[];if(!M.get("styles"))return x;var c=M.get("type"),h=ne.Pages.getAllWrappers(),u=Object(Z.flatten)(h.map(function(f){return f.findType(c)})).length;if(!u){var p=ne.CssComposer.getAll();x=p.filter(function(f){return f.get("group")==="cmp:".concat(c)}),p.remove(x)}return x}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(11),ne=i.n(Z);oe.default={run:function(Y){var U=Y.getModel(),M=ne()(Y.getSelectedAll());M.length&&U.set("clipboard",M)}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(0),ne=i(2),Y=i.n(ne),U=i(23),M=Y.a.$;oe.default=Object(Z.extend)({},U.default,{init:function(x){Object(Z.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(x){x.stopPropagation();var c=M(x.target);c.data("model").get("removable")&&(c.addClass(this.hoverClass),this.attachBadge(c.get(0)))},stopDelete:function(x){x.stopPropagation(),M(x.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(x){x.stopPropagation();var c=M(x.target);c.data("model").get("removable")&&(c.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(x){this.badge.html("Remove "+x.getName())}})},function($e,oe,i){"use strict";i.r(oe);var Z=i(2),ne=i.n(Z).a.$;oe.default={run:function(Y,U){var M=this;U&&U.set&&U.set("active",0);var x=Y.getConfig(),c=Y.Modal,h=x.stylePrefix;if(this.cm=Y.CodeManager||null,!this.$editors){var u=this.buildEditor("htmlmixed","hopscotch","HTML"),p=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=u.el,this.cssEditor=p.el;var f=ne('<div class="'.concat(h,'export-dl"></div>'));f.append(u.$el).append(p.$el),this.$editors=f}c.open({title:x.textViewCode,content:this.$editors}).getModel().once("change:open",function(){return Y.stopCommand(M.id)}),this.htmlEditor.setContent(Y.getHtml()),this.cssEditor.setContent(Y.getCss())},stop:function(Y){var U=Y.Modal;U&&U.close()},buildEditor:function(Y,U,M){var x=document.createElement("textarea");!this.codeMirror&&(this.codeMirror=this.cm.getViewer("CodeMirror"));var c=this.codeMirror.clone().set({label:M,codeName:Y,theme:U,input:x}),h=new this.cm.EditorView({model:c,config:this.cm.getConfig()}).render().$el;return c.init(x),{el:c,$el:h}}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(0);oe.default={isEnabled:function(){var ne=document;return ne.fullscreenElement||ne.webkitFullscreenElement||ne.mozFullScreenElement?1:0},enable:function(ne){var Y="";return ne.requestFullscreen?ne.requestFullscreen():ne.webkitRequestFullscreen?(Y="webkit",ne.webkitRequestFullscreen()):ne.mozRequestFullScreen?(Y="moz",ne.mozRequestFullScreen()):ne.msRequestFullscreen?ne.msRequestFullscreen():console.warn("Fullscreen not supported"),Y},disable:function(){var ne=document;this.isEnabled()&&(ne.exitFullscreen?ne.exitFullscreen():ne.webkitExitFullscreen?ne.webkitExitFullscreen():ne.mozCancelFullScreen?ne.mozCancelFullScreen():ne.msExitFullscreen&&ne.msExitFullscreen())},fsChanged:function(ne,Y){var U=(ne||"")+"fullscreenchange";this.isEnabled()||(this.stop(null,this.sender),document.removeEventListener(U,this.fsChanged))},run:function(ne,Y){var U=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.sender=Y;var M=U.target,x=Object(Z.isElement)(M)?M:document.querySelector(M),c=this.enable(x||ne.getContainer());this.fsChanged=this.fsChanged.bind(this,c),document.addEventListener(c+"fullscreenchange",this.fsChanged),ne.trigger("change:canvasOffset")},stop:function(ne,Y){Y&&Y.set&&Y.set("active",!1),this.disable(),ne&&ne.trigger("change:canvasOffset")}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(0),ne=i(2),Y=i.n(ne),U=i(1),M=i(23),x=i(36),c=Y.a.$;oe.default=Object(Z.extend)({},x.default,M.default,{init:function(h){M.default.init.apply(this,arguments),Object(Z.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=h,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var h=arguments.length,u=new Array(h),p=0;p<h;p++)u[p]=arguments[p];M.default.enable.apply(this,u),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var f=this.$wrapper;f.css("cursor","move"),f.on("mousedown",this.initSorter),f.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(h){var u=c(h.target).data("model").get("draggable");u&&(this.cacheEl=null,this.startSelectPosition(h.target,this.frameEl.contentDocument),this.sorter.draggable=u,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),Object(U.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(h){var u=h.get("draggable");u&&(this.cacheEl=null,this.startSelectPosition(h.view.el,this.frameEl.contentDocument),this.sorter.draggable=u,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),Object(U.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModels:function(h){this.cacheEl=null;var u=h[h.length-1],p=(this.em.get("currentFrame")||{}).model,f=u.getEl(p);this.startSelectPosition(f,f.ownerDocument,{onStart:this.onStart}),this.sorter.draggable=u.get("draggable"),this.sorter.toMove=h,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),Object(U.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){Object(U.off)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),Object(U.off)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(h,u){},rollback:function(h,u){(27==(h.which||h.keyCode)||u)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=c(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=c(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var h=arguments.length,u=new Array(h),p=0;p<h;p++)u[p]=arguments[p];M.default.stop.apply(this,u),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass);var f=this.$wrapper;f.css("cursor","").unbind().removeClass(this.noSelClass)}})},function($e,oe,i){"use strict";i.r(oe);var Z=i(0),ne=i(13);oe.default={open:function(Y){var U=this,M=this.editor,x=this.title,h=this.am,u=this.config.custom;if(Object(Z.isFunction)(u.open))return u.open(h.__customData());M.Modal.open({title:x,content:Y}).onceClose(function(){return M.stopCommand(U.id)})},close:function(){var Y=this.config.custom;if(Object(Z.isFunction)(Y.close))return Y.close(this.am.__customData());var U=this.editor.Modal;U&&U.close()},run:function(Y,U){var M=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},x=Y.AssetManager,c=x.getConfig(),h=M.types,u=void 0===h?[]:h,p=M.accept,f=M.select;if(this.title=M.modalTitle||Y.t("assetManager.modalTitle")||"",this.editor=Y,this.config=c,this.am=x,x.setTarget(M.target),x.onClick(M.onClick),x.onDblClick(M.onDblClick),x.onSelect(M.onSelect),x.__behaviour({select:f,types:u,options:M}),c.custom)this.rendered=this.rendered||Object(ne.f)("div"),this.rendered.className="".concat(c.stylePrefix,"custom-wrp"),x.__behaviour({container:this.rendered}),x.__trgCustom();else{if(!this.rendered||u){var P=x.getAll().filter(function(b){return b});u&&u.length&&(P=P.filter(function(b){return-1!==u.indexOf(b.get("type"))})),x.render(P),this.rendered=x.getContainer()}if(p){var w=this.rendered.querySelector("input#".concat(c.stylePrefix,"uploadFile"));w&&w.setAttribute("accept",p)}}return this.open(this.rendered),this},stop:function(Y){this.editor=Y,this.close(this.rendered)}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(0),ne=i(13);oe.default={open:function(){var Y=this.container,U=this.editor,M=this.bm,x=this.config,c=x.custom,h=x.appendTo;if(Object(Z.isFunction)(c.open))return c.open(M.__customData());if(this.firstRender&&!h){var u="views-container",p=U.Panels;(p.getPanel(u)||p.addPanel({id:u})).set("appendContent",Y).trigger("change:appendContent"),c||Y.appendChild(M.render())}Y&&(Y.style.display="block")},close:function(){var Y=this.container,U=this.config.custom;if(Object(Z.isFunction)(U.close))return U.close(this.bm.__customData());Y&&(Y.style.display="none")},run:function(Y){var U=Y.Blocks;this.config=U.getConfig(),this.firstRender=!this.container,this.container=this.container||Object(ne.f)("div"),this.editor=Y,this.bm=U,U.__behaviour({container:this.container}),this.config.custom&&U.__trgCustom(),this.open()},stop:function(){this.close()}}},function($e,oe,i){"use strict";i.r(oe),oe.default={run:function(Z){var ne=Z.LayerManager,Y=Z.Panels;if(!ne.getConfig().appendTo){if(!this.layers){var U="views-container",M=document.createElement("div"),x=Y.getPanel(U)||Y.addPanel({id:U});M.appendChild(ne.render()),x.set("appendContent",M).trigger("change:appendContent"),this.layers=M}this.layers.style.display="block"}},stop:function(){var Z=this.layers;Z&&(Z.style.display="none")}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(2),ne=i.n(Z).a.$;oe.default={run:function(Y,U){if(this.sender=U,!this.$cn){var M=Y.getConfig(),x=Y.Panels,c="change:appendContent";this.$cn=ne("<div></div>"),this.$cn2=ne("<div></div>"),this.$cn.append(this.$cn2);var h=Y.DeviceManager;if(h&&M.showDevices){var u=x.addPanel({id:"devices-c"}),p=h.render();u.set("appendContent",p).trigger(c)}var f=Y.SelectorManager,P=f.getConfig();P.custom?f.__trgCustom({container:this.$cn2.get(0)}):P.appendTo||this.$cn2.append(f.render([]));var w=Y.StyleManager,b=w.getConfig();b.appendTo||(this.$cn2.append(w.render()),this.$header=ne('<div class="'.concat(b.stylePrefix,'header">').concat(Y.t("styleManager.empty"),"</div>")),this.$cn.append(this.$header));var R="views-container";this.panel=x.getPanel(R),this.panel||(this.panel=x.addPanel({id:R})),this.panel.set("appendContent",this.$cn).trigger(c),this.target=Y.editor,this.listenTo(this.target,"component:toggled",this.toggleSm)}this.toggleSm()},toggleSm:function(){var Y=this.target,U=this.sender;if(!U||!U.get||U.get("active")){var M=Y.get("SelectorManager").getConfig().componentFirst,x=Y.getSelectedAll().length;1===x||x>1&&M?(this.$cn2&&this.$cn2.show(),this.$header&&this.$header.hide()):(this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.show())}},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(2),ne=i.n(Z).a.$;oe.default={run:function(Y,U){this.sender=U;var M=Y.getModel(),x=Y.Config.stylePrefix,c=Y.TraitManager,h=c.getConfig();if(!h.appendTo){if(!this.$cn){this.$cn=ne("<div></div>"),this.$cn2=ne("<div></div>"),this.$cn.append(this.$cn2),this.$header=ne("<div>").append('<div class="'.concat(h.stylePrefix,'header">').concat(M.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),this.$cn2.append('<div class="'.concat(x,'traits-label">').concat(M.t("traitManager.label"),"</div>")),this.$cn2.append(c.render());var u=Y.Panels;(u.getPanel("views-container")?u.getPanel("views-container"):u.addPanel({id:"views-container"})).set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=Y.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var Y=this.sender;Y&&Y.get&&!Y.get("active")||(1===this.target.getSelectedAll().length?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(0);oe.default={run:function(ne){var Y=ne.getModel().get("clipboard"),U=ne.getSelected();Y&&U&&(ne.getSelectedAll().forEach(function(M){if(M){var x,c=M.collection,h=c.indexOf(M)+1,u=Y.filter(function(p){return p.get("copyable")});x=Object(Z.contains)(Y,M)&&M.get("copyable")?c.add(M.clone(),{at:h}):c.add(u.map(function(p){return p.clone()}),{at:h}),(x=Object(Z.isArray)(x)?x:[x]).forEach(function(p){return ne.trigger("component:paste",p)})}}),U.emitUpdate())}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(11),ne=i.n(Z),Y=i(0),U="sw-visibility";oe.default={getPanels:function(M){return this.panels||(this.panels=M.Panels.getPanels()),this.panels},preventDrag:function(M){M.abort=1},tglEffects:function(M){var x=this.em,c=M?"on":"off";if(x){var h=x.get("Canvas"),u=h.getBody(),p=h.getToolbarEl();p&&(p.style.display=M?"none":"");var f=u.querySelectorAll(".".concat(this.ppfx,"no-pointer"));Object(Y.each)(f,function(P){return P.style.pointerEvents=M?"all":""}),x[c]("run:tlb-move:before",this.preventDrag)}},run:function(M,x){var c=this;this.sender=x,this.selected=ne()(M.getSelectedAll()),M.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=M.Commands.isActive(U)),this.shouldRunSwVisibility&&M.stopCommand(U),M.getModel().stopDefault();var h=this.getPanels(M),u=M.Canvas.getElement(),p=M.getEl(),f=M.Config.stylePrefix;if(!this.helper){var P=document.createElement("span");P.className="".concat(f,"off-prv fa fa-eye-slash"),p.appendChild(P),P.onclick=function(){return c.stopCommand()},this.helper=P}this.helper.style.display="inline-block",h.forEach(function(b){return b.set("visible",!1)});var w=u.style;w.width="100%",w.height="100%",w.top="0",w.left="0",w.padding="0",w.margin="0",M.refresh(),this.tglEffects(1)},stop:function(M){var x=this.sender,c=void 0===x?{}:x,h=this.selected;c.set&&c.set("active",0);var u=this.getPanels(M);this.shouldRunSwVisibility&&(M.runCommand(U),this.shouldRunSwVisibility=!1),M.getModel().runDefault(),u.forEach(function(p){return p.set("visible",!0)}),M.Canvas.getElement().setAttribute("style",""),h&&M.select(h),delete this.selected,this.helper&&(this.helper.style.display="none"),M.refresh(),this.tglEffects()}}},function($e,oe,i){"use strict";i.r(oe),oe.default={run:function(Z,ne,Y){var U=Y||{},M=U.el||"",x=Z.Canvas,c=this.canvasResizer,h=U.options||{},u=x.getCanvasView();return h.appendTo=x.getResizerEl(),h.prefix=Z.getConfig().stylePrefix,h.posFetcher=u.getElementPos.bind(u),h.mousePosFetcher=x.getMouseRelativePos,c&&!U.forceNew||(this.canvasResizer=Z.Utils.Resizer.init(h),c=this.canvasResizer),c.setOptions(h),c.blur(),c.focus(M),c},stop:function(){var Z=this.canvasResizer;Z&&Z.blur()}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(3),ne=i.n(Z),Y=i(2),U=i.n(Y),M=i(0),x=i(1);function c(u,p){var f=Object.keys(u);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(u);p&&(P=P.filter(function(w){return Object.getOwnPropertyDescriptor(u,w).enumerable})),f.push.apply(f,P)}return f}var h=U.a.$;oe.default={getOffsetMethod:function(u){return"get"+(u||"")+"OffsetViewerEl"},run:function(u,p,f){var P=f||{},w=P.state||"",b=u.getConfig(),A=this.em.getZoomDecimal(),R=P.el||"";if(!b.showOffsets||Object(x.isTextNode)(R)||!b.showOffsetsSelected&&"Fixed"==w)u.stopCommand(this.id,f);else{var _=u.Canvas,k=function(G){for(var ae=1;ae<arguments.length;ae++){var Oe=null!=arguments[ae]?arguments[ae]:{};ae%2?c(Object(Oe),!0).forEach(function(ze){ne()(G,ze,Oe[ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(G,Object.getOwnPropertyDescriptors(Oe)):c(Object(Oe)).forEach(function(ze){Object.defineProperty(G,ze,Object.getOwnPropertyDescriptor(Oe,ze))})}return G}({},P.elPos||_.getElementPos(R));Object(M.isUndefined)(P.top)||(k.top=P.top),Object(M.isUndefined)(P.left)||(k.left=P.left);var T=window.getComputedStyle(R),C=this.ppfx,j=w+"State",N=_[this.getOffsetMethod(w)](f.view);N.style.opacity="";var H=this["marginT"+w],v=this["marginB"+w],d=this["marginL"+w],l=this["marginR"+w],y=this["padT"+w],g=this["padB"+w],L=this["padL"+w],K=this["padR"+w];if(N.childNodes.length&&(this[j]="1",H=N.querySelector("[data-offset-m-t]"),v=N.querySelector("[data-offset-m-b]"),d=N.querySelector("[data-offset-m-l]"),l=N.querySelector("[data-offset-m-r]"),y=N.querySelector("[data-offset-p-t]"),g=N.querySelector("[data-offset-p-b]"),L=N.querySelector("[data-offset-p-l]"),K=N.querySelector("[data-offset-p-r]")),!this[j]){var ee=w.toLowerCase(),De=ee+"margin-v",fe=ee+"padding-v",ce=h('<div class="'.concat(C,'marginName">')).get(0),Ce=h('<div class="'.concat(C,'paddingName">')).get(0),Se=C+fe+"-el",se="".concat(C+De+"-el"," ").concat(C+De),ue="".concat(Se," ").concat(C+fe);H=h('<div class="'.concat(se,'-top"></div>')).get(0),v=h('<div class="'.concat(se,'-bottom"></div>')).get(0),d=h('<div class="'.concat(se,'-left"></div>')).get(0),l=h('<div class="'.concat(se,'-right"></div>')).get(0),y=h('<div class="'.concat(ue,'-top"></div>')).get(0),g=h('<div class="'.concat(ue,'-bottom"></div>')).get(0),L=h('<div class="'.concat(ue,'-left"></div>')).get(0),K=h('<div class="'.concat(ue,'-right"></div>')).get(0),this["marginT"+w]=H,this["marginB"+w]=v,this["marginL"+w]=d,this["marginR"+w]=l,this["padT"+w]=y,this["padB"+w]=g,this["padL"+w]=L,this["padR"+w]=K,ce.appendChild(H),ce.appendChild(v),ce.appendChild(d),ce.appendChild(l),Ce.appendChild(y),Ce.appendChild(g),Ce.appendChild(L),Ce.appendChild(K),N.appendChild(ce),N.appendChild(Ce),this[j]="1"}var xe="px",re=parseFloat(T.marginLeft.replace(xe,""))*A,J=parseFloat(T.marginRight.replace(xe,""))*A,$=parseFloat(T.marginTop.replace(xe,""))*A,V=parseFloat(T.marginBottom.replace(xe,""))*A,S=H.style,O=v.style,z=d.style,n=l.style,m=y.style,s=g.style,E=L.style,W=K.style,pe=parseFloat(k.left),Ee=parseFloat(T.width)*A+xe;S.height=$+xe,S.width=Ee,S.top=k.top-$+xe,S.left=pe+xe,O.height=V+xe,O.width=Ee,O.top=k.top+k.height+xe,O.left=pe+xe;var be=k.height+$+V+xe,de=k.top-$+xe;z.height=be,z.width=re+xe,z.top=de,z.left=pe-re+xe,n.height=be,n.width=J+xe,n.top=de,n.left=pe+k.width+xe;var _e=parseFloat(T.paddingTop)*A;m.height=_e+xe;var Pe=parseFloat(T.paddingBottom)*A;s.height=Pe+xe;var He=k.height-Pe-_e+xe,ut=k.top+_e+xe;E.height=He,E.width=parseFloat(T.paddingLeft)*A+xe,E.top=ut;var rt=parseFloat(T.paddingRight)*A;W.height=He,W.width=rt+xe,W.top=ut}},stop:function(u,p){var f=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},P=f||{},w=P.state||"",b=this.getOffsetMethod(w),A=u.Canvas,R=A[b](f.view);R.style.opacity=0}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(0);oe.default={init:function(){Object(Z.bindAll)(this,"_onFramesChange")},run:function(ne){this.toggleVis(ne)},stop:function(ne){this.toggleVis(ne,0)},toggleVis:function(ne){var Y=this,U=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(!ne.Commands.isActive("preview")){var M=ne.Canvas,x=U?"on":"off";M.getFrames().forEach(function(c){return Y._upFrame(c,U)}),M.getModel()[x]("change:frames",this._onFramesChange)}},_onFramesChange:function(ne,Y){var U=this;Y.forEach(function(M){return U._upFrame(M,1)})},_upFrame:function(ne,Y){var U=Y?"add":"remove";ne.view.getBody().classList[U]("".concat(this.ppfx,"dashed"))}}},function($e,oe,i){var Z,ne,Y;ne=[i(0),i(2)],void 0===(Y="function"==typeof(Z=function(U,M){var x=Array.prototype.slice;function c(v,d,l){return l.length<=4?v.call(d,l[0],l[1],l[2],l[3]):v.apply(d,l)}function h(v,d){return x.call(v,d)}function u(v,d){return null!=v&&(U.isArray(d)||(d=h(arguments,1)),U.all(d,function(l){return l in v}))}var p,f,P=(p=!1,f=-1,function(){return p||(f++,p=!0,U.defer(function(){p=!1})),f});function w(){this.registeredObjects=[],this.cidIndexes=[]}function b(v,d,l,y){for(var g,L=0,K=d.length;L<K;L++)if(g=d[L]){if("on"===v){if(!y.objectRegistry.register(g))continue}else if(!y.objectRegistry.unregister(g))continue;U.isFunction(g[v])&&g[v]("all",l,y)}}function A(v,d){var l=d.type,y=d.undoTypes,g=!y[l]||y[l][v];U.isFunction(g)&&g(d.object,d.before,d.after,d.options)}function R(v,d,l,y,g){if(!(l.isCurrentlyUndoRedoing||"undo"===v&&-1===l.pointer||"redo"===v&&l.pointer===l.length-1)){l.isCurrentlyUndoRedoing=!0;var L,K,ee="undo"===v;for(g?K=ee&&l.pointer===l.length-1||!ee&&-1===l.pointer?U.clone(l.models):x.apply(l.models,ee?[0,l.pointer]:[l.pointer,l.length-1]):(L=l.at(ee?l.pointer:l.pointer+1),K=y?l.where({magicFusionIndex:L.get("magicFusionIndex")}):[L]),l.pointer+=(ee?-1:1)*K.length;L=ee?K.pop():K.shift();)L[v]();l.isCurrentlyUndoRedoing=!1,d.trigger(v,d)}}function _(v,d,l,y){if(v.track&&!v.isCurrentlyUndoRedoing&&d in y&&("function"==(fe=typeof(De=(K=y[d]).condition))?c(De,K,l):"boolean"!==fe||De)){var g=c(y[d].on,y[d],l);if(u(g,"object","before","after")){if(g.type=d,g.magicFusionIndex=P(),g.undoTypes=y,v.pointer<v.length-1)for(var L=v.length-v.pointer-1;L--;)v.pop();v.pointer=v.length,v.add(g),v.length>v.maximumStackLength&&(v.shift(),v.pointer--)}}var K,De,fe}w.prototype={isRegistered:function(v){return v&&v.cid?this.registeredObjects[v.cid]:U.contains(this.registeredObjects,v)},register:function(v){return!this.isRegistered(v)&&(v&&v.cid?(this.registeredObjects[v.cid]=v,this.cidIndexes.push(v.cid)):this.registeredObjects.push(v),!0)},unregister:function(v){if(this.isRegistered(v)){if(v&&v.cid)delete this.registeredObjects[v.cid],this.cidIndexes.splice(U.indexOf(this.cidIndexes,v.cid),1);else{var d=U.indexOf(this.registeredObjects,v);this.registeredObjects.splice(d,1)}return!0}return!1},get:function(){return U.map(this.cidIndexes,function(v){return this.registeredObjects[v]},this).concat(this.registeredObjects)}};var k={add:{undo:function(v,d,l,y){v.remove(l,y)},redo:function(v,d,l,y){y.index&&(y.at=y.index),v.add(l,y)},on:function(v,d,l){return{object:d,before:void 0,after:v,options:U.clone(l)}}},remove:{undo:function(v,d,l,y){"index"in y&&(y.at=y.index),v.add(d,y)},redo:function(v,d,l,y){v.remove(d,y)},on:function(v,d,l){return{object:d,before:v,after:void 0,options:U.clone(l)}}},change:{undo:function(v,d,l,y){U.isEmpty(d)?U.each(U.keys(l),v.unset,v):(v.set(d),y&&y.unsetData&&y.unsetData.before&&y.unsetData.before.length&&U.each(y.unsetData.before,v.unset,v))},redo:function(v,d,l,y){U.isEmpty(l)?U.each(U.keys(d),v.unset,v):(v.set(l),y&&y.unsetData&&y.unsetData.after&&y.unsetData.after.length&&U.each(y.unsetData.after,v.unset,v))},on:function(v,d){var l=v.changedAttributes(),y=U.keys(l),g=U.pick(v.previousAttributes(),y),L=U.keys(g),K=(d||(d={})).unsetData={after:[],before:[]};return y.length!=L.length&&(y.length>L.length?U.each(y,function(ee){ee in g||K.before.push(ee)},this):U.each(L,function(ee){ee in l||K.after.push(ee)})),{object:v,before:g,after:l,options:U.clone(d)}}},reset:{undo:function(v,d,l){v.reset(d)},redo:function(v,d,l){v.reset(l)},on:function(v,d){return{object:v,before:d.previousModels,after:U.clone(v.models)}}}};function T(){}function C(v,d,l,y){if("object"==typeof d)return U.each(d,function(g,L){2===v?C(v,g,l,y):C(v,L,g,l)});switch(v){case 0:u(l,"undo","redo","on")&&U.all(U.pick(l,"undo","redo","on"),U.isFunction)&&(y[d]=l);break;case 1:y[d]&&U.isObject(l)&&(y[d]=U.extend({},y[d],l));break;case 2:delete y[d]}return this}T.prototype=k;var j=M.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(v){A("undo",this.attributes)},redo:function(v){A("redo",this.attributes)}}),N=M.Collection.extend({model:j,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(v){this.maximumStackLength=v}}),H=M.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(v){this.stack=new N,this.objectRegistry=new w,this.undoTypes=new T,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(d,l){this.stack.setMaxLength(l)},this),v&&v.track&&this.startTracking(),v&&v.register&&(U.isArray(v.register)||U.isArguments(v.register)?c(this.register,this,v.register):this.register(v.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(v){_(this.stack,v,h(arguments,1),this.undoTypes)},register:function(){b("on",arguments,this._addToStack,this)},unregister:function(){b("off",arguments,this._addToStack,this)},unregisterAll:function(){c(this.unregister,this,this.objectRegistry.get())},undo:function(v){R("undo",this,this.stack,v)},undoAll:function(){R("undo",this,this.stack,!1,!0)},redo:function(v){R("redo",this,this.stack,v)},redoAll:function(){R("redo",this,this.stack,!1,!0)},isAvailable:function(v){var d=this.stack,l=d.length;switch(v){case"undo":return l>0&&d.pointer>-1;case"redo":return l>0&&d.pointer<l-1;default:return!1}},merge:function(v){for(var d,l=U.isArray(v)?v:h(arguments);d=l.pop();)d instanceof H&&d.stack instanceof N&&(d.stack=this.stack)},addUndoType:function(v,d){C(0,v,d,this.undoTypes)},changeUndoType:function(v,d){C(1,v,d,this.undoTypes)},removeUndoType:function(v){C(2,v,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return U.extend(H,{defaults:function(v){U.extend(H.prototype.defaults,v)},addUndoType:function(v,d){C(0,v,d,k)},changeUndoType:function(v,d){C(1,v,d,k)},removeUndoType:function(v){C(2,v,void 0,k)}}),M.UndoManager=H})?Z.apply(oe,ne):Z)||($e.exports=Y)},function($e,oe,i){"use strict";oe.a=function(Z){var ne=this.constructor;return this.then(function(Y){return ne.resolve(Z()).then(function(){return Y})},function(Y){return ne.resolve(Z()).then(function(){return ne.reject(Y)})})}},function($e,oe,i){"use strict";var Z=i(14),ne=i.n(Z);oe.a=function(Y){return new this(function(U,M){if(!Y||void 0===Y.length)return M(new TypeError(ne()(Y)+" "+Y+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var x=Array.prototype.slice.call(Y);if(0===x.length)return U([]);var c=x.length;function h(p,f){if(f&&("object"===ne()(f)||"function"==typeof f)){var P=f.then;if("function"==typeof P)return void P.call(f,function(w){h(p,w)},function(w){x[p]={status:"rejected",reason:w},0==--c&&U(x)})}x[p]={status:"fulfilled",value:f},0==--c&&U(x)}for(var u=0;u<x.length;u++)h(u,x[u])})}},function($e,oe,i){var Z=i(49);$e.exports=function(ne){if(Array.isArray(ne))return Z(ne)},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe){$e.exports=function(i){if("undefined"!=typeof Symbol&&null!=i[Symbol.iterator]||null!=i["@@iterator"])return Array.from(i)},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe){$e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe){$e.exports=function(i,Z){if(null==i)return{};var ne,Y,U={},M=Object.keys(i);for(Y=0;Y<M.length;Y++)Z.indexOf(ne=M[Y])>=0||(U[ne]=i[ne]);return U},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe,i){"use strict";i.r(oe);var Z=i(3),ne=i.n(Z),Y=i(76),U=i.n(Y),M=i(0);function x(h,u){var p=Object.keys(h);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(h);u&&(f=f.filter(function(P){return Object.getOwnPropertyDescriptor(h,P).enumerable})),p.push.apply(p,f)}return p}function c(h){for(var u=1;u<arguments.length;u++){var p=null!=arguments[u]?arguments[u]:{};u%2?x(Object(p),!0).forEach(function(f){ne()(h,f,p[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(p)):x(Object(p)).forEach(function(f){Object.defineProperty(h,f,Object.getOwnPropertyDescriptor(p,f))})}return h}oe.default=function(){var h,u,p,f,P={maximumStackLength:500,trackSelection:1},w=function(A){return A.avoidStore||A.noUndo},b=function(A){return Object.keys(A.changedAttributes())};return{name:"UndoManager",init:function(){var A=this,R=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p=c(c({},P),R),this.em=h=p.em;var _=!0;return(u=new U.a(c({track:!0,register:[]},p))).changeUndoType("change",{condition:function(k){var T=k.get("_undo");if(T){var C=k.get("_undoexc");if(Object(M.isArray)(C)&&b(k).some(function(j){return C.indexOf(j)>=0}))return!1;if(Object(M.isBoolean)(T)||Object(M.isArray)(T)&&b(k).some(function(j){return T.indexOf(j)>=0}))return!0}return!1},on:function(k,T,C){!f&&(f=k.previousAttributes());var j=C||T||{};if(j.noUndo&&setTimeout(function(){f=null}),!w(j)){var N=k.toJSON({fromUndo:_}),H={object:k,before:f,after:N};if(f=null,!Object(M.isEmpty)(N))return H}}}),u.changeUndoType("add",{on:function(k,T){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!w(C)&&A.isRegistered(T))return{object:T,before:void 0,after:k,options:c(c({},C),{},{fromUndo:_})}}}),u.changeUndoType("remove",{on:function(k,T){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!w(C)&&A.isRegistered(T))return{object:T,before:k,after:void 0,options:c(c({},C),{},{fromUndo:_})}}}),u.on("undo redo",function(){h.trigger("component:toggled change:canvasOffset"),h.getSelectedAll().map(function(k){return k.trigger("rerender:layer")})}),["undo","redo"].forEach(function(k){return u.on(k,function(){return h.trigger(k)})}),this},postLoad:function(){p.trackSelection&&h&&this.add(h.get("selected"))},getConfig:function(){return p},add:function(A){return u.register(A),this},remove:function(A){return u.unregister(A),this},removeAll:function(){return u.unregisterAll(),this},start:function(){return u.startTracking(),this},stop:function(){return u.stopTracking(),this},undo:function(){var A=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!h.isEditing()&&u.undo(A),this},undoAll:function(){return u.undoAll(),this},redo:function(){var A=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return!h.isEditing()&&u.redo(A),this},redoAll:function(){return u.redoAll(),this},hasUndo:function(){return u.isAvailable("undo")},hasRedo:function(){return u.isAvailable("redo")},isRegistered:function(A){return!!this.getInstance().objectRegistry.isRegistered(A)},getStack:function(){return u.stack},getStackGroup:function(){var A=[],R=[];return this.getStack().forEach(function(_){var k=_.get("magicFusionIndex");R.indexOf(k)<0&&(R.push(k),A.push(_))}),A},__getStackRead:function(){var A={};return this.getStack().forEach(function(R){var C,_=R.get("magicFusionIndex"),k={type:(C=R.attributes).type,after:C.after,before:C.before,object:C.object};A[_]?A[_].push(k):A[_]=[k]}),Object.keys(A).map(function(R){return A[R]})},getPointer:function(){return this.getStack().pointer},clear:function(){return u.clear(),this},getInstance:function(){return u},destroy:function(){this.clear().removeAll(),[h,u,p,f].forEach(function(A){return{}}),this.em={}}}}},function($e,oe,i){(function(Z){var ne=void 0!==Z&&Z||"undefined"!=typeof self&&self||window,Y=Function.prototype.apply;function U(M,x){this._id=M,this._clearFn=x}oe.setTimeout=function(){return new U(Y.call(setTimeout,ne,arguments),clearTimeout)},oe.setInterval=function(){return new U(Y.call(setInterval,ne,arguments),clearInterval)},oe.clearTimeout=oe.clearInterval=function(M){M&&M.close()},U.prototype.unref=U.prototype.ref=function(){},U.prototype.close=function(){this._clearFn.call(ne,this._id)},oe.enroll=function(M,x){clearTimeout(M._idleTimeoutId),M._idleTimeout=x},oe.unenroll=function(M){clearTimeout(M._idleTimeoutId),M._idleTimeout=-1},oe._unrefActive=oe.active=function(M){clearTimeout(M._idleTimeoutId);var x=M._idleTimeout;x>=0&&(M._idleTimeoutId=setTimeout(function(){M._onTimeout&&M._onTimeout()},x))},i(85),oe.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==Z&&Z.setImmediate||this&&this.setImmediate,oe.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==Z&&Z.clearImmediate||this&&this.clearImmediate}).call(this,i(35))},function($e,oe,i){(function(Z,ne){!function(Y,U){"use strict";if(!Y.setImmediate){var M,x,c,h,u,p=1,f={},P=!1,w=Y.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(Y);b=b&&b.setTimeout?b:Y,"[object process]"==={}.toString.call(Y.process)?M=function(_){ne.nextTick(function(){R(_)})}:function(){if(Y.postMessage&&!Y.importScripts){var _=!0,k=Y.onmessage;return Y.onmessage=function(){_=!1},Y.postMessage("","*"),Y.onmessage=k,_}}()?(h="setImmediate$"+Math.random()+"$",u=function(_){_.source===Y&&"string"==typeof _.data&&0===_.data.indexOf(h)&&R(+_.data.slice(h.length))},Y.addEventListener?Y.addEventListener("message",u,!1):Y.attachEvent("onmessage",u),M=function(_){Y.postMessage(h+_,"*")}):Y.MessageChannel?((c=new MessageChannel).port1.onmessage=function(_){R(_.data)},M=function(_){c.port2.postMessage(_)}):w&&"onreadystatechange"in w.createElement("script")?(x=w.documentElement,M=function(_){var k=w.createElement("script");k.onreadystatechange=function(){R(_),k.onreadystatechange=null,x.removeChild(k),k=null},x.appendChild(k)}):M=function(_){setTimeout(R,0,_)},b.setImmediate=function(_){"function"!=typeof _&&(_=new Function(""+_));for(var k=new Array(arguments.length-1),T=0;T<k.length;T++)k[T]=arguments[T+1];var C={callback:_,args:k};return f[p]=C,M(p),p++},b.clearImmediate=A}function A(_){delete f[_]}function R(_){if(P)setTimeout(R,0,_);else{var k=f[_];if(k){P=!0;try{!function(T){var C=T.callback,j=T.args;switch(j.length){case 0:C();break;case 1:C(j[0]);break;case 2:C(j[0],j[1]);break;case 3:C(j[0],j[1],j[2]);break;default:C.apply(void 0,j)}}(k)}finally{A(_),P=!1}}}}}("undefined"==typeof self?void 0===Z?this:Z:self)}).call(this,i(35),i(86))},function($e,oe){var i,Z,ne=$e.exports={};function Y(){throw new Error("setTimeout has not been defined")}function U(){throw new Error("clearTimeout has not been defined")}function M(b){if(i===setTimeout)return setTimeout(b,0);if((i===Y||!i)&&setTimeout)return i=setTimeout,setTimeout(b,0);try{return i(b,0)}catch(A){try{return i.call(null,b,0)}catch(R){return i.call(this,b,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:Y}catch(b){i=Y}try{Z="function"==typeof clearTimeout?clearTimeout:U}catch(b){Z=U}}();var x,c=[],h=!1,u=-1;function p(){h&&x&&(h=!1,x.length?c=x.concat(c):u=-1,c.length&&f())}function f(){if(!h){var b=M(p);h=!0;for(var A=c.length;A;){for(x=c,c=[];++u<A;)x&&x[u].run();u=-1,A=c.length}x=null,h=!1,function(R){if(Z===clearTimeout)return clearTimeout(R);if((Z===U||!Z)&&clearTimeout)return Z=clearTimeout,clearTimeout(R);try{Z(R)}catch(_){try{return Z.call(null,R)}catch(k){return Z.call(this,R)}}}(b)}}function P(b,A){this.fun=b,this.array=A}function w(){}ne.nextTick=function(b){var A=new Array(arguments.length-1);if(arguments.length>1)for(var R=1;R<arguments.length;R++)A[R-1]=arguments[R];c.push(new P(b,A)),1!==c.length||h||M(f)},P.prototype.run=function(){this.fun.apply(null,this.array)},ne.title="browser",ne.browser=!0,ne.env={},ne.argv=[],ne.version="",ne.versions={},ne.on=w,ne.addListener=w,ne.once=w,ne.off=w,ne.removeListener=w,ne.removeAllListeners=w,ne.emit=w,ne.prependListener=w,ne.prependOnceListener=w,ne.listeners=function(b){return[]},ne.binding=function(b){throw new Error("process.binding is not supported")},ne.cwd=function(){return"/"},ne.chdir=function(b){throw new Error("process.chdir is not supported")},ne.umask=function(){return 0}},function($e,oe){function i(Z,ne){return $e.exports=i=Object.setPrototypeOf||function(Y,U){return Y.__proto__=U,Y},$e.exports.default=$e.exports,$e.exports.__esModule=!0,i(Z,ne)}$e.exports=i,$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe){$e.exports=function(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe,i){!function(Z){"use strict";var ne={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]},Y={};function U(c,h){var p,u=c.match(Y[p=h]||(Y[p]=new RegExp("\\s+"+p+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*")));return u?/^\s*(.*?)\s*$/.exec(u[2])[1]:""}function M(c,h){return new RegExp((h?"^":"")+"</s*"+c+"s*>","i")}function x(c,h){for(var u in c)for(var p=h[u]||(h[u]=[]),f=c[u],P=f.length-1;P>=0;P--)p.unshift(f[P])}Z.defineMode("htmlmixed",function(c,h){var u=Z.getMode(c,{name:"xml",htmlMode:!0,multilineTagIndentFactor:h.multilineTagIndentFactor,multilineTagIndentPastTag:h.multilineTagIndentPastTag,allowMissingTagName:h.allowMissingTagName}),p={},f=h&&h.tags,P=h&&h.scriptTypes;if(x(ne,p),f&&x(f,p),P)for(var w=P.length-1;w>=0;w--)p.script.unshift(["type",P[w].matches,P[w].mode]);function b(A,R){var _,k=u.token(A,R.htmlState),T=/\btag\b/.test(k);if(T&&!/[<>\s\/]/.test(A.current())&&(_=R.htmlState.tagName&&R.htmlState.tagName.toLowerCase())&&p.hasOwnProperty(_))R.inTag=_+" ";else if(R.inTag&&T&&/>$/.test(A.current())){var C=/^([\S]+) (.*)/.exec(R.inTag);R.inTag=null;var j=">"==A.current()&&function(d,l){for(var y=0;y<d.length;y++){var g=d[y];if(!g[0]||g[1].test(U(l,g[0])))return g[2]}}(p[C[1]],C[2]),N=Z.getMode(c,j),H=M(C[1],!0),v=M(C[1],!1);R.token=function(d,l){return d.match(H,!1)?(l.token=b,l.localState=l.localMode=null,null):(y=d,g=v,L=l.localMode.token(d,l.localState),(ee=(K=y.current()).search(g))>-1?y.backUp(K.length-ee):K.match(/<\/?$/)&&(y.backUp(K.length),y.match(g,!1)||y.match(K)),L);var y,g,L,K,ee},R.localMode=N,R.localState=Z.startState(N,u.indent(R.htmlState,"",""))}else R.inTag&&(R.inTag+=A.current(),A.eol()&&(R.inTag+=" "));return k}return{startState:function(){return{token:b,inTag:null,localMode:null,localState:null,htmlState:Z.startState(u)}},copyState:function(A){var R;return A.localState&&(R=Z.copyState(A.localMode,A.localState)),{token:A.token,inTag:A.inTag,localMode:A.localMode,localState:R,htmlState:Z.copyState(u,A.htmlState)}},token:function(A,R){return R.token(A,R)},indent:function(A,R,_){return!A.localMode||/^\s*<\//.test(R)?u.indent(A.htmlState,R,_):A.localMode.indent?A.localMode.indent(A.localState,R,_):Z.Pass},innerMode:function(A){return{state:A.localState||A.htmlState,mode:A.localMode||u}}}},"xml","javascript","css"),Z.defineMIME("text/html","htmlmixed")}(i(27),i(90),i(91),i(51))},function($e,oe,i){!function(Z){"use strict";var ne={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},Y={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};Z.defineMode("xml",function(U,M){var x,c,h=U.indentUnit,u={},p=M.htmlMode?ne:Y;for(var f in p)u[f]=p[f];for(var f in M)u[f]=M[f];function P(g,L){function K(De){return L.tokenize=De,De(g,L)}var ee=g.next();return"<"==ee?g.eat("!")?g.eat("[")?g.match("CDATA[")?K(b("atom","]]>")):null:g.match("--")?K(b("comment","--\x3e")):g.match("DOCTYPE",!0,!0)?(g.eatWhile(/[\w\._\-]/),K(function De(fe){return function(ce,Ce){for(var Se;null!=(Se=ce.next());){if("<"==Se)return Ce.tokenize=De(fe+1),Ce.tokenize(ce,Ce);if(">"==Se){if(1==fe){Ce.tokenize=P;break}return Ce.tokenize=De(fe-1),Ce.tokenize(ce,Ce)}}return"meta"}}(1))):null:g.eat("?")?(g.eatWhile(/[\w\._\-]/),L.tokenize=b("meta","?>"),"meta"):(x=g.eat("/")?"closeTag":"openTag",L.tokenize=w,"tag bracket"):"&"==ee?(g.eat("#")?g.eat("x")?g.eatWhile(/[a-fA-F\d]/)&&g.eat(";"):g.eatWhile(/[\d]/)&&g.eat(";"):g.eatWhile(/[\w\.\-:]/)&&g.eat(";"))?"atom":"error":(g.eatWhile(/[^&<]/),null)}function w(g,L){var K,ee,De=g.next();if(">"==De||"/"==De&&g.eat(">"))return L.tokenize=P,x=">"==De?"endTag":"selfcloseTag","tag bracket";if("="==De)return x="equals",null;if("<"==De){L.tokenize=P,L.state=T,L.tagName=L.tagStart=null;var fe=L.tokenize(g,L);return fe?fe+" tag error":"tag error"}return/[\'\"]/.test(De)?(L.tokenize=(K=De,(ee=function(ce,Ce){for(;!ce.eol();)if(ce.next()==K){Ce.tokenize=w;break}return"string"}).isInAttribute=!0,ee),L.stringStartCol=g.column(),L.tokenize(g,L)):(g.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function b(g,L){return function(K,ee){for(;!K.eol();){if(K.match(L)){ee.tokenize=P;break}K.next()}return g}}function A(g){return g&&g.toLowerCase()}function R(g,L,K){this.prev=g.context,this.tagName=L||"",this.indent=g.indented,this.startOfLine=K,(u.doNotIndent.hasOwnProperty(L)||g.context&&g.context.noIndent)&&(this.noIndent=!0)}function _(g){g.context&&(g.context=g.context.prev)}function k(g,L){for(var K;;){if(!g.context||!u.contextGrabbers.hasOwnProperty(A(K=g.context.tagName))||!u.contextGrabbers[A(K)].hasOwnProperty(A(L)))return;_(g)}}function T(g,L,K){return"openTag"==g?(K.tagStart=L.column(),C):"closeTag"==g?j:T}function C(g,L,K){return"word"==g?(K.tagName=L.current(),c="tag",v):u.allowMissingTagName&&"endTag"==g?(c="tag bracket",v(g,0,K)):(c="error",C)}function j(g,L,K){if("word"==g){var ee=L.current();return K.context&&K.context.tagName!=ee&&u.implicitlyClosed.hasOwnProperty(A(K.context.tagName))&&_(K),K.context&&K.context.tagName==ee||!1===u.matchClosing?(c="tag",N):(c="tag error",H)}return u.allowMissingTagName&&"endTag"==g?(c="tag bracket",N(g,0,K)):(c="error",H)}function N(g,L,K){return"endTag"!=g?(c="error",N):(_(K),T)}function H(g,L,K){return c="error",N(g,0,K)}function v(g,L,K){if("word"==g)return c="attribute",d;if("endTag"==g||"selfcloseTag"==g){var ee=K.tagName,De=K.tagStart;return K.tagName=K.tagStart=null,"selfcloseTag"==g||u.autoSelfClosers.hasOwnProperty(A(ee))?k(K,ee):(k(K,ee),K.context=new R(K,ee,De==K.indented)),T}return c="error",v}function d(g,L,K){return"equals"==g?l:(u.allowMissing||(c="error"),v(g,0,K))}function l(g,L,K){return"string"==g?y:"word"==g&&u.allowUnquoted?(c="string",v):(c="error",v(g,0,K))}function y(g,L,K){return"string"==g?y:v(g,0,K)}return P.isInText=!0,{startState:function(g){var L={tokenize:P,state:T,indented:g||0,tagName:null,tagStart:null,context:null};return null!=g&&(L.baseIndent=g),L},token:function(g,L){if(!L.tagName&&g.sol()&&(L.indented=g.indentation()),g.eatSpace())return null;x=null;var K=L.tokenize(g,L);return(K||x)&&"comment"!=K&&(c=null,L.state=L.state(x||K,g,L),c&&(K="error"==c?K+" error":c)),K},indent:function(g,L,K){var ee=g.context;if(g.tokenize.isInAttribute)return g.tagStart==g.indented?g.stringStartCol+1:g.indented+h;if(ee&&ee.noIndent)return Z.Pass;if(g.tokenize!=w&&g.tokenize!=P)return K?K.match(/^(\s*)/)[0].length:0;if(g.tagName)return!1!==u.multilineTagIndentPastTag?g.tagStart+g.tagName.length+2:g.tagStart+h*(u.multilineTagIndentFactor||1);if(u.alignCDATA&&/<!\[CDATA\[/.test(L))return 0;var De=L&&/^<(\/)?([\w_:\.-]*)/.exec(L);if(De&&De[1])for(;ee;){if(ee.tagName==De[2]){ee=ee.prev;break}if(!u.implicitlyClosed.hasOwnProperty(A(ee.tagName)))break;ee=ee.prev}else if(De)for(;ee;){var fe=u.contextGrabbers[A(ee.tagName)];if(!fe||!fe.hasOwnProperty(A(De[2])))break;ee=ee.prev}for(;ee&&ee.prev&&!ee.startOfLine;)ee=ee.prev;return ee?ee.indent+h:g.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:u.htmlMode?"html":"xml",helperType:u.htmlMode?"html":"xml",skipAttribute:function(g){g.state==l&&(g.state=v)},xmlCurrentTag:function(g){return g.tagName?{name:g.tagName,close:"closeTag"==g.type}:null},xmlCurrentContext:function(g){for(var L=[],K=g.context;K;K=K.prev)L.push(K.tagName);return L.reverse()}}}),Z.defineMIME("text/xml","xml"),Z.defineMIME("application/xml","xml"),Z.mimeModes.hasOwnProperty("text/html")||Z.defineMIME("text/html",{name:"xml",htmlMode:!0})}(i(27))},function($e,oe,i){!function(Z){"use strict";Z.defineMode("javascript",function(ne,Y){var U,M,x=ne.indentUnit,c=Y.statementIndent,h=Y.jsonld,u=Y.json||h,p=!1!==Y.trackScope,f=Y.typescript,P=Y.wordCharacters||/[\w$\xa1-\uffff]/,w=function(){function I(mt){return{type:mt,style:"keyword"}}var q=I("keyword a"),ge=I("keyword b"),Te=I("keyword c"),at=I("keyword d"),yt=I("operator"),bt={type:"atom",style:"atom"};return{if:I("if"),while:q,with:q,else:ge,do:ge,try:ge,finally:ge,return:at,break:at,continue:at,new:I("new"),delete:Te,void:Te,throw:Te,debugger:I("debugger"),var:I("var"),const:I("var"),let:I("var"),function:I("function"),catch:I("catch"),for:I("for"),switch:I("switch"),case:I("case"),default:I("default"),in:yt,typeof:yt,instanceof:yt,true:bt,false:bt,null:bt,undefined:bt,NaN:bt,Infinity:bt,this:I("this"),class:I("class"),super:I("atom"),yield:Te,export:I("export"),import:I("import"),extends:Te,await:Te}}(),b=/[+\-*&%=<>!?|~^@]/,A=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function R(I,q,ge){return U=I,M=ge,q}function _(I,q){var ge,Te=I.next();if('"'==Te||"'"==Te)return q.tokenize=(ge=Te,function(bt,mt){var wt,Ht=!1;if(h&&"@"==bt.peek()&&bt.match(A))return mt.tokenize=_,R("jsonld-keyword","meta");for(;null!=(wt=bt.next())&&(wt!=ge||Ht);)Ht=!Ht&&"\\"==wt;return Ht||(mt.tokenize=_),R("string","string")}),q.tokenize(I,q);if("."==Te&&I.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return R("number","number");if("."==Te&&I.match(".."))return R("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(Te))return R(Te);if("="==Te&&I.eat(">"))return R("=>","operator");if("0"==Te&&I.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return R("number","number");if(/\d/.test(Te))return I.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),R("number","number");if("/"==Te)return I.eat("*")?(q.tokenize=k,k(I,q)):I.eat("/")?(I.skipToEnd(),R("comment","comment")):mn(I,q,1)?(function(bt){for(var mt,wt=!1,Ht=!1;null!=(mt=bt.next());){if(!wt){if("/"==mt&&!Ht)return;"["==mt?Ht=!0:Ht&&"]"==mt&&(Ht=!1)}wt=!wt&&"\\"==mt}}(I),I.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),R("regexp","string-2")):(I.eat("="),R("operator","operator",I.current()));if("`"==Te)return q.tokenize=T,T(I,q);if("#"==Te&&"!"==I.peek())return I.skipToEnd(),R("meta","meta");if("#"==Te&&I.eatWhile(P))return R("variable","property");if("<"==Te&&I.match("!--")||"-"==Te&&I.match("->")&&!/\S/.test(I.string.slice(0,I.start)))return I.skipToEnd(),R("comment","comment");if(b.test(Te))return">"==Te&&q.lexical&&">"==q.lexical.type||(I.eat("=")?"!"!=Te&&"="!=Te||I.eat("="):/[<>*+\-|&?]/.test(Te)&&(I.eat(Te),">"==Te&&I.eat(Te))),"?"==Te&&I.eat(".")?R("."):R("operator","operator",I.current());if(P.test(Te)){I.eatWhile(P);var at=I.current();if("."!=q.lastType){if(w.propertyIsEnumerable(at)){var yt=w[at];return R(yt.type,yt.style,at)}if("async"==at&&I.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return R("async","keyword",at)}return R("variable","variable",at)}}function k(I,q){for(var ge,Te=!1;ge=I.next();){if("/"==ge&&Te){q.tokenize=_;break}Te="*"==ge}return R("comment","comment")}function T(I,q){for(var ge,Te=!1;null!=(ge=I.next());){if(!Te&&("`"==ge||"$"==ge&&I.eat("{"))){q.tokenize=_;break}Te=!Te&&"\\"==ge}return R("quasi","string-2",I.current())}function j(I,q){q.fatArrowAt&&(q.fatArrowAt=null);var ge=I.string.indexOf("=>",I.start);if(!(ge<0)){if(f){var Te=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(I.string.slice(I.start,ge));Te&&(ge=Te.index)}for(var at=0,yt=!1,bt=ge-1;bt>=0;--bt){var mt=I.string.charAt(bt),wt="([{}])".indexOf(mt);if(wt>=0&&wt<3){if(!at){++bt;break}if(0==--at){"("==mt&&(yt=!0);break}}else if(wt>=3&&wt<6)++at;else if(P.test(mt))yt=!0;else if(/["'\/`]/.test(mt))for(;;--bt){if(0==bt)return;if(I.string.charAt(bt-1)==mt&&"\\"!=I.string.charAt(bt-2)){bt--;break}}else if(yt&&!at){++bt;break}}yt&&!at&&(q.fatArrowAt=bt)}}var N={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function H(I,q,ge,Te,at,yt){this.indented=I,this.column=q,this.type=ge,this.prev=at,this.info=yt,null!=Te&&(this.align=Te)}function v(I,q){if(!p)return!1;for(var ge=I.localVars;ge;ge=ge.next)if(ge.name==q)return!0;for(var Te=I.context;Te;Te=Te.prev)for(ge=Te.vars;ge;ge=ge.next)if(ge.name==q)return!0}function d(I,q,ge,Te,at){var yt=I.cc;for(l.state=I,l.stream=at,l.marked=null,l.cc=yt,l.style=q,I.lexical.hasOwnProperty("align")||(I.lexical.align=!0);;)if((yt.length?yt.pop():u?V:J)(ge,Te)){for(;yt.length&&yt[yt.length-1].lex;)yt.pop()();return l.marked?l.marked:"variable"==ge&&v(I,Te)?"variable-2":q}}var l={state:null,column:null,marked:null,cc:null};function y(){for(var I=arguments.length-1;I>=0;I--)l.cc.push(arguments[I])}function g(){return y.apply(null,arguments),!0}function L(I,q){for(var ge=q;ge;ge=ge.next)if(ge.name==I)return!0;return!1}function K(I){var q=l.state;if(l.marked="def",p){if(q.context)if("var"==q.lexical.info&&q.context&&q.context.block){var ge=function Te(at,yt){if(yt){if(yt.block){var bt=Te(at,yt.prev);return bt?bt==yt.prev?yt:new De(bt,yt.vars,!0):null}return L(at,yt.vars)?yt:new De(yt.prev,new fe(at,yt.vars),!1)}return null}(I,q.context);if(null!=ge)return void(q.context=ge)}else if(!L(I,q.localVars))return void(q.localVars=new fe(I,q.localVars));Y.globalVars&&!L(I,q.globalVars)&&(q.globalVars=new fe(I,q.globalVars))}}function ee(I){return"public"==I||"private"==I||"protected"==I||"abstract"==I||"readonly"==I}function De(I,q,ge){this.prev=I,this.vars=q,this.block=ge}function fe(I,q){this.name=I,this.next=q}var ce=new fe("this",new fe("arguments",null));function Ce(){l.state.context=new De(l.state.context,l.state.localVars,!1),l.state.localVars=ce}function Se(){l.state.context=new De(l.state.context,l.state.localVars,!0),l.state.localVars=null}function se(){l.state.localVars=l.state.context.vars,l.state.context=l.state.context.prev}function ue(I,q){var ge=function(){var Te=l.state,at=Te.indented;if("stat"==Te.lexical.type)at=Te.lexical.indented;else for(var yt=Te.lexical;yt&&")"==yt.type&&yt.align;yt=yt.prev)at=yt.indented;Te.lexical=new H(at,l.stream.column(),I,null,Te.lexical,q)};return ge.lex=!0,ge}function xe(){var I=l.state;I.lexical.prev&&(")"==I.lexical.type&&(I.indented=I.lexical.indented),I.lexical=I.lexical.prev)}function re(I){return function q(ge){return ge==I?g():";"==I||"}"==ge||")"==ge||"]"==ge?y():g(q)}}function J(I,q){return"var"==I?g(ue("vardef",q),ft,re(";"),xe):"keyword a"==I?g(ue("form"),O,J,xe):"keyword b"==I?g(ue("form"),J,xe):"keyword d"==I?l.stream.match(/^\s*$/,!1)?g():g(ue("stat"),n,re(";"),xe):"debugger"==I?g(re(";")):"{"==I?g(ue("}"),Se,Oe,xe,se):";"==I?g():"if"==I?("else"==l.state.lexical.info&&l.state.cc[l.state.cc.length-1]==xe&&l.state.cc.pop()(),g(ue("form"),O,J,xe,F)):"function"==I?g(Ze):"for"==I?g(ue("form"),Se,me,J,se,xe):"class"==I||f&&"interface"==q?(l.marked="keyword",g(ue("form","class"==I?I:q),St,xe)):"variable"==I?f&&"declare"==q?(l.marked="keyword",g(J)):f&&("module"==q||"enum"==q||"type"==q)&&l.stream.match(/^\s*\w/,!1)?(l.marked="keyword","enum"==q?g(qt):"type"==q?g(et,re("operator"),X,re(";")):g(ue("form"),je,re("{"),ue("}"),Oe,xe,xe)):f&&"namespace"==q?(l.marked="keyword",g(ue("form"),V,J,xe)):f&&"abstract"==q?(l.marked="keyword",g(J)):g(ue("stat"),_e):"switch"==I?g(ue("form"),O,re("{"),ue("}","switch"),Se,Oe,xe,xe,se):"case"==I?g(V,re(":")):"default"==I?g(re(":")):"catch"==I?g(ue("form"),Ce,$,J,xe,se):"export"==I?g(ue("stat"),Xt,xe):"import"==I?g(ue("stat"),Qt,xe):"async"==I?g(J):"@"==q?g(V,J):y(ue("stat"),V,re(";"),xe)}function $(I){if("("==I)return g(kt,re(")"))}function V(I,q){return z(I,q,!1)}function S(I,q){return z(I,q,!0)}function O(I){return"("!=I?y():g(ue(")"),n,re(")"),xe)}function z(I,q,ge){if(l.state.fatArrowAt==l.stream.start){var Te=ge?Ee:pe;if("("==I)return g(Ce,ue(")"),G(kt,")"),xe,re("=>"),Te,se);if("variable"==I)return y(Ce,je,re("=>"),Te,se)}var yt,at=ge?s:m;return N.hasOwnProperty(I)?g(at):"function"==I?g(Ze,at):"class"==I||f&&"interface"==q?(l.marked="keyword",g(ue("form"),At,xe)):"keyword c"==I||"async"==I?g(ge?S:V):"("==I?g(ue(")"),n,re(")"),xe,at):"operator"==I||"spread"==I?g(ge?S:V):"["==I?g(ue("]"),Et,xe,at):"{"==I?ae(He,"}",null,at):"quasi"==I?y(E,at):"new"==I?g((yt=ge,function(bt){return"."==bt?g(yt?de:be):"variable"==bt&&f?g(dt,yt?s:m):y(yt?S:V)})):g()}function n(I){return I.match(/[;\}\)\],]/)?y():y(V)}function m(I,q){return","==I?g(n):s(I,q,!1)}function s(I,q,ge){var Te=0==ge?m:s,at=0==ge?V:S;return"=>"==I?g(Ce,ge?Ee:pe,se):"operator"==I?/\+\+|--/.test(q)||f&&"!"==q?g(Te):f&&"<"==q&&l.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?g(ue(">"),G(X,">"),xe,Te):"?"==q?g(V,re(":"),at):g(at):"quasi"==I?y(E,Te):";"!=I?"("==I?ae(S,")","call",Te):"."==I?g(Pe,Te):"["==I?g(ue("]"),n,re("]"),xe,Te):f&&"as"==q?(l.marked="keyword",g(X,Te)):"regexp"==I?(l.state.lastType=l.marked="operator",l.stream.backUp(l.stream.pos-l.stream.start-1),g(at)):void 0:void 0}function E(I,q){return"quasi"!=I?y():"${"!=q.slice(q.length-2)?g(E):g(n,W)}function W(I){if("}"==I)return l.marked="string-2",l.state.tokenize=T,g(E)}function pe(I){return j(l.stream,l.state),y("{"==I?J:V)}function Ee(I){return j(l.stream,l.state),y("{"==I?J:S)}function be(I,q){if("target"==q)return l.marked="keyword",g(m)}function de(I,q){if("target"==q)return l.marked="keyword",g(s)}function _e(I){return":"==I?g(xe,J):y(m,re(";"),xe)}function Pe(I){if("variable"==I)return l.marked="property",g()}function He(I,q){return"async"==I?(l.marked="property",g(He)):"variable"==I||"keyword"==l.style?(l.marked="property","get"==q||"set"==q?g(ut):(f&&l.state.fatArrowAt==l.stream.start&&(ge=l.stream.match(/^\s*:\s*/,!1))&&(l.state.fatArrowAt=l.stream.pos+ge[0].length),g(rt))):"number"==I||"string"==I?(l.marked=h?"property":l.style+" property",g(rt)):"jsonld-keyword"==I?g(rt):f&&ee(q)?(l.marked="keyword",g(He)):"["==I?g(V,ze,re("]"),rt):"spread"==I?g(S,rt):"*"==q?(l.marked="keyword",g(He)):":"==I?y(rt):void 0;var ge}function ut(I){return"variable"!=I?y(rt):(l.marked="property",g(Ze))}function rt(I){return":"==I?g(S):"("==I?y(Ze):void 0}function G(I,q,ge){function Te(at,yt){if(ge?ge.indexOf(at)>-1:","==at){var bt=l.state.lexical;return"call"==bt.info&&(bt.pos=(bt.pos||0)+1),g(function(mt,wt){return mt==q||wt==q?y():y(I)},Te)}return at==q||yt==q?g():ge&&ge.indexOf(";")>-1?y(I):g(re(q))}return function(at,yt){return at==q||yt==q?g():y(I,Te)}}function ae(I,q,ge){for(var Te=3;Te<arguments.length;Te++)l.cc.push(arguments[Te]);return g(ue(q,ge),G(I,q),xe)}function Oe(I){return"}"==I?g():y(J,Oe)}function ze(I,q){if(f){if(":"==I)return g(X);if("?"==q)return g(ze)}}function qe(I,q){if(f&&(":"==I||"in"==q))return g(X)}function Je(I){if(f&&":"==I)return l.stream.match(/^\s*\w+\s+is\b/,!1)?g(V,ot,X):g(X)}function ot(I,q){if("is"==q)return l.marked="keyword",g()}function X(I,q){return"keyof"==q||"typeof"==q||"infer"==q||"readonly"==q?(l.marked="keyword",g("typeof"==q?S:X)):"variable"==I||"void"==q?(l.marked="type",g(tt)):"|"==q||"&"==q?g(X):"string"==I||"number"==I||"atom"==I?g(tt):"["==I?g(ue("]"),G(X,"]",","),xe,tt):"{"==I?g(ue("}"),Ae,xe,tt):"("==I?g(G(Ve,")"),ke,tt):"<"==I?g(G(X,">"),X):"quasi"==I?y(he,tt):void 0}function ke(I){if("=>"==I)return g(X)}function Ae(I){return I.match(/[\}\)\]]/)?g():","==I||";"==I?g(Ae):y(Ne,Ae)}function Ne(I,q){return"variable"==I||"keyword"==l.style?(l.marked="property",g(Ne)):"?"==q||"number"==I||"string"==I?g(Ne):":"==I?g(X):"["==I?g(re("variable"),qe,re("]"),Ne):"("==I?y(ct,Ne):I.match(/[;\}\)\],]/)?void 0:g()}function he(I,q){return"quasi"!=I?y():"${"!=q.slice(q.length-2)?g(he):g(X,Be)}function Be(I){if("}"==I)return l.marked="string-2",l.state.tokenize=T,g(he)}function Ve(I,q){return"variable"==I&&l.stream.match(/^\s*[?:]/,!1)||"?"==q?g(Ve):":"==I?g(X):"spread"==I?g(Ve):y(X)}function tt(I,q){return"<"==q?g(ue(">"),G(X,">"),xe,tt):"|"==q||"."==I||"&"==q?g(X):"["==I?g(X,re("]"),tt):"extends"==q||"implements"==q?(l.marked="keyword",g(X)):"?"==q?g(X,re(":"),X):void 0}function dt(I,q){if("<"==q)return g(ue(">"),G(X,">"),xe,tt)}function vt(){return y(X,Xe)}function Xe(I,q){if("="==q)return g(X)}function ft(I,q){return"enum"==q?(l.marked="keyword",g(qt)):y(je,ze,Ge,B)}function je(I,q){return f&&ee(q)?(l.marked="keyword",g(je)):"variable"==I?(K(q),g()):"spread"==I?g(je):"["==I?ae(te,"]"):"{"==I?ae(st,"}"):void 0}function st(I,q){return"variable"!=I||l.stream.match(/^\s*:/,!1)?("variable"==I&&(l.marked="property"),"spread"==I?g(je):"}"==I?y():"["==I?g(V,re("]"),re(":"),st):g(re(":"),je,Ge)):(K(q),g(Ge))}function te(){return y(je,Ge)}function Ge(I,q){if("="==q)return g(S)}function B(I){if(","==I)return g(ft)}function F(I,q){if("keyword b"==I&&"else"==q)return g(ue("form","else"),J,xe)}function me(I,q){return"await"==q?g(me):"("==I?g(ue(")"),le,xe):void 0}function le(I){return"var"==I?g(ft,Me):"variable"==I?g(Me):y(Me)}function Me(I,q){return")"==I?g():";"==I?g(Me):"in"==q||"of"==q?(l.marked="keyword",g(V,Me)):y(V,Me)}function Ze(I,q){return"*"==q?(l.marked="keyword",g(Ze)):"variable"==I?(K(q),g(Ze)):"("==I?g(Ce,ue(")"),G(kt,")"),xe,Je,J,se):f&&"<"==q?g(ue(">"),G(vt,">"),xe,Ze):void 0}function ct(I,q){return"*"==q?(l.marked="keyword",g(ct)):"variable"==I?(K(q),g(ct)):"("==I?g(Ce,ue(")"),G(kt,")"),xe,Je,se):f&&"<"==q?g(ue(">"),G(vt,">"),xe,ct):void 0}function et(I,q){return"keyword"==I||"variable"==I?(l.marked="type",g(et)):"<"==q?g(ue(">"),G(vt,">"),xe):void 0}function kt(I,q){return"@"==q&&g(V,kt),"spread"==I?g(kt):f&&ee(q)?(l.marked="keyword",g(kt)):f&&"this"==I?g(ze,Ge):y(je,ze,Ge)}function At(I,q){return"variable"==I?St(I,q):Dt(I,q)}function St(I,q){if("variable"==I)return K(q),g(Dt)}function Dt(I,q){return"<"==q?g(ue(">"),G(vt,">"),xe,Dt):"extends"==q||"implements"==q||f&&","==I?("implements"==q&&(l.marked="keyword"),g(f?X:V,Dt)):"{"==I?g(ue("}"),Mt,xe):void 0}function Mt(I,q){return"async"==I||"variable"==I&&("static"==q||"get"==q||"set"==q||f&&ee(q))&&l.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(l.marked="keyword",g(Mt)):"variable"==I||"keyword"==l.style?(l.marked="property",g(Gt,Mt)):"number"==I||"string"==I?g(Gt,Mt):"["==I?g(V,ze,re("]"),Gt,Mt):"*"==q?(l.marked="keyword",g(Mt)):f&&"("==I?y(ct,Mt):";"==I||","==I?g(Mt):"}"==I?g():"@"==q?g(V,Mt):void 0}function Gt(I,q){if("!"==q||"?"==q)return g(Gt);if(":"==I)return g(X,Ge);if("="==q)return g(S);var ge=l.state.lexical.prev;return y(ge&&"interface"==ge.info?ct:Ze)}function Xt(I,q){return"*"==q?(l.marked="keyword",g(Kt,re(";"))):"default"==q?(l.marked="keyword",g(V,re(";"))):"{"==I?g(G(ln,"}"),Kt,re(";")):y(J)}function ln(I,q){return"as"==q?(l.marked="keyword",g(re("variable"))):"variable"==I?y(S,ln):void 0}function Qt(I){return"string"==I?g():"("==I?y(V):"."==I?y(m):y(It,Tt,Kt)}function It(I,q){return"{"==I?ae(It,"}"):("variable"==I&&K(q),"*"==q&&(l.marked="keyword"),g(Ut))}function Tt(I){if(","==I)return g(It,Tt)}function Ut(I,q){if("as"==q)return l.marked="keyword",g(It)}function Kt(I,q){if("from"==q)return l.marked="keyword",g(V)}function Et(I){return"]"==I?g():y(G(S,"]"))}function qt(){return y(ue("form"),je,re("{"),ue("}"),G(On,"}"),xe,xe)}function On(){return y(je,Ge)}function mn(I,q,ge){return q.tokenize==_&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(q.lastType)||"quasi"==q.lastType&&/\{\s*$/.test(I.string.slice(0,I.pos-(ge||0)))}return se.lex=!0,xe.lex=!0,{startState:function(I){var q={tokenize:_,lastType:"sof",cc:[],lexical:new H((I||0)-x,0,"block",!1),localVars:Y.localVars,context:Y.localVars&&new De(null,null,!1),indented:I||0};return Y.globalVars&&"object"==typeof Y.globalVars&&(q.globalVars=Y.globalVars),q},token:function(I,q){if(I.sol()&&(q.lexical.hasOwnProperty("align")||(q.lexical.align=!1),q.indented=I.indentation(),j(I,q)),q.tokenize!=k&&I.eatSpace())return null;var ge=q.tokenize(I,q);return"comment"==U?ge:(q.lastType="operator"!=U||"++"!=M&&"--"!=M?U:"incdec",d(q,ge,U,M,I))},indent:function(I,q){if(I.tokenize==k||I.tokenize==T)return Z.Pass;if(I.tokenize!=_)return 0;var ge,Te=q&&q.charAt(0),at=I.lexical;if(!/^\s*else\b/.test(q))for(var yt=I.cc.length-1;yt>=0;--yt){var bt=I.cc[yt];if(bt==xe)at=at.prev;else if(bt!=F&&bt!=se)break}for(;("stat"==at.type||"form"==at.type)&&("}"==Te||(ge=I.cc[I.cc.length-1])&&(ge==m||ge==s)&&!/^[,\.=+\-*:?[\(]/.test(q));)at=at.prev;c&&")"==at.type&&"stat"==at.prev.type&&(at=at.prev);var Ht,tn,mt=at.type,wt=Te==mt;return"vardef"==mt?at.indented+("operator"==I.lastType||","==I.lastType?at.info.length+1:0):"form"==mt&&"{"==Te?at.indented:"form"==mt?at.indented+x:"stat"==mt?at.indented+(tn=q,"operator"==(Ht=I).lastType||","==Ht.lastType||b.test(tn.charAt(0))||/[,.]/.test(tn.charAt(0))?c||x:0):"switch"!=at.info||wt||0==Y.doubleIndentSwitch?at.align?at.column+(wt?0:1):at.indented+(wt?0:x):at.indented+(/^(?:case|default)\b/.test(q)?x:2*x)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:u?null:"/*",blockCommentEnd:u?null:"*/",blockCommentContinue:u?null:" * ",lineComment:u?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:u?"json":"javascript",jsonldMode:h,jsonMode:u,expressionAllowed:mn,skipExpression:function(I){d(I,"atom","atom","true",new Z.StringStream("",2,null))}}}),Z.registerHelper("wordChars","javascript",/[\w$]/),Z.defineMIME("text/javascript","javascript"),Z.defineMIME("text/ecmascript","javascript"),Z.defineMIME("application/javascript","javascript"),Z.defineMIME("application/x-javascript","javascript"),Z.defineMIME("application/ecmascript","javascript"),Z.defineMIME("application/json",{name:"javascript",json:!0}),Z.defineMIME("application/x-json",{name:"javascript",json:!0}),Z.defineMIME("application/manifest+json",{name:"javascript",json:!0}),Z.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),Z.defineMIME("text/typescript",{name:"javascript",typescript:!0}),Z.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(i(27))},function($e,oe,i){!function(Z){Z.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(Y,U){return/^[;{}]$/.test(U)}}),Z.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(Y,U,M,x){return this.jsonMode?/^[\[,{]$/.test(U)||/^}/.test(M):(";"!=U||!x.lexical||")"!=x.lexical.type)&&/^[;{}]$/.test(U)&&!/^;/.test(M)}});var ne=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;Z.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(Y,U,M,x){var c=!1;return"html"==this.configuration&&(c=!!x.context&&ne.test(x.context.tagName)),!c&&("tag"==Y&&/>$/.test(U)&&x.context||/^</.test(M))}}),Z.defineExtension("commentRange",function(Y,U,M){var x=this,c=Z.innerMode(x.getMode(),x.getTokenAt(U).state).mode;x.operation(function(){if(Y)x.replaceRange(c.commentEnd,M),x.replaceRange(c.commentStart,U),U.line==M.line&&U.ch==M.ch&&x.setCursor(U.line,U.ch+c.commentStart.length);else{var h=x.getRange(U,M),u=h.indexOf(c.commentStart),p=h.lastIndexOf(c.commentEnd);u>-1&&p>-1&&p>u&&(h=h.substr(0,u)+h.substring(u+c.commentStart.length,p)+h.substr(p+c.commentEnd.length)),x.replaceRange(h,U,M)}})}),Z.defineExtension("autoIndentRange",function(Y,U){var M=this;this.operation(function(){for(var x=Y.line;x<=U.line;x++)M.indentLine(x,"smart")})}),Z.defineExtension("autoFormatRange",function(Y,U){var M=this,x=M.getMode(),c=M.getRange(Y,U).split("\n"),h=Z.copyState(x,M.getTokenAt(Y).state),u=M.getOption("tabSize"),p="",f=0,P=0===Y.ch;function w(){p+="\n",P=!0,++f}for(var b=0;b<c.length;++b){for(var A=new Z.StringStream(c[b],u);!A.eol();){var R=Z.innerMode(x,h),_=x.token(A,h),k=A.current();A.start=A.pos,P&&!/\S/.test(k)||(p+=k,P=!1),!P&&R.mode.newlineAfterToken&&R.mode.newlineAfterToken(_,k,A.string.slice(A.pos)||c[b+1]||"",R.state)&&w()}!A.pos&&x.blankLine&&x.blankLine(h),!P&&b<c.length-1&&w()}M.operation(function(){M.replaceRange(p,Y,U);for(var T=Y.line+1,C=Y.line+f;T<=C;++T)M.indentLine(T,"smart");M.setSelection(Y,M.getCursor(!1))})})}(i(27))},function($e,oe,i){var Z=function(ne){"use strict";var Y,U=Object.prototype,M=U.hasOwnProperty,x="function"==typeof Symbol?Symbol:{},c=x.iterator||"@@iterator",h=x.asyncIterator||"@@asyncIterator",u=x.toStringTag||"@@toStringTag";function p(fe,ce,Ce){return Object.defineProperty(fe,ce,{value:Ce,enumerable:!0,configurable:!0,writable:!0}),fe[ce]}try{p({},"")}catch(fe){p=function(ce,Ce,Se){return ce[Ce]=Se}}function f(fe,ce,Ce,Se){var re,J,$,V,ue=Object.create((ce&&ce.prototype instanceof k?ce:k).prototype),xe=new K(Se||[]);return ue._invoke=(re=fe,J=Ce,$=xe,V=w,function(S,O){if(V===A)throw new Error("Generator is already running");if(V===R){if("throw"===S)throw O;return De()}for($.method=S,$.arg=O;;){var z=$.delegate;if(z){var n=y(z,$);if(n){if(n===_)continue;return n}}if("next"===$.method)$.sent=$._sent=$.arg;else if("throw"===$.method){if(V===w)throw V=R,$.arg;$.dispatchException($.arg)}else"return"===$.method&&$.abrupt("return",$.arg);V=A;var m=P(re,J,$);if("normal"===m.type){if(V=$.done?R:b,m.arg===_)continue;return{value:m.arg,done:$.done}}"throw"===m.type&&(V=R,$.method="throw",$.arg=m.arg)}}),ue}function P(fe,ce,Ce){try{return{type:"normal",arg:fe.call(ce,Ce)}}catch(Se){return{type:"throw",arg:Se}}}ne.wrap=f;var w="suspendedStart",b="suspendedYield",A="executing",R="completed",_={};function k(){}function T(){}function C(){}var j={};j[c]=function(){return this};var N=Object.getPrototypeOf,H=N&&N(N(ee([])));H&&H!==U&&M.call(H,c)&&(j=H);var v=C.prototype=k.prototype=Object.create(j);function d(fe){["next","throw","return"].forEach(function(ce){p(fe,ce,function(Ce){return this._invoke(ce,Ce)})})}function l(fe,ce){var Ce;this._invoke=function(Se,se){function ue(){return new ce(function(xe,re){!function J($,V,S,O){var z=P(fe[$],fe,V);if("throw"!==z.type){var n=z.arg,m=n.value;return m&&"object"==typeof m&&M.call(m,"__await")?ce.resolve(m.__await).then(function(s){J("next",s,S,O)},function(s){J("throw",s,S,O)}):ce.resolve(m).then(function(s){n.value=s,S(n)},function(s){return J("throw",s,S,O)})}O(z.arg)}(Se,se,xe,re)})}return Ce=Ce?Ce.then(ue,ue):ue()}}function y(fe,ce){var Ce=fe.iterator[ce.method];if(Ce===Y){if(ce.delegate=null,"throw"===ce.method){if(fe.iterator.return&&(ce.method="return",ce.arg=Y,y(fe,ce),"throw"===ce.method))return _;ce.method="throw",ce.arg=new TypeError("The iterator does not provide a 'throw' method")}return _}var Se=P(Ce,fe.iterator,ce.arg);if("throw"===Se.type)return ce.method="throw",ce.arg=Se.arg,ce.delegate=null,_;var se=Se.arg;return se?se.done?(ce[fe.resultName]=se.value,ce.next=fe.nextLoc,"return"!==ce.method&&(ce.method="next",ce.arg=Y),ce.delegate=null,_):se:(ce.method="throw",ce.arg=new TypeError("iterator result is not an object"),ce.delegate=null,_)}function g(fe){var ce={tryLoc:fe[0]};1 in fe&&(ce.catchLoc=fe[1]),2 in fe&&(ce.finallyLoc=fe[2],ce.afterLoc=fe[3]),this.tryEntries.push(ce)}function L(fe){var ce=fe.completion||{};ce.type="normal",delete ce.arg,fe.completion=ce}function K(fe){this.tryEntries=[{tryLoc:"root"}],fe.forEach(g,this),this.reset(!0)}function ee(fe){if(fe){var ce=fe[c];if(ce)return ce.call(fe);if("function"==typeof fe.next)return fe;if(!isNaN(fe.length)){var Ce=-1,Se=function se(){for(;++Ce<fe.length;)if(M.call(fe,Ce))return se.value=fe[Ce],se.done=!1,se;return se.value=Y,se.done=!0,se};return Se.next=Se}}return{next:De}}function De(){return{value:Y,done:!0}}return T.prototype=v.constructor=C,C.constructor=T,T.displayName=p(C,u,"GeneratorFunction"),ne.isGeneratorFunction=function(fe){var ce="function"==typeof fe&&fe.constructor;return!!ce&&(ce===T||"GeneratorFunction"===(ce.displayName||ce.name))},ne.mark=function(fe){return Object.setPrototypeOf?Object.setPrototypeOf(fe,C):(fe.__proto__=C,p(fe,u,"GeneratorFunction")),fe.prototype=Object.create(v),fe},ne.awrap=function(fe){return{__await:fe}},d(l.prototype),l.prototype[h]=function(){return this},ne.AsyncIterator=l,ne.async=function(fe,ce,Ce,Se,se){void 0===se&&(se=Promise);var ue=new l(f(fe,ce,Ce,Se),se);return ne.isGeneratorFunction(ce)?ue:ue.next().then(function(xe){return xe.done?xe.value:ue.next()})},d(v),p(v,u,"Generator"),v[c]=function(){return this},v.toString=function(){return"[object Generator]"},ne.keys=function(fe){var ce=[];for(var Ce in fe)ce.push(Ce);return ce.reverse(),function Se(){for(;ce.length;){var se=ce.pop();if(se in fe)return Se.value=se,Se.done=!1,Se}return Se.done=!0,Se}},ne.values=ee,K.prototype={constructor:K,reset:function(fe){if(this.prev=0,this.next=0,this.sent=this._sent=Y,this.done=!1,this.delegate=null,this.method="next",this.arg=Y,this.tryEntries.forEach(L),!fe)for(var ce in this)"t"===ce.charAt(0)&&M.call(this,ce)&&!isNaN(+ce.slice(1))&&(this[ce]=Y)},stop:function(){this.done=!0;var fe=this.tryEntries[0].completion;if("throw"===fe.type)throw fe.arg;return this.rval},dispatchException:function(fe){if(this.done)throw fe;var ce=this;function Ce(J,$){return ue.type="throw",ue.arg=fe,ce.next=J,$&&(ce.method="next",ce.arg=Y),!!$}for(var Se=this.tryEntries.length-1;Se>=0;--Se){var se=this.tryEntries[Se],ue=se.completion;if("root"===se.tryLoc)return Ce("end");if(se.tryLoc<=this.prev){var xe=M.call(se,"catchLoc"),re=M.call(se,"finallyLoc");if(xe&&re){if(this.prev<se.catchLoc)return Ce(se.catchLoc,!0);if(this.prev<se.finallyLoc)return Ce(se.finallyLoc)}else if(xe){if(this.prev<se.catchLoc)return Ce(se.catchLoc,!0)}else{if(!re)throw new Error("try statement without catch or finally");if(this.prev<se.finallyLoc)return Ce(se.finallyLoc)}}}},abrupt:function(fe,ce){for(var Ce=this.tryEntries.length-1;Ce>=0;--Ce){var Se=this.tryEntries[Ce];if(Se.tryLoc<=this.prev&&M.call(Se,"finallyLoc")&&this.prev<Se.finallyLoc){var se=Se;break}}se&&("break"===fe||"continue"===fe)&&se.tryLoc<=ce&&ce<=se.finallyLoc&&(se=null);var ue=se?se.completion:{};return ue.type=fe,ue.arg=ce,se?(this.method="next",this.next=se.finallyLoc,_):this.complete(ue)},complete:function(fe,ce){if("throw"===fe.type)throw fe.arg;return"break"===fe.type||"continue"===fe.type?this.next=fe.arg:"return"===fe.type?(this.rval=this.arg=fe.arg,this.method="return",this.next="end"):"normal"===fe.type&&ce&&(this.next=ce),_},finish:function(fe){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var Ce=this.tryEntries[ce];if(Ce.finallyLoc===fe)return this.complete(Ce.completion,Ce.afterLoc),L(Ce),_}},catch:function(fe){for(var ce=this.tryEntries.length-1;ce>=0;--ce){var Ce=this.tryEntries[ce];if(Ce.tryLoc===fe){var Se=Ce.completion;if("throw"===Se.type){var se=Se.arg;L(Ce)}return se}}throw new Error("illegal catch attempt")},delegateYield:function(fe,ce,Ce){return this.delegate={iterator:ee(fe),resultName:ce,nextLoc:Ce},"next"===this.method&&(this.arg=Y),_}},ne}($e.exports);try{regeneratorRuntime=Z}catch(ne){Function("r","regeneratorRuntime = r")(Z)}},function($e,oe){$e.exports=function(i){if(Array.isArray(i))return i},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe){$e.exports=function(i,Z){var ne=i&&("undefined"!=typeof Symbol&&i[Symbol.iterator]||i["@@iterator"]);if(null!=ne){var Y,U,M=[],x=!0,c=!1;try{for(ne=ne.call(i);!(x=(Y=ne.next()).done)&&(M.push(Y.value),!Z||M.length!==Z);x=!0);}catch(h){c=!0,U=h}finally{try{x||null==ne.return||ne.return()}finally{if(c)throw U}}return M}},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe){$e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},$e.exports.default=$e.exports,$e.exports.__esModule=!0},function($e,oe,i){"use strict";i.r(oe);var Z=i(2),ne=i(10);oe.default=Z.View.extend({initialize:function(){var Y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.items=[],this.opt=Y;var U=Y.config||{};this.level=Y.level,this.config=U,this.preview=Y.preview,this.ppfx=U.pStylePrefix||"",this.pfx=U.stylePrefix||"",this.parent=Y.parent,this.parentView=Y.parentView;var M=this.pfx,x=this.ppfx,c=this.parent,h=this.collection;this.listenTo(h,"add",this.addTo),this.listenTo(h,"reset resetNavigator",this.render),this.listenTo(h,"remove",this.removeChildren),this.className="".concat(M,"layers");var u=U.em;if(U.sortable&&!this.opt.sorter){var p=u.get("Utils");this.opt.sorter=new p.Sorter({container:U.sortContainer||this.el,containerSel:".".concat(this.className),itemSel:".".concat(M,"layer"),ignoreViewChildren:1,onEndMove:function(f,P,w){var b=P.getSourceModel();u.setSelected(b,{forceChange:1}),u.trigger("".concat(ne.b,":end"),w)},avoidSelectOnEnd:1,nested:1,ppfx:x,pfx:M})}this.sorter=this.opt.sorter||"",this.$el.data("collection",h),c&&this.$el.data("model",c)},removeChildren:function(Y){var U=Y.viewLayer;U&&(U.remove(),Y.viewLayer=0)},addTo:function(Y){var U=this.collection.indexOf(Y);this.addToCollection(Y,null,U)},addToCollection:function(Y,U,M){var h=this.opt.ItemView,u=U||null,p=new h({ItemView:h,level:this.level,model:Y,parentView:this.parentView,config:this.config,sorter:this.sorter,isCountable:this.isCountable,opened:this.opt.opened}),f=p.render().el;if(u)u.appendChild(f);else if(void 0!==M){var P="before";this.$el.children().length==M&&(M--,P="after"),M<0?this.$el.append(f):this.$el.children().eq(M)[P](f)}else this.$el.append(f);return this.items.push(p),f},remove:function(){Z.View.prototype.remove.apply(this,arguments),this.items.map(function(Y){return Y.remove()})},isCountable:function(Y,U){var M=Y.get("type"),x=Y.get("tagName");return!(("textnode"==M||"br"==x)&&U||!Y.get("layerable"))},render:function(){var Y=this,U=document.createDocumentFragment(),M=this.el;return M.innerHTML="",this.collection.each(function(x){return Y.addToCollection(x,U)}),M.appendChild(U),M.className=this.className,this}})},function($e,oe,i){var Z={"./CanvasClear":52,"./CanvasClear.js":52,"./CanvasMove":53,"./CanvasMove.js":53,"./CommandAbstract":31,"./CommandAbstract.js":31,"./ComponentDelete":54,"./ComponentDelete.js":54,"./ComponentDrag":55,"./ComponentDrag.js":55,"./ComponentEnter":56,"./ComponentEnter.js":56,"./ComponentExit":57,"./ComponentExit.js":57,"./ComponentNext":58,"./ComponentNext.js":58,"./ComponentPrev":59,"./ComponentPrev.js":59,"./ComponentStyleClear":60,"./ComponentStyleClear.js":60,"./CopyComponent":61,"./CopyComponent.js":61,"./DeleteComponent":62,"./DeleteComponent.js":62,"./ExportTemplate":63,"./ExportTemplate.js":63,"./Fullscreen":64,"./Fullscreen.js":64,"./MoveComponent":65,"./MoveComponent.js":65,"./OpenAssets":66,"./OpenAssets.js":66,"./OpenBlocks":67,"./OpenBlocks.js":67,"./OpenLayers":68,"./OpenLayers.js":68,"./OpenStyleManager":69,"./OpenStyleManager.js":69,"./OpenTraitManager":70,"./OpenTraitManager.js":70,"./PasteComponent":71,"./PasteComponent.js":71,"./Preview":72,"./Preview.js":72,"./Resize":73,"./Resize.js":73,"./SelectComponent":23,"./SelectComponent.js":23,"./SelectPosition":36,"./SelectPosition.js":36,"./ShowOffset":74,"./ShowOffset.js":74,"./SwitchVisibility":75,"./SwitchVisibility.js":75};function ne(U){var M=Y(U);return i(M)}function Y(U){if(!i.o(Z,U)){var M=new Error("Cannot find module '"+U+"'");throw M.code="MODULE_NOT_FOUND",M}return Z[U]}ne.keys=function(){return Object.keys(Z)},ne.resolve=Y,$e.exports=ne,ne.id=98},function($e,oe,i){"use strict";i.r(oe);var Z=i(3),ne=i.n(Z),Y=i(14),U=i.n(Y),M=(i(2),i(0)),x={stylePrefix:"comp-",components:[],draggableComponents:1,storeWrapper:0,processor:0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]},c=i(10),h=i(30),u=i(12),p=i(42),f=i(1);function P(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function w(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?P(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):P(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var b=c.a.extend({defaults:w(w({},c.a.prototype.defaults),{},{type:"cell",tagName:"td",draggable:["tr"]})},{isComponent:function(I){return["td","th"].indexOf(Object(f.toLowerCase)(I.tagName))>=0}}),A=u.default.extend({});function R(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function _(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?R(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):R(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var T=c.a.extend({defaults:_(_({},c.a.prototype.defaults),{},{tagName:"tr",draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},{isComponent:function(I){return"tr"===Object(f.toLowerCase)(I.tagName)}}),C=u.default.extend({});function j(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function N(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?j(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):j(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var H="table",v=c.a.extend({defaults:N(N({},c.a.prototype.defaults),{},{type:H,tagName:H,droppable:["tbody","thead","tfoot"]}),initialize:function(I,q){c.a.prototype.initialize.apply(this,arguments);var ge=this.get("components");!ge.length&&ge.add({type:"tbody"})}},{isComponent:function(I){return Object(f.toLowerCase)(I.tagName)===H}}),d=u.default.extend({events:{}});function l(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function y(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?l(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):l(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var g="tbody",L=c.a.extend({defaults:y(y({},c.a.prototype.defaults),{},{type:g,tagName:g,draggable:["table"],droppable:["tr"],columns:1,rows:1}),initialize:function(I,q){c.a.prototype.initialize.apply(this,arguments);var ge=this.get("components"),Te=this.get("columns"),at=this.get("rows");if(!ge.length){for(var yt=[];at--;){for(var bt=[],mt=Te;mt--;)bt.push({type:"cell",classes:["cell"]});yt.push({type:"row",classes:["row"],components:bt})}ge.add(yt)}}},{isComponent:function(I){return Object(f.toLowerCase)(I.tagName)===g}});function K(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function ee(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?K(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):K(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var De="thead",fe=L.extend({defaults:ee(ee({},L.prototype.defaults),{},{type:De,tagName:De})},{isComponent:function(I){return Object(f.toLowerCase)(I.tagName)===De}}),ce=u.default.extend({}),Ce=u.default.extend({});function Se(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function se(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?Se(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):Se(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var ue="tfoot",xe=L.extend({defaults:se(se({},L.prototype.defaults),{},{type:ue,tagName:ue})},{isComponent:function(I){return Object(f.toLowerCase)(I.tagName)===ue}}),re=u.default.extend({});function J(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function $(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?J(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):J(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var V='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',S=c.a.extend({defaults:$($({},c.a.prototype.defaults),{},{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(V,'>\n        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>\n      </svg>'),fallback:"<svg ".concat(V,'>\n        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>\n      </svg>'),file:""}),initialize:function(I,q){c.a.prototype.initialize.apply(this,arguments);var ge=this.get("attributes"),Te=ge.src;Te&&this.set("src",Te,{silent:1})},initToolbar:function(){for(var I=arguments.length,q=new Array(I),ge=0;ge<I;ge++)q[ge]=arguments[ge];c.a.prototype.initToolbar.apply(this,q);var Te=this.em;if(Te){var at=Te.get("Commands"),yt="image-editor";if(at.has(yt)){for(var bt=!1,mt=this.get("toolbar"),wt=0;wt<mt.length;wt++)if("image-editor"===mt[wt].command){bt=!0;break}bt||(mt.push({attributes:{class:"fa fa-pencil"},command:yt}),this.set("toolbar",mt))}}},getAttrToHTML:function(){for(var I=arguments.length,q=new Array(I),ge=0;ge<I;ge++)q[ge]=arguments[ge];var Te=c.a.prototype.getAttrToHTML.apply(this,q),at=this.getSrcResult();return at&&(Te.src=at),Te},getSrcResult:function(){var I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},q=this.get(I.fallback?"fallback":"src")||"",ge=q;return q&&"<svg"===q.substr(0,4)&&(ge="data:image/svg+xml;base64,".concat(window.btoa(q))),ge},isDefaultSrc:function(){return this.get("src")===Object(M.result)(this,"defaults").src},toJSON:function(){for(var I=arguments.length,q=new Array(I),ge=0;ge<I;ge++)q[ge]=arguments[ge];var Te=c.a.prototype.toJSON.apply(this,q);return Te.attributes&&Te.src===Te.attributes.src&&delete Te.src,Te},parseUri:function(I){var q=document.createElement("a");q.href=I;for(var ge={},Te=q.search.substring(1).split("&"),at=0;at<Te.length;at++){var yt=Te[at].split("="),bt=decodeURIComponent(yt[0]);bt&&(ge[bt]=decodeURIComponent(yt[1]))}return{hostname:q.hostname,pathname:q.pathname,protocol:q.protocol,search:q.search,hash:q.hash,port:q.port,query:ge}}},{isComponent:function(I){return"img"===Object(f.toLowerCase)(I.tagName)}});function O(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function z(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?O(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):O(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var n=S.extend({defaults:z(z({},S.prototype.defaults),{},{type:"map",src:"",void:0,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:c.a.prototype.defaults.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]}),initialize:function(I,q){this.get("src")?this.parseFromSrc():this.updateSrc(),S.prototype.initialize.apply(this,arguments),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},updateSrc:function(){this.set("src",this.getMapUrl())},getMapUrl:function(){var I=this.get("address"),q=this.get("zoom"),ge=this.get("mapType");return I=I?"&q="+I:"",q=q?"&z="+q:"",ge=ge?"&t="+ge:"",this.get("mapUrl")+"?"+I+q+ge+"&output=embed"},parseFromSrc:function(){var I=this.parseUri(this.get("src")).query;I.q&&this.set("address",I.q),I.z&&this.set("zoom",I.z),I.t&&this.set("mapType",I.t)}},{isComponent:function(I){var q="";return"iframe"==Object(f.toLowerCase)(I.tagName)&&/maps\.google\.com/.test(I.src)&&(q={type:"map",src:I.src}),q}}),m=u.default.extend({tagName:"img",events:{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"},initialize:function(I){u.default.prototype.initialize.apply(this,arguments),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},fetchFile:function(){if(!this.modelOpt.temporary){var I=this.model,q=I.get("file");q&&(this.em.get("AssetManager").FileUploader().uploadFile({dataTransfer:{files:[q]}},function(ge){var Te=ge&&ge.data&&ge.data[0],at=Te&&(Object(M.isString)(Te)?Te:Te.src);at&&I.set({src:at})}),I.set("file",""))}},updateSrc:function(){var I=this.model,q=this.classEmpty,ge=this.$el,Te=I.getSrcResult(),at=Te&&!I.isDefaultSrc();I.addAttributes({src:Te}),ge[at?"removeClass":"addClass"](q)},onActive:function(I){I&&I.stopPropagation();var q=this.em,ge=this.model,Te=q&&q.get("AssetManager");Te&&ge.get("editable")&&Te.open({select:function(at,yt){ge.set({src:at.getSrc()}),yt&&Te.close()},target:ge,types:["image"],accept:"image/*"})},onError:function(){var I=this.model.getSrcResult({fallback:1});I&&(this.el.src=I)},onLoad:function(){this.em.trigger("change:canvasOffset")},noDrag:function(I){return I.preventDefault(),!1},render:function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var I=this.$el,q=this.model,ge=I.attr("class")||"";return!q.get("src")&&I.attr("class","".concat(ge," ").concat(this.classEmpty).trim()),this.postRender(),this}}),s=m.extend({tagName:"div",events:{},initialize:function(I){m.prototype.initialize.apply(this,arguments),this.classEmpty=this.ppfx+"plh-map"},updateSrc:function(){this.getIframe().src=this.model.get("src")},getIframe:function(){if(!this.iframe){var I=document.createElement("iframe");I.src=this.model.get("src"),I.frameBorder=0,I.style.height="100%",I.style.width="100%",I.className=this.ppfx+"no-pointer",this.iframe=I}return this.iframe},render:function(){for(var I=arguments.length,q=new Array(I),ge=0;ge<I;ge++)q[ge]=arguments[ge];return m.prototype.render.apply(this,q),this.updateClasses(),this.el.appendChild(this.getIframe()),this}});function E(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function W(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?E(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):E(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var pe=c.a.extend({defaults:W(W({},c.a.prototype.defaults),{},{type:"text",droppable:!1,editable:!0}),toHTML:function(){return c.a.prototype.toHTML.apply(this,arguments)}});function Ee(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function be(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?Ee(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):Ee(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var de=pe.extend({defaults:be(be({},pe.prototype.defaults),{},{type:"link",tagName:"a",traits:["title","href","target"]}),getAttrToHTML:function(){for(var I=arguments.length,q=new Array(I),ge=0;ge<I;ge++)q[ge]=arguments[ge];var Te=pe.prototype.getAttrToHTML.apply(this,q);return delete Te.onmousedown,Te}},{isComponent:function(I){var q;if("a"===Object(f.toLowerCase)(I.tagName)){q={type:"link",editable:0};var ge=I.childNodes,Te=ge.length;Te||delete q.editable;for(var at=0;at<Te;at++){var yt=ge[at];if(3==yt.nodeType&&""!=yt.textContent.trim()){delete q.editable;break}}}return q}}),_e=i(34),Pe=i.n(_e),He=i(26),ut=i.n(He);function rt(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function G(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?rt(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):rt(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var ae=u.default.prototype,Oe=u.default.extend({events:{dblclick:"onActive",input:"onInput"},initialize:function(I){ae.initialize.apply(this,arguments),this.disableEditing=this.disableEditing.bind(this);var q=this.model,ge=this.em;this.listenTo(q,"focus",this.onActive),this.listenTo(q,"change:content",this.updateContentText),this.listenTo(q,"sync:content",this.syncContent),this.rte=ge&&ge.get("RichTextEditor")},updateContentText:function(I,q){var ge=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!ge.fromDisable&&this.disableEditing()},onActive:function(I){var q=this;return Pe()(ut.a.mark(function ge(){var Te,at;return ut.a.wrap(function(yt){for(;;)switch(yt.prev=yt.next){case 0:if(Te=q.rte,at=q.em,!(q.rteEnabled||!q.model.get("editable")||at&&at.isEditing())){yt.next=3;break}return yt.abrupt("return");case 3:if(I&&I.stopPropagation&&I.stopPropagation(),!Te){yt.next=14;break}return yt.prev=5,yt.next=8,Te.enable(q,q.activeRte);case 8:q.activeRte=yt.sent,yt.next=14;break;case 11:yt.prev=11,yt.t0=yt.catch(5),at.logError(yt.t0);case 14:q.toggleEvents(1);case 15:case"end":return yt.stop()}},ge,null,[[5,11]])}))()},onDisable:function(){this.disableEditing()},disableEditing:function(){var I=this;return Pe()(ut.a.mark(function q(){var ge,Te,at,yt,bt;return ut.a.wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:if(Te=I.rte,at=I.activeRte,yt=I.em,bt=(ge=I.model)&&ge.get("editable"),!Te){mt.next=12;break}return mt.prev=3,mt.next=6,Te.disable(I,at);case 6:mt.next=11;break;case 8:mt.prev=8,mt.t0=mt.catch(3),yt.logError(mt.t0);case 11:bt&&I.syncContent();case 12:I.toggleEvents();case 13:case"end":return mt.stop()}},q,null,[[3,8]])}))()},getContent:function(){var I=this.activeRte;return I&&"function"==typeof I.getContent?I.getContent():this.getChildrenContainer().innerHTML},syncContent:function(){var I=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},q=this.model,ge=this.rte,Te=this.rteEnabled;if(Te||I.force){var at=this.getContent(),yt=q.components(),bt=G({fromDisable:1},I);if(q.set("content","",bt),ge.customRte)yt.length&&yt.reset(null,I),q.set("content",at,bt);else{var mt=function wt(Ht){var tn=!!Ht.get("textable"),cn=!["text","default",""].some(function(kn){return Ht.is(kn)})||tn;Ht.set(G({_innertext:!cn,editable:cn&&Ht.get("editable"),selectable:cn,hoverable:cn,removable:tn,draggable:tn,highlightable:0,copyable:tn},!tn&&{toolbar:""}),I),Ht.get("components").each(function(kn){return wt(kn)})};yt.reset(at,I),yt.each(function(wt){return mt(wt)}),yt.trigger("resetNavigator")}}},onInput:function(){var I=this.em,q="component",ge=["".concat(q,":update"),"".concat(q,":input")].join(" ");I&&I.trigger(ge,this.model)},disablePropagation:function(I){I.stopPropagation()},toggleEvents:function(I){var q=this.em,ge=this.model,Te=this.$el,at={on:f.on,off:f.off},yt=I?"on":"off";q.setEditing(I?this:0),this.rteEnabled=!!I;var bt=[this.el.ownerDocument,document];if(at.off(bt,"mousedown",this.disableEditing),at[yt](bt,"mousedown",this.disableEditing),q[yt]("toolbar:run:before",this.disableEditing),ge&&(ge[yt]("removed",this.disableEditing),ge.trigger("rte:".concat(I?"enable":"disable"))),Te&&Te.off("mousedown",this.disablePropagation),Te&&Te[yt]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var mt=this.el;mt;)mt.draggable=!I,(mt=mt.parentNode)&&"BODY"==mt.tagName&&(mt=0)}}),ze=Oe.extend({render:function(){for(var I=arguments.length,q=new Array(I),ge=0;ge<I;ge++)q[ge]=arguments[ge];return Oe.prototype.render.apply(this,q),this.el.addEventListener("click",this.prevDef,!0),this}});function qe(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function Je(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?qe(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):qe(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var ot="label",X=pe.extend({defaults:Je(Je({},pe.prototype.defaults),{},{type:ot,tagName:ot,traits:["id","title","for"]})},{isComponent:function(I){return Object(f.toLowerCase)(I.tagName)===ot}}),ke=ze.extend({tagName:"span"});function Ae(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function Ne(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?Ae(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):Ae(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var he="video",Be="yt",Ve="vi",tt="ytnc",dt=S.extend({defaults:Ne(Ne({},S.prototype.defaults),{},{type:he,tagName:he,videoId:"",void:0,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:0,poster:"",muted:0,autoplay:0,controls:1,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}}),initialize:function(I,q){this.em=q.em,this.get("src")&&this.parseFromSrc(),this.updateTraits(),this.listenTo(this,"change:provider",this.updateTraits),this.listenTo(this,"change:videoId change:provider",this.updateSrc),S.prototype.initialize.apply(this,arguments)},updateTraits:function(){var I,q="iframe";switch(this.get("provider")){case Be:case tt:I=this.getYoutubeTraits();break;case Ve:I=this.getVimeoTraits();break;default:q="video",I=this.getSourceTraits()}this.set({tagName:q},{silent:1}),this.set({traits:I}),this.em.trigger("component:toggled")},parseFromSrc:function(){var I=this.get("provider"),q=this.parseUri(this.get("src")),ge=q.query;switch(I){case Be:case tt:case Ve:var Te=q.pathname.split("/").pop();this.set("videoId",Te),ge.list&&this.set("list",ge.list),ge.autoplay&&this.set("autoplay",1),ge.loop&&this.set("loop",1),0===parseInt(ge.controls)&&this.set("controls",0),ge.color&&this.set("color",ge.color),"0"===ge.rel&&this.set("rel",0),"1"===ge.modestbranding&&this.set("modestbranding",1)}},updateSrc:function(){var I="";switch(this.get("provider")){case Be:I=this.getYoutubeSrc();break;case tt:I=this.getYoutubeNoCookieSrc();break;case Ve:I=this.getVimeoSrc()}this.set({src:I})},getAttrToHTML:function(){for(var I=arguments.length,q=new Array(I),ge=0;ge<I;ge++)q[ge]=arguments[ge];var Te=S.prototype.getAttrToHTML.apply(this,q),at=this.get("provider");switch(at){case Be:case tt:case Ve:break;default:this.get("loop")&&(Te.loop="loop"),this.get("autoplay")&&(Te.autoplay="autoplay"),this.get("controls")&&(Te.controls="controls")}return Te},getProviderTrait:function(){return{type:"select",label:"Provider",name:"provider",changeProp:1,options:[{value:"so",name:"HTML5 Source"},{value:Be,name:"Youtube"},{value:tt,name:"Youtube (no cookie)"},{value:Ve,name:"Vimeo"}]}},getSourceTraits:function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:1},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},getYoutubeTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:1},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:1}]},getVimeoTraits:function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:1},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:1},this.getAutoplayTrait(),this.getLoopTrait()]},getAutoplayTrait:function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:1}},getLoopTrait:function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:1}},getControlsTrait:function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:1}},getYoutubeSrc:function(){var I=this.get("videoId"),q=this.get("ytUrl"),ge=this.get("list");return q+=I+(I.indexOf("?")<0?"?":""),q+=ge?"&list=".concat(ge):"",q+=this.get("autoplay")?"&autoplay=1":"",q+=this.get("controls")?"":"&controls=0&showinfo=0",q+=this.get("loop")?"&loop=1&playlist=".concat(I):"",(q+=this.get("rel")?"":"&rel=0")+(this.get("modestbranding")?"&modestbranding=1":"")},getYoutubeNoCookieSrc:function(){return this.getYoutubeSrc().replace(this.get("ytUrl"),this.get("ytncUrl"))},getVimeoSrc:function(){var I=this.get("viUrl");return I+=this.get("videoId")+"?",I+=this.get("autoplay")?"&autoplay=1":"",I+=this.get("loop")?"&loop=1":"",(I+=this.get("controls")?"":"&title=0&portrait=0&badge=0")+(this.get("color")?"&color="+this.get("color"):"")}},{isComponent:function(I){var q="",ge=I.tagName,Te=I.src,at=/youtube\.com\/embed/.test(Te),yt=/youtube-nocookie\.com\/embed/.test(Te),bt=/player\.vimeo\.com\/video/.test(Te),mt=at||yt||bt;return(Object(f.toLowerCase)(ge)==he||"iframe"==Object(f.toLowerCase)(ge)&&mt)&&(q={type:"video"},Te&&(q.src=Te),mt&&(at?q.provider=Be:yt?q.provider=tt:bt&&(q.provider=Ve))),q}}),vt=m.extend({tagName:"div",events:{},initialize:function(I){u.default.prototype.initialize.apply(this,arguments);var q=this.model,ge=["loop","autoplay","controls","color","rel","modestbranding","poster"],Te=ge.map(function(at){return"change:".concat(at)}).join(" ");this.listenTo(q,"change:provider",this.updateProvider),this.listenTo(q,"change:src",this.updateSrc),this.listenTo(q,Te,this.updateVideo)},updateProvider:function(){var I=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(I))},updateSrc:function(){var I=this.model,q=this.videoEl;if(q){var ge=I.get("provider"),Te=I.get("src");switch(ge){case"yt":Te=I.getYoutubeSrc();break;case"ytnc":Te=I.getYoutubeNoCookieSrc();break;case"vi":Te=I.getVimeoSrc()}q.src=Te}},updateVideo:function(){var I=this.model.get("provider"),q=this.videoEl,ge=this.model;switch(I){case"yt":case"ytnc":case"vi":this.model.trigger("change:videoId");break;default:q.loop=ge.get("loop"),q.autoplay=ge.get("autoplay"),q.controls=ge.get("controls"),q.poster=ge.get("poster")}},renderByProvider:function(I){var q;switch(I){case"yt":q=this.renderYoutube();break;case"ytnc":q=this.renderYoutubeNoCookie();break;case"vi":q=this.renderVimeo();break;default:q=this.renderSource()}return this.videoEl=q,q},renderSource:function(){var I=document.createElement("video");return I.src=this.model.get("src"),this.initVideoEl(I),I},renderYoutube:function(){var I=document.createElement("iframe");return I.src=this.model.getYoutubeSrc(),I.frameBorder=0,I.setAttribute("allowfullscreen",!0),this.initVideoEl(I),I},renderYoutubeNoCookie:function(){var I=document.createElement("iframe");return I.src=this.model.getYoutubeNoCookieSrc(),I.frameBorder=0,I.setAttribute("allowfullscreen",!0),this.initVideoEl(I),I},renderVimeo:function(){var I=document.createElement("iframe");return I.src=this.model.getVimeoSrc(),I.frameBorder=0,I.setAttribute("allowfullscreen",!0),this.initVideoEl(I),I},initVideoEl:function(I){I.className=this.ppfx+"no-pointer",I.style.height="100%",I.style.width="100%"},render:function(){for(var I=arguments.length,q=new Array(I),ge=0;ge<I;ge++)q[ge]=arguments[ge];m.prototype.render.apply(this,q),this.updateClasses();var Te=this.model.get("provider");return this.el.appendChild(this.renderByProvider(Te)),this.updateVideo(),this}});function Xe(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function ft(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?Xe(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):Xe(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var je="script",st=c.a.extend({defaults:ft(ft({},c.a.prototype.defaults),{},{type:je,tagName:je,droppable:!1,draggable:!1,layerable:!1})},{isComponent:function(I){if(Object(f.toLowerCase)(I.tagName)==je){var q={type:je};return I.src&&(q.src=I.src,q.onload=I.onload),q}}}),te=m.extend({tagName:"script",events:{},render:function(){var I=this.model,q=this.em,ge=I.get("src"),at=q&&q.get("scriptCount")||0,yt="";if(ge){var bt=I.get("onload"),mt="script".concat(at),wt="script".concat(at+1),Ht="".concat(mt,"Start"),tn="".concat(wt,"Start");yt="\n        var ".concat(mt," = document.createElement('script');\n        ").concat(mt,".onload = function() {\n          ").concat(bt?"".concat(bt,"();\n"):"","\n          typeof ").concat(tn," == 'function' && ").concat(tn,"();\n        };\n        ").concat(mt,".src = '").concat(ge,"';\n        function ").concat(Ht,"() { document.body.appendChild(").concat(mt,"); };\n        ").concat(at?"":"".concat(Ht,"();"),"\n      "),q&&q.set("scriptCount",at+1)}else yt=I.__innerHTML();return this.el.innerHTML=yt,this.postRender(),this}});function Ge(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function B(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?Ge(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):Ge(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var F="svg",me=c.a.extend({defaults:B(B({},c.a.prototype.defaults),{},{type:F,tagName:F,highlightable:0,resizable:{ratioDefault:1}}),getName:function(){var I=this.get("tagName"),q=this.get("custom-name");return I=I.charAt(0).toUpperCase()+I.slice(1),q||I}},{isComponent:function(I){return Object(f.toLowerCase)(I.tagName)===F}});function le(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function Me(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?le(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):le(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var Ze=me.extend({defaults:Me(Me({},me.prototype.defaults),{},{selectable:!1,hoverable:!1,layerable:!1})},{isComponent:function(I){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!q.inSvg}}),ct=u.default.extend({_createElement:function(I){return document.createElementNS("http://www.w3.org/2000/svg",I)}});function et(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function kt(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?et(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):et(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var At=c.a.extend({defaults:kt(kt({},c.a.prototype.defaults),{},{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0}),toHTML:function(){var I=this.parent(),q=this.get("content");return I&&I.is("script")?q:Object(f.escape)(q)}},{isComponent:function(I){var q="";return 3===I.nodeType&&(q={type:"textnode",content:I.textContent}),q}});function St(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}var Dt=At.extend({defaults:function(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?St(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):St(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}({},At.prototype.defaults),toHTML:function(){return"\x3c!--".concat(this.get("content"),"--\x3e")}},{isComponent:function(I){if(8==I.nodeType)return{tagName:"NULL",type:"comment",content:I.textContent}}}),Mt=u.default.extend({initialize:function(){u.default.prototype.initialize.apply(this,arguments)},_setAttributes:function(){},renderAttributes:function(){},updateStatus:function(){},updateClasses:function(){},setAttribute:function(){},updateAttributes:function(){},initClasses:function(){},initComponents:function(){},delegateEvents:function(){},_createElement:function(){return document.createTextNode("")},render:function(){var I=this.model;return I.opt.temporary||(this.el.textContent=I.get("content")),this}}),Gt=Mt.extend({_createElement:function(){return document.createComment(this.model.get("content"))}});function Xt(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function ln(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?Xt(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):Xt(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var Qt=c.a.extend({defaults:ln(ln({},c.a.prototype.defaults),{},{__wrapper:1,removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]}),__postAdd:function(){var I=this.em&&this.em.get("UndoManager");return I&&!this.__hasUm&&I.add(this),c.a.prototype.__postAdd.call(this,arguments)},__postRemove:function(){var I=this.em&&this.em.get("UndoManager");return I&&I.remove(this),c.a.prototype.__postRemove.call(this,arguments)}},{isComponent:function(){return!1}});function It(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function Tt(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?It(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):It(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}var Ut="iframe",Kt=c.a.extend({defaults:function(){return Tt(Tt({},c.a.prototype.defaults),{},{type:Ut,tagName:Ut,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})}},{isComponent:function(I){return Object(f.toLowerCase)(I.tagName)===Ut}}),Et=i(13),qt=u.default.extend({tagName:"div",initialize:function(){for(var I=arguments.length,q=new Array(I),ge=0;ge<I;ge++)q[ge]=arguments[ge];u.default.prototype.initialize.apply(this,q),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},updateSrc:function(){var I=Object(Et.h)(this.el,"iframe")[0];I&&Object(Et.d)(I,{src:this.__getSrc()})},render:function(){for(var I=arguments.length,q=new Array(I),ge=0;ge<I;ge++)q[ge]=arguments[ge];u.default.prototype.render.apply(this,q);var Te=Object(Et.f)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(Te),this},__getSrc:function(){return this.model.getAttributes().src||""}});function On(I,q){var ge=Object.keys(I);if(Object.getOwnPropertySymbols){var Te=Object.getOwnPropertySymbols(I);q&&(Te=Te.filter(function(at){return Object.getOwnPropertyDescriptor(I,at).enumerable})),ge.push.apply(ge,Te)}return ge}function mn(I){for(var q=1;q<arguments.length;q++){var ge=null!=arguments[q]?arguments[q]:{};q%2?On(Object(ge),!0).forEach(function(Te){ne()(I,Te,ge[Te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(ge)):On(Object(ge)).forEach(function(Te){Object.defineProperty(I,Te,Object.getOwnPropertyDescriptor(ge,Te))})}return I}oe.default=function(){var I,q,ge,Te={},at={},yt=[{id:"cell",model:b,view:A},{id:"row",model:T,view:C},{id:"table",model:v,view:d},{id:"thead",model:fe,view:ce},{id:"tbody",model:L,view:Ce},{id:"tfoot",model:xe,view:re},{id:"map",model:n,view:s},{id:"link",model:de,view:ze},{id:"label",model:X,view:ke},{id:"video",model:dt,view:vt},{id:"image",model:S,view:m},{id:"script",model:st,view:te},{id:"svg-in",model:Ze,view:ct},{id:"svg",model:me,view:ct},{id:"iframe",model:Kt,view:qt},{id:"comment",model:Dt,view:Gt},{id:"textnode",model:At,view:Mt},{id:"text",model:pe,view:Oe},{id:"wrapper",model:Qt,view:u.default},{id:"default",model:c.a,view:u.default}];return{Component:c.a,Components:h.a,ComponentsView:p.a,componentTypes:yt,componentsById:at,name:"DomComponents",getConfig:function(){return Te},storageKey:function(){var bt=[],mt=Te.stm&&Te.stm.getConfig()||{};return mt.storeHtml&&bt.push("html"),mt.storeComponents&&bt.push("components"),bt},init:function(bt){var mt=this;for(var wt in I=(Te=bt||{}).em,this.em=I,I&&(Te.components=I.config.components||Te.components),x)wt in Te||(Te[wt]=x[wt]);var Ht=Te.pStylePrefix;if(Ht&&(Te.stylePrefix=Ht+Te.stylePrefix),I){Te.modal=I.get("Modal")||"",Te.am=I.get("AssetManager")||"",I.get("Parser").compTypes=yt,I.on("change:componentHovered",this.componentHovered,this);var tn=I.get("selected");I.listenTo(tn,"add",function(cn,kn,Vn){return mt.selectAdd(tn.getComponent(cn),Vn)}),I.listenTo(tn,"remove",function(cn,kn,Vn){return mt.selectRemove(tn.getComponent(cn),Vn)})}return I.get("hasPages")&&(Te.components=""),this},onLoad:function(){Te.components&&this.setComponents(Te.components,{silent:1})},load:function(){var bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",mt=this.em,wt="";!bt&&Te.stm&&(bt=Te.em.getCacheLoad());var Ht=bt,tn=Ht.components,cn=Ht.html;if(tn)if(Object(M.isObject)(tn)||Object(M.isArray)(tn))wt=tn;else try{wt=JSON.parse(tn)}catch(Vn){mt&&mt.logError(Vn)}else cn&&(wt=cn);var kn=wt&&wt.constructor===Object;return(wt&&wt.length||kn)&&(this.clear(),kn?this.getWrapper().set(wt):this.getComponents().add(wt)),wt},store:function(bt){if(!Te.stm||this.em.get("hasPages"))return{};var mt={},wt=this.storageKey();if(wt.indexOf("html")>=0&&(mt.html=Te.em.getHtml()),wt.indexOf("components")>=0){var Ht=Te.storeWrapper?this.getWrapper():this.getComponents();mt.components=JSON.stringify(Ht)}return bt||Te.stm.store(mt),mt},getComponent:function(){var bt=this.em.get("PageManager").getSelected(),mt=bt&&bt.getMainFrame();return mt&&mt.getComponent()},getWrapper:function(){return this.getComponent()},getComponents:function(){var bt=this.getWrapper();return bt&&bt.get("components")},addComponent:function(bt){var mt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.getComponents().add(bt,mt)},render:function(){return ge.render().el},clear:function(){var bt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getComponents().map(function(mt){return mt}).forEach(function(mt){return mt.remove(bt)}),this},setComponents:function(bt){var mt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.clear(mt).addComponent(bt,mt)},addType:function(bt,mt){var wt=this.em,Ht=mt.model,tn=void 0===Ht?{}:Ht,cn=mt.view,kn=void 0===cn?{}:cn,Vn=mt.isComponent,sr=mt.extend,Yn=mt.extendView,lr=mt.extendFn,Un=void 0===lr?[]:lr,er=mt.extendFnView,tr=void 0===er?[]:er,Pn=this.getType(bt),Sr=this.getType(sr),Hn=this.getType(Yn),yn=Sr||Pn||this.getType("default"),Kn=yn.model,Cn=Hn?Hn.view:yn.view,Nn=function(cr,br,Wn){return cr.reduce(function(ur,Zn){var nr=br[Zn],En=Wn.prototype[Zn];return nr&&En&&(ur[Zn]=function(){En.bind(this).apply(void 0,arguments),nr.bind(this).apply(void 0,arguments)}),ur},{})};"object"===U()(tn)&&(mt.model=Kn.extend(mn(mn(mn({},tn),Nn(Un,tn,Kn)),{},{defaults:mn(mn({},Object(M.result)(Kn.prototype,"defaults")||{}),Object(M.result)(tn,"defaults")||{})}),{isComponent:!Pn||Sr||Vn?Vn||function(){return 0}:Kn.isComponent})),"object"===U()(kn)&&(mt.view=Cn.extend(mn(mn({},kn),Nn(tr,kn,Cn)))),Pn?(Pn.model=mt.model,Pn.view=mt.view):(mt.id=bt,yt.unshift(mt));var _r="component:type:".concat(Pn?"update":"add");return wt&&wt.trigger(_r,Pn||mt),this},getType:function(bt){for(var mt=yt,wt=0;wt<mt.length;wt++)if(mt[wt].id==bt)return mt[wt]},removeType:function(bt){var mt=yt,wt=this.getType(bt);if(wt){var Ht=mt.indexOf(wt);return mt.splice(Ht,1),wt}},getTypes:function(){return yt},selectAdd:function(bt){var mt=this,wt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bt&&(bt.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(Ht){return mt.em.trigger(Ht,bt,wt)}))},selectRemove:function(bt){var mt=this,wt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};bt&&(bt.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(Ht){return mt.em.trigger(Ht,bt,wt)}))},componentHovered:function(){var bt=Te.em,mt=bt.get("componentHovered"),wt=bt.previous("componentHovered"),Ht="hovered";wt&&wt.get("status")==Ht&&wt.set({status:"",state:""}),mt&&Object(M.isEmpty)(mt.get("status"))&&mt.set("status",Ht)},allById:function(){return at},destroy:function(){var bt=this.allById();Object.keys(bt).forEach(function(mt){return bt[mt]&&bt[mt].remove()}),ge&&ge.remove(),[Te,I,at,q,ge].forEach(function(mt){return{}}),this.em={}}}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(3),ne=i.n(Z),Y=i(0),U=i(18),M={stylePrefix:"gjs-",components:"",style:"",fromElement:0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"\n    * {\n      box-sizing: border-box;\n    }\n    html, body, [data-gjs-type=wrapper] {\n      min-height: 100%;\n    }\n    body {\n      margin: 0;\n      height: 100%;\n      background-color: #fff\n    }\n    [data-gjs-type=wrapper] {\n      overflow: auto;\n      overflow-x: hidden;\n    }\n\n    * ::-webkit-scrollbar-track {\n      background: rgba(0, 0, 0, 0.1)\n    }\n\n    * ::-webkit-scrollbar-thumb {\n      background: rgba(255, 255, 255, 0.2)\n    }\n\n    * ::-webkit-scrollbar {\n      width: 10px\n    }\n  ",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:1,allowScripts:0,showDevices:1,devicePreviewMode:0,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:0,jsInHtml:!0,nativeDnD:1,multipleSelection:1,exportWrapper:0,wrapperIsBody:1,optsHtml:{},optsCss:{},avoidInlineStyle:1,avoidDefaults:1,clearStyles:0,dragMode:0,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",el:"",i18n:{},undoManager:{},assetManager:{},canvas:{},layers:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{sectors:[{name:"General",open:!1,buildProps:["float","display","position","top","right","left","bottom"]},{name:"Flex",open:!1,buildProps:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"],properties:[{property:"text-align",list:[{value:"left",className:"fa fa-align-left"},{value:"center",className:"fa fa-align-center"},{value:"right",className:"fa fa-align-right"},{value:"justify",className:"fa fa-align-justify"}]}]},{name:"Decorations",open:!1,buildProps:["border-radius-c","background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,buildProps:["transition","perspective","transform"]}]},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:0,multiFrames:0,customUI:!1},x=i(22),c=i.n(x),h=i(2),u=i.n(h),p=i(1),f=i(6),P=i.n(f),w=i(5),b=i.n(w),A=i(8),R=i.n(A),_=i(9),k=i.n(_),T=i(4),C=i.n(T);function j(S){var O=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(z){return!1}}();return function(){var z,n=C()(S);if(O){var m=C()(this).constructor;z=Reflect.construct(n,arguments,m)}else z=n.apply(this,arguments);return k()(this,z)}}var N=function(S){R()(z,S);var O=j(z);function z(){return b()(this,z),O.apply(this,arguments)}return z}(h.Model),H=function(S){R()(z,S);var O=j(z);function z(){return b()(this,z),O.apply(this,arguments)}return P()(z,[{key:"getByComponent",value:function(n){var m=this;return this.filter(function(s){return m.getComponent(s)===n})[0]}},{key:"addComponent",value:function(n,m){var s=this,E=(Object(Y.isArray)(n)?n:[n]).filter(function(W){return!s.hasComponent(W)}).map(function(W){return{component:W}});return this.push(E,m)}},{key:"getComponent",value:function(n){return n.get("component")}},{key:"hasComponent",value:function(n){var m=this.getByComponent(n);return m&&this.contains(m)}},{key:"lastComponent",value:function(){var n=this.last();return n&&this.getComponent(n)}},{key:"allComponents",value:function(){var n=this;return this.map(function(m){return n.getComponent(m)}).filter(function(m){return m})}},{key:"removeComponent",value:function(n,m){var s=this,E=(Object(Y.isArray)(n)?n:[n]).map(function(W){return s.getByComponent(W)});return this.remove(E,m)}}]),z}(h.Collection);H.prototype.model=N;var v=["unset"];function d(S,O){var z=Object.keys(S);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(S);O&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(S,m).enumerable})),z.push.apply(z,n)}return z}function l(S){for(var O=1;O<arguments.length;O++){var z=null!=arguments[O]?arguments[O]:{};O%2?d(Object(z),!0).forEach(function(n){ne()(S,n,z[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(z)):d(Object(z)).forEach(function(n){Object.defineProperty(S,n,Object.getOwnPropertyDescriptor(z,n))})}return S}u.a.$=U.default;var y,g,L=[i(114),i(115),i(118),i(83),i(110),i(108),i(111),i(106),i(109),i(112),i(107),i(104),i(116),i(101),i(113),i(47),i(102),i(99),i(117),i(105),i(119),i(103)];!function(S){var O=S.$;if(O&&O.prototype&&"jQuery"!==O.prototype.constructor.name){var z=O.fn;z.hide=function(){return this.css("display","none")},z.show=function(){return this.css("display","block")},z.focus=function(){var s=this.get(0);return s&&s.focus(),this},z.bind=function(s,E){return this.on(s,E)},z.unbind=function(s,E){if(Object(Y.isObject)(s)){for(var W in s)s.hasOwnProperty(W)&&this.off(W,s[W]);return this}return this.off(s,E)},z.click=function(s){return s?this.on("click",s):this.trigger("click")},z.change=function(s){return s?this.on("change",s):this.trigger("change")},z.keydown=function(s){return s?this.on("keydown",s):this.trigger("keydown")},z.delegate=function(s,E,W,pe){return pe||(pe=W),this.on(E,s,function(Ee){Ee.data=W,pe(Ee)})},z.scrollLeft=function(){var s=this.get(0),E=(s=9==s.nodeType?s.defaultView:s)instanceof Window?s:null;return E?E.pageXOffset:s.scrollLeft||0},z.scrollTop=function(){var s=this.get(0),E=(s=9==s.nodeType?s.defaultView:s)instanceof Window?s:null;return E?E.pageYOffset:s.scrollTop||0};var n=O.prototype.offset;z.offset=function(s){var E,W;return s&&(E=s.top,W=s.left),void 0!==E&&this.css("top","".concat(E,"px")),void 0!==W&&this.css("left","".concat(W,"px")),n.call(this)},O.map=function(s,E){for(var W=[],pe=0;pe<s.length;pe++)W.push(E(s[pe],pe));return W};var m=Array.prototype.indexOf;O.inArray=function(s,E,W){return null==E?-1:m.call(E,s,W)},O.Event=function(s,E){if(!(this instanceof O.Event))return new O.Event(s,E);this.type=s,this.isDefaultPrevented=function(){return!1}}}}({Backbone:u.a,$:u.a.$});var K={debug:console.log,info:console.info,warning:console.warn,error:console.error},ee=u.a.Model.extend({defaults:function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},initialize:function(){var S=this,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=O,this.set("Config",O),this.set("modules",[]),this.set("toLoad",[]),this.set("storables",[]),this.set("selected",new H),this.set("dmode",O.dragMode),this.set("hasPages",!!O.pageManager);var z=O.el,n=O.log,m=!0===n?Object(Y.keys)(K):Object(Y.isArray)(n)?n:[];Object(Y.bindAll)(this,"initBaseColorPicker"),z&&O.fromElement&&(this.config.components=z.innerHTML),this.attrsOrig=z?Object(Y.toArray)(z.attributes).reduce(function(s,E){return s[E.nodeName]=E.nodeValue,s},{}):"",L.forEach(function(s){return S.loadModule(s)}),this.on("change:componentHovered",this.componentHovered,this),this.on("change:changesCount",this.updateChanges,this),this.on("change:readyLoad change:readyCanvas",this._checkReady,this),m.forEach(function(s){return S.listenLog(s)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(s){var E=s.from,W=s.to;S.listenTo(S,E,function(){for(var pe=arguments.length,Ee=new Array(pe),be=0;be<pe;be++)Ee[be]=arguments[be];S.trigger.apply(S,[W].concat(Ee)),S.logWarning("The event '".concat(E,"' is deprecated, replace it with '").concat(W,"'"))})})},_checkReady:function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},getContainer:function(){return this.config.el},listenLog:function(S){this.listenTo(this,"log:".concat(S),K[S])},getConfig:function(S){var O=this.config;return Object(Y.isUndefined)(S)?O:O[S]},loadOnStart:function(){var S=this,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,z=this.get("StorageManager");this.get("toLoad").forEach(function(m){m.onLoad()});var n=function(){S.get("modules").forEach(function(m){return m.postLoad&&m.postLoad(S)}),S.set("readyLoad",1),O&&O()};z&&z.canAutoload()?this.load(n):setTimeout(n)},updateChanges:function(){var S=this,O=this.get("StorageManager"),z=this.get("changesCount");g&&clearTimeout(g),g=setTimeout(function(){return S.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=z?function(n){return 1}:null),O.isAutosave()&&z>=O.getStepsBeforeSave()&&this.store()},loadModule:function(S){var O=this.config,z=new(S.default||S),n=z.name.charAt(0).toLowerCase()+z.name.slice(1),m=Object(Y.isUndefined)(O[n])?O[z.name]:O[n],s=!0===m?{}:m||{},E=this.get("StorageManager");if(s.pStylePrefix=O.pStylePrefix||"",Object(Y.isUndefined)(m)||m||(s._disable=1),z.storageKey&&z.store&&z.load&&E){s.stm=E;var W="domComponents"==n?"unshift":"push";this.get("storables")[W](z)}return s.em=this,z.init(l({},s)),!z.private&&this.set(z.name,z),z.onLoad&&this.get("toLoad").push(z),this.get("modules").push(z),this},init:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.destroyed&&(this.initialize(O),this.destroyed=0),this.set("Editor",S)},getEditor:function(){return this.get("Editor")},handleUpdates:function(S,O){var z=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};n.temporary||n.noCount||n.avoidStore||!this.get("ready")||(y&&clearTimeout(y),y=setTimeout(function(){var m=z.get("changesCount")||0,s=c()(n,v);z.set("changesCount",m+1,s)},0))},changesUp:function(S){this.handleUpdates(0,0,S)},componentHovered:function(S,O,z){var n=this.previous("componentHovered");n&&this.trigger("component:unhovered",n,z),O&&this.trigger("component:hovered",O,z)},getSelected:function(){return this.get("selected").lastComponent()},getSelectedAll:function(){return this.get("selected").allComponents()},setSelected:function(S){var O=this,z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=z.event,m=n&&(n.ctrlKey||n.metaKey),s=n||{},E=s.shiftKey,W=Object(Y.isArray)(S),pe=(W?S:[S]).map(function(de){return Object(p.getModel)(de,U.default)}),Ee=this.getSelectedAll(),be=this.getConfig("multipleSelection");W&&this.removeSelected(Ee.filter(function(de){return!Object(Y.contains)(pe,de)})),pe.forEach(function(de){var _e=Object(p.getModel)(de,U.default);if(!_e||_e.get("selectable")){if(m&&be)return O.toggleSelected(_e);if(E&&be){O.clearSelection(O.get("Canvas").getWindow());var Pe,He,ut=_e.collection,rt=_e.index();if(O.getSelectedAll().forEach(function(G){var ae=G.collection,Oe=G.index();ae===ut&&(Oe<rt?Pe=Object(Y.isUndefined)(Pe)?Oe:Math.max(Pe,Oe):Oe>rt&&(He=Object(Y.isUndefined)(He)?Oe:Math.min(He,Oe)))}),!Object(Y.isUndefined)(Pe))for(;Pe!==rt;)O.addSelected(ut.at(Pe)),Pe++;if(!Object(Y.isUndefined)(He))for(;He!==rt;)O.addSelected(ut.at(He)),He--;return O.addSelected(_e)}!W&&O.removeSelected(Ee.filter(function(G){return G!==_e})),O.addSelected(_e,z)}})},addSelected:function(S){var O=this,z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(p.getModel)(S,U.default),m=Object(Y.isArray)(n)?n:[n];m.forEach(function(s){if(!s||s.get("selectable")){var E=O.get("selected");z.forceChange&&O.removeSelected(s,z),E.addComponent(s,z)}})},removeSelected:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.get("selected").removeComponent(Object(p.getModel)(S,U.default),O)},toggleSelected:function(S){var O=this,z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(p.getModel)(S,U.default),m=Object(Y.isArray)(n)?n:[n];m.forEach(function(s){O.get("selected").hasComponent(s)?O.removeSelected(s,z):O.addSelected(s,z)})},setHovered:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=Object(p.getModel)(S,U.default);z&&!z.get("hoverable")||(O.forceChange&&this.set("componentHovered",""),this.set("componentHovered",z,O))},getHovered:function(){return this.get("componentHovered")},setComponents:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.get("DomComponents").setComponents(S,O)},getComponents:function(){var S=this.get("DomComponents"),O=this.get("CodeManager");if(S&&O){var z=S.getComponents();return O.getCode(z,"json")}},setStyle:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=this.get("CssComposer");return z.clear(O),z.getAll().add(S,O),this},addStyle:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=this.getStyle().add(S,O);return Object(Y.isArray)(z)?z:[z]},getStyle:function(){return this.get("CssComposer").getAll()},setState:function(S){return this.set("state",S),this},getState:function(){return this.get("state")||""},getHtml:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=this.config,z=O.optsHtml,n=O.exportWrapper,m=O.wrapperIsBody,s=O.jsInHtml?this.getJs(S):"",E=S.component||this.get("DomComponents").getComponent(),W=E?this.get("CodeManager").getCode(E,"html",l(l({exportWrapper:n,wrapperIsBody:m},z),S)):"";return W+(s?"<script>".concat(s,"<\/script>"):"")},getCss:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=this.config,z=O.optsCss,n=O.wrapperIsBody,m=S.avoidProtected,s=Object(Y.isUndefined)(S.keepUnusedStyles)?O.keepUnusedStyles:S.keepUnusedStyles,E=this.get("CssComposer"),W=S.component||this.get("DomComponents").getComponent(),pe=m?"":O.protectedCss,Ee=W&&this.get("CodeManager").getCode(W,"css",l(l({cssc:E,wrapperIsBody:n,keepUnusedStyles:s},z),S));return W?S.json?Ee:pe+Ee:""},getJs:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=S.component||this.get("DomComponents").getWrapper();return O?this.get("CodeManager").getCode(O,"js").trim():""},store:function(S){var O=this,z=this.get("StorageManager");if(z){var n=this.storeData();return z.store(n,function(m){S&&S(m,n),O.set("changesCount",0),O.trigger("storage:store",n)}),n}},storeData:function(){var S={},O=this.getEditing();return O&&O.trigger("sync:content",{noCount:!0}),this.get("storables").forEach(function(z){S=l(l({},S),z.store(1))}),S},load:function(){var S=this,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.getCacheLoad(1,function(z){S.loadData(z),O&&O(z)})},loadData:function(){var S=this,O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},z=this.get("StorageManager"),n=z.__clearKeys(O);return this.get("storables").forEach(function(m){m.load(n),m.postLoad&&m.postLoad(S)}),n},getCacheLoad:function(S,O){var z=this;if(this.cacheLoad&&!S)return this.cacheLoad;var n=this.get("StorageManager"),m=[];if(!n)return{};this.get("storables").forEach(function(s){var E=s.storageKey;E=Object(Y.isFunction)(E)?E():E,(Object(Y.isArray)(E)?E:[E]).forEach(function(W){return m.push(W)})}),n.load(m,function(s){z.cacheLoad=s,O&&O(s),setTimeout(function(){return z.trigger("storage:load",s)})})},getDeviceModel:function(){var S=this.get("device");return this.get("DeviceManager").get(S)},runDefault:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=this.get("Commands").get(this.config.defaultCommand);O&&!this.defaultRunning&&(O.stop(this,this,S),O.run(this,this,S),this.defaultRunning=1)},stopDefault:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=this.get("Commands"),z=O.get(this.config.defaultCommand);z&&this.defaultRunning&&(z.stop(this,this,S),this.defaultRunning=0)},refreshCanvas:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.set("canvasOffset",null),this.set("canvasOffset",this.get("Canvas").getOffset()),S.tools&&this.trigger("canvas:updateTools")},clearSelection:function(S){(S||window).getSelection().removeAllRanges()},getCurrentMedia:function(){var S=this.config,O=this.getDeviceModel(),z=S.mediaCondition,n=S.devicePreviewMode,m=O&&O.get("widthMedia");return O&&m&&!n?"(".concat(z,": ").concat(m,")"):""},getWrapper:function(){return this.get("DomComponents").getWrapper()},setCurrentFrame:function(S){return this.set("currentFrame",S)},getCurrentFrame:function(){return this.get("currentFrame")},getCurrentFrameModel:function(){return(this.getCurrentFrame()||{}).model},getDirtyCount:function(){return this.get("changesCount")},getZoomDecimal:function(){return this.get("Canvas").getZoomDecimal()},getZoomMultiplier:function(){return this.get("Canvas").getZoomMultiplier()},setDragMode:function(S){return this.set("dmode",S)},t:function(){var S;return(S=this.get("I18n")).t.apply(S,arguments)},inAbsoluteMode:function(){return"absolute"===this.get("dmode")},destroyAll:function(){var S=this,O=this.config,z=this.view,n=this.getEditor(),m=(O.grapesjs||{}).editors,s=void 0===m?[]:m;this.stopDefault(),this.get("modules").slice().reverse().forEach(function(E){return E.destroy()}),z&&z.remove(),this.stopListening(),this.clear({silent:!0}),this.destroyed=1,["config","view","_previousAttributes","_events","_listeners"].forEach(function(E){return S[E]={}}),s.splice(s.indexOf(n),1),Object(p.hasWin)()&&Object(U.default)(O.el).empty().attr(this.attrsOrig)},getEditing:function(){var S=this.get("editing");return S&&S.model||null},setEditing:function(S){return this.set("editing",S),this},isEditing:function(){return!!this.get("editing")},log:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=O.ns,n=O.level,m=void 0===n?"debug":n;if(this.trigger("log",S,O),m&&this.trigger("log:".concat(m),S,O),z){var s="log-".concat(z);this.trigger(s,S,O),m&&this.trigger("".concat(s,":").concat(m),S,O)}},logInfo:function(S,O){this.log(S,l(l({},O),{},{level:"info"}))},logWarning:function(S,O){this.log(S,l(l({},O),{},{level:"warning"}))},logError:function(S,O){this.log(S,l(l({},O),{},{level:"error"}))},initBaseColorPicker:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=this.getConfig(),n=z.colorPicker,m=void 0===n?{}:n,s=z.el,E=z.stylePrefix;return Object(U.default)(S).spectrum(l(l({containerClassName:"".concat(E,"one-bg ").concat(E,"two-color"),appendTo:s||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2a2f"},O),m))},data:function(S,O,z){var n="_gjs-data";if(S[n]||(S[n]={}),Object(Y.isUndefined)(z))return S[n][O];S[n][O]=z}}),De=u.a.$,fe=u.a.View.extend({initialize:function(){var S=this,O=this.model;O.view=this,this.conf=O.config,this.pn=O.get("Panels"),this.cv=O.get("Canvas"),O.once("change:ready",function(){S.pn.active(),S.pn.disableButtons(),setTimeout(function(){O.trigger("load",O.get("Editor")),O.set("changesCount",0)})})},render:function(){var S=this.$el,O=this.conf,z=O.stylePrefix,n=De(O.el||"body ".concat(O.container));return Object(p.appendStyles)(O.cssIcons,{unique:1,prepand:1}),S.empty(),O.width&&n.css("width",O.width),O.height&&n.css("height",O.height),S.append(this.cv.render()),S.append(this.pn.render()),S.attr("class","".concat(z,"editor ").concat(z,"one-bg ").concat(z,"two-color")),n.addClass("".concat(z,"editor-cont")).empty().append(S),this}}),ce=i(17);function Ce(S,O){var z=Object.keys(S);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(S);O&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(S,m).enumerable})),z.push.apply(z,n)}return z}function Se(S){for(var O=1;O<arguments.length;O++){var z=null!=arguments[O]?arguments[O]:{};O%2?Ce(Object(z),!0).forEach(function(n){ne()(S,n,z[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(z)):Ce(Object(z)).forEach(function(n){Object.defineProperty(S,n,Object.getOwnPropertyDescriptor(z,n))})}return S}var se=function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=O.$,n=Se(Se({},M),S);n.pStylePrefix=n.stylePrefix;var m,s=new ee(n);return{$:z,editor:s,init:function(){var E=this,W=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return s.init(this,Se(Se({},n),W)),["I18n","Utils","Config","Commands","Keymaps","Modal","Panels","Canvas","Parser","CodeManager","UndoManager","RichTextEditor",["Pages","PageManager"],"DomComponents",["Components","DomComponents"],"LayerManager",["Layers","LayerManager"],"CssComposer",["Css","CssComposer"],"StorageManager",["Storage","StorageManager"],"AssetManager",["Assets","AssetManager"],"BlockManager",["Blocks","BlockManager"],"TraitManager",["Traits","TraitManager"],"SelectorManager",["Selectors","SelectorManager"],"StyleManager",["Styles","StyleManager"],"DeviceManager",["Devices","DeviceManager"]].forEach(function(pe){Array.isArray(pe)?E[pe[0]]=s.get(pe[1]):E[pe]=s.get(pe)}),s.once("change:ready",function(){E.UndoManager.clear(),s.get("modules").forEach(function(pe){pe.postRender&&pe.postRender(m)})}),this},getConfig:function(E){return s.getConfig(E)},getHtml:function(E){return s.getHtml(E)},getCss:function(E){return s.getCss(E)},getJs:function(E){return s.getJs(E)},getComponents:function(){return s.get("DomComponents").getComponents()},getWrapper:function(){return s.get("DomComponents").getWrapper()},setComponents:function(E){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.setComponents(E,W),this},addComponents:function(E,W){return this.getWrapper().append(E,W)},getStyle:function(){return s.get("CssComposer").getAll()},setStyle:function(E){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.setStyle(E,W),this},addStyle:function(E){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.addStyle(E,W)},getSelected:function(){return s.getSelected()},getSelectedAll:function(){return s.getSelectedAll()},getSelectedToStyle:function(){var E=s.getSelected();if(E)return this.StyleManager.getModelToStyle(E)},select:function(E,W){return s.setSelected(E,W),this},selectAdd:function(E){return s.addSelected(E),this},selectRemove:function(E){return s.removeSelected(E),this},selectToggle:function(E){return s.toggleSelected(E),this},getEditing:function(){return s.getEditing()},setDevice:function(E){return s.set("device",E),this},getDevice:function(){return s.get("device")},runCommand:function(E){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.get("Commands").run(E,W)},stopCommand:function(E){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.get("Commands").stop(E,W)},store:function(E){return s.store(E)},storeData:function(){return s.storeData()},load:function(E){return s.load(E)},loadData:function(E){return s.loadData(E)},getContainer:function(){return n.el},getDirtyCount:function(){return s.getDirtyCount()},refresh:function(E){s.refreshCanvas(E)},setCustomRte:function(E){this.RichTextEditor.customRte=E},setCustomParserCss:function(E){return this.Parser.getConfig().parserCss=E,this},setDragMode:function(E){return s.setDragMode(E),this},log:function(E){var W=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return s.log(E,W),this},t:function(){return s.t.apply(s,arguments)},on:function(E,W){return s.on(E,W),this},once:function(E,W){return s.once(E,W),this},off:function(E,W){return s.off(E,W),this},trigger:function(E){return s.trigger.apply(s,arguments),this},destroy:function(){return s.destroyAll()},getEl:function(){return m&&m.el},getModel:function(){return s},render:function(){return m&&m.remove(),(m=new fe({model:s,config:n})).render().el},onReady:function(E){s.get("ready")?E(this):s.on("load",E)},html:ce.a}},ue={plugins:[]};function xe(S,O){var z=Object.keys(S);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(S);O&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(S,m).enumerable})),z.push.apply(z,n)}return z}function re(S){for(var O=1;O<arguments.length;O++){var z=null!=arguments[O]?arguments[O]:{};O%2?xe(Object(z),!0).forEach(function(n){ne()(S,n,z[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(z)):xe(Object(z)).forEach(function(n){Object.defineProperty(S,n,Object.getOwnPropertyDescriptor(z,n))})}return S}!function(){if(Object(p.hasWin)()&&function(){for(var O,z=window.navigator.userAgent,n=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],m=0;m<n.length&&!(O=n[m][1].exec(z));m++);return!!O}()){var S=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(O){return O||(O=""),S.apply(document.implementation,[O])}}}();var J=new function(S){var O={};for(var z in ue)z in O||(O[z]=ue[z]);var n={};return{add:function(m,s){return n[m]?n[m]:(n[m]=s,s)},get:function(m){return n[m]},getAll:function(){return n}}},$=[],V={autorender:1,plugins:[],pluginsOpts:{}};oe.default={$:U.default,editors:$,plugins:J,version:"0.17.29",init:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=S,z=O.headless,n=S.container;if(!n&&!z)throw new Error("'container' is required");(S=re(re(re({},V),S),{},{grapesjs:this})).el=!z&&(Object(Y.isElement)(n)?n:document.querySelector(n));var m=new se(S,{$:U.default}).init(),s=m.getModel();return S.plugins.forEach(function(E){var W=J.get(E),pe=S.pluginsOpts[E]||{};if(!W){var Ee=window[E];W=Ee&&Ee.default?Ee.default:Ee}W?W(m,pe):Object(Y.isFunction)(E)?E(m,pe):s.logWarning("Plugin ".concat(E," not found"),{context:"plugins",plugin:E})}),s.loadOnStart(),S.autorender&&!z&&m.render(),$.push(m),m}}},function($e,oe,i){"use strict";i.r(oe),i.d(oe,"evAll",function(){return S}),i.d(oe,"evPfx",function(){return O}),i.d(oe,"evSelect",function(){return z}),i.d(oe,"evUpdate",function(){return n}),i.d(oe,"evAdd",function(){return m}),i.d(oe,"evRemove",function(){return s}),i.d(oe,"evRemoveBefore",function(){return E}),i.d(oe,"evCustom",function(){return W}),i.d(oe,"evOpen",function(){return pe}),i.d(oe,"evClose",function(){return Ee});var Z=i(3),ne=i.n(Z),Y=i(0),U=i(21),M={assets:[],noAssets:"",stylePrefix:"am-",upload:0,uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:!0,customFetch:null,uploadFile:null,embedAsBase64:!0,handleAdd:null,beforeUpload:null,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:1,dropzoneContent:""},x=i(2),c=i.n(x),h=i(5),u=i.n(h),p=i(6),f=i.n(p),P=i(8),w=i.n(P),b=i(9),A=i.n(b),R=i(4),_=i.n(R),T=function(be){w()(_e,be);var de=function k(be){var de=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(_e){return!1}}();return function(){var _e,Pe=_()(be);if(de){var He=_()(this).constructor;_e=Reflect.construct(Pe,arguments,He)}else _e=Pe.apply(this,arguments);return A()(this,_e)}}(_e);function _e(){return u()(this,_e),de.apply(this,arguments)}return f()(_e,[{key:"defaults",value:function(){return{type:"",src:""}}},{key:"getType",value:function(){return this.get("type")}},{key:"getSrc",value:function(){return this.get("src")}},{key:"getFilename",value:function(){return this.get("src").split("/").pop().split("?").shift()}},{key:"getExtension",value:function(){return this.getFilename().split(".").pop()}}]),_e}(x.Model);function C(be,de){var _e=Object.keys(be);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(be);de&&(Pe=Pe.filter(function(He){return Object.getOwnPropertyDescriptor(be,He).enumerable})),_e.push.apply(_e,Pe)}return _e}function j(be){for(var de=1;de<arguments.length;de++){var _e=null!=arguments[de]?arguments[de]:{};de%2?C(Object(_e),!0).forEach(function(Pe){ne()(be,Pe,_e[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(be,Object.getOwnPropertyDescriptors(_e)):C(Object(_e)).forEach(function(Pe){Object.defineProperty(be,Pe,Object.getOwnPropertyDescriptor(_e,Pe))})}return be}T.prototype.idAttribute="src",T.getDefaults=function(){return Object(Y.result)(this.prototype,"defaults")};var H,v,d,l=function(be){w()(_e,be);var de=function N(be){var de=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(_e){return!1}}();return function(){var _e,Pe=_()(be);if(de){var He=_()(this).constructor;_e=Reflect.construct(Pe,arguments,He)}else _e=Pe.apply(this,arguments);return A()(this,_e)}}(_e);function _e(){return u()(this,_e),de.apply(this,arguments)}return f()(_e,[{key:"defaults",value:function(){return j(j({},T.getDefaults()),{},{type:"image",unitDim:"px",height:0,width:0})}}]),_e}(T),y=i(19),g=i.n(y),L=c.a.View.extend({initialize:function(){var be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=be,this.collection=be.collection;var de=be.config||{};this.config=de,this.pfx=de.stylePrefix||"",this.ppfx=de.pStylePrefix||"",this.em=de.em,this.className=this.pfx+"asset",this.listenTo(this.model,"destroy remove",this.remove),this.model.view=this;var _e=this.init&&this.init.bind(this);_e&&_e(be)},__getBhv:function(){var be=this.em,de=be&&be.get("AssetManager");return de&&de.__getBehaviour()||{}},template:function(){var be=this.pfx;return'\n      <div class="'.concat(be,'preview-cont">\n        ').concat(this.getPreview(),'\n      </div>\n      <div class="').concat(be,'meta">\n        ').concat(this.getInfo(),'\n      </div>\n      <div class="').concat(be,'close" data-toggle="asset-remove">\n        &Cross;\n      </div>\n    ')},updateTarget:function(be){be&&be.set&&(be.set("attributes",Object(Y.clone)(be.get("attributes"))),be.set("src",this.model.get("src")))},getPreview:function(){return""},getInfo:function(){return""},render:function(){var be=this.el;return be.innerHTML=this.template(this,this.model),be.className=this.className,this}}),K=i(17),ee=L.extend({events:{"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"},getPreview:function(){var be=this.pfx,de=this.ppfx,_e=this.model.get("src");return Object(K.a)(H||(H=g()(['\n      <div class="','preview" style="background-image: url(\'','\');"></div>\n      <div class="',"preview-bg ",'checker-bg"></div>\n    '])),be,_e,be,de)},getInfo:function(){var be=this.pfx,de=this.model,_e=de.get("name"),Pe=de.get("width"),He=de.get("height"),ut=de.get("unitDim"),rt=Pe&&He?"".concat(Pe,"x").concat(He).concat(ut):"";return _e=_e||de.getFilename(),Object(K.a)(v||(v=g()(['\n      <div class="','name">','</div>\n      <div class="','dimensions">',"</div>\n    "])),be,_e,be,rt)},init:function(be){this.className+=" ".concat(this.pfx,"asset-image")},onClick:function(){var be=this.model,de=this.pfx,_e=this.__getBhv().select,Pe=this.config.onClick,He=this.collection;He.trigger("deselectAll"),this.$el.addClass(de+"highlight"),Object(Y.isFunction)(_e)?_e(be,!1):Object(Y.isFunction)(Pe)?Pe(be):this.updateTarget(He.target)},onDblClick:function(){var be=this.em,de=this.model,_e=this.__getBhv().select,Pe=this.config.onDblClick,He=this.collection,ut=He.target,rt=He.onSelect;Object(Y.isFunction)(_e)?_e(de,!0):Object(Y.isFunction)(Pe)?Pe(de):(this.updateTarget(ut),be&&be.get("Modal").close()),Object(Y.isFunction)(rt)&&rt(de)},onRemove:function(be){be.stopImmediatePropagation(),this.model.collection.remove(this.model)}}),De=i(38),fe=c.a.Collection.extend(De.a).extend({types:[{id:"image",model:l,view:ee,isType:function(be){return"string"==typeof be?{type:"image",src:be}:be}}]}),ce=i(22),Ce=i.n(ce),Se=["pfx","ppfx","em"],se=c.a.View.extend({events:{submit:"handleSubmit"},template:function(be){var de=be.pfx,_e=be.ppfx,Pe=be.em,He=(Ce()(be,Se),"");return this.config.showUrlInput&&(He='\n          <form class="'.concat(de,'add-asset">\n            <div class="').concat(_e,"field ").concat(de,'add-field">\n              <input placeholder="').concat(Pe&&Pe.t("assetManager.inputPlh"),'"/>\n            </div>\n            <button class="').concat(_e,'btn-prim">').concat(Pe&&Pe.t("assetManager.addButton"),'</button>\n            <div style="clear:both"></div>\n          </form>\n      ')),'\n    <div class="'.concat(de,'assets-cont">\n      <div class="').concat(de,'assets-header">\n        ').concat(He,'\n      </div>\n      <div class="').concat(de,'assets" data-el="assets"></div>\n      <div style="clear:both"></div>\n    </div>\n    ')},initialize:function(be){this.options=be,this.config=be.config,this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var de=this.collection;this.listenTo(de,"reset",this.renderAssets),this.listenTo(de,"add",this.addToAsset),this.listenTo(de,"remove",this.removedAsset),this.listenTo(de,"deselectAll",this.deselectAll)},handleSubmit:function(be){be.preventDefault();var de=this.getAddInput(),_e=de&&de.value.trim(),Pe=this.config.handleAdd;_e&&(de.value="",this.getAssetsEl().scrollTop=0,Pe?Pe.bind(this)(_e):this.options.globalCollection.add(_e,{at:0}))},getAssetsEl:function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},getAddInput:function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},removedAsset:function(be){this.collection.length||this.toggleNoAssets()},addToAsset:function(be){1==this.collection.length&&this.toggleNoAssets(1),this.addAsset(be)},addAsset:function(be){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,_e=de,Pe=this.collection,He=this.config,ut=new be.typeView({model:be,collection:Pe,config:He}).render().el;if(_e)_e.appendChild(ut);else{var rt=this.getAssetsEl();rt&&rt.insertBefore(ut,rt.firstChild)}return ut},toggleNoAssets:function(be){var de=this.$el.find(".".concat(this.pfx,"assets"));if(be)de.empty();else{var _e=this.config.noAssets;_e&&de.append(_e)}},deselectAll:function(){var be=this.pfx;this.$el.find(".".concat(be,"highlight")).removeClass("".concat(be,"highlight"))},renderAssets:function(){var be=this,de=document.createDocumentFragment(),_e=this.$el.find(".".concat(this.pfx,"assets"));_e.empty(),this.toggleNoAssets(this.collection.length),this.collection.each(function(Pe){return be.addAsset(Pe,de)}),_e.append(de)},render:function(){var be=this.options.fu.render().el;return this.$el.empty(),this.$el.append(be).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this}}),ue=i(37);function re(be,de){(null==de||de>be.length)&&(de=be.length);for(var _e=0,Pe=new Array(de);_e<de;_e++)Pe[_e]=be[_e];return Pe}var J=c.a.View.extend({template:function(be){var de=be.pfx,_e=be.title,Pe=be.uploadId,He=be.disabled,ut=be.multiUpload;return Object(K.a)(d||(d=g()(['\n        <form>\n          <div id="','title">','</div>\n          <input\n            type="file"\n            id="','"\n            name="file"\n            accept="*/*"\n            ',"\n            ",'\n          />\n          <div style="clear:both;"></div>\n        </form>\n      '])),de,_e,Pe,He?"disabled":"",ut?"multiple":"")},events:{},initialize:function(){var be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.options=be;var de=be.config||{};this.module=de.module,this.config=de,this.em=this.config.em,this.pfx=de.stylePrefix||"",this.ppfx=de.pStylePrefix||"",this.target=this.options.globalCollection||{},this.uploadId=this.pfx+"uploadFile",this.disabled=void 0!==de.disableUpload?de.disableUpload:!de.upload&&!de.embedAsBase64,this.multiUpload=void 0===de.multiUpload||de.multiUpload,this.events["change #"+this.uploadId]="uploadFile";var _e=de.uploadFile;_e?this.uploadFile=_e.bind(this):!de.upload&&de.embedAsBase64&&(this.uploadFile=this.constructor.embedAsBase64),this.delegateEvents()},onUploadStart:function(){var be=this.module;be&&be.__propEv("asset:upload:start")},onUploadEnd:function(be){var de=this.$el,_e=this.module;_e&&_e.__propEv("asset:upload:end",be);var Pe=de.find("input");Pe&&Pe.val("")},onUploadError:function(be){var de=this.module;console.error(be),this.onUploadEnd(be),de&&de.__propEv("asset:upload:error",be)},onUploadResponse:function(be,de){var _e,Pe=this.module,He=this.config,ut=this.target;try{_e="string"==typeof be?JSON.parse(be):be}catch(rt){_e=be}Pe&&Pe.__propEv("asset:upload:response",_e),He.autoAdd&&ut&&ut.add(_e.data,{at:0}),this.onUploadEnd(be),de&&de(_e)},uploadFile:function(be,de){var _e=this,Pe=be.dataTransfer?be.dataTransfer.files:be.target.files,He=this.config,ut=He.beforeUpload;if(!1!==(ut&&ut(Pe))){var rt=new FormData,G=He.params,ae=He.customFetch;for(var Oe in G)rt.append(Oe,G[Oe]);if(this.multiUpload)for(var ze=0;ze<Pe.length;ze++)rt.append("".concat(He.uploadName,"[]"),Pe[ze]);else Pe.length&&rt.append(He.uploadName,Pe[0]);var qe=He.upload,Je=He.headers,ot="X-Requested-With";if(void 0===Je[ot]&&(Je[ot]="XMLHttpRequest"),qe){this.onUploadStart();var X={method:"post",credentials:He.credentials||"include",headers:Je,body:rt};return(ae?ae(qe,X):Object(ue.a)(qe,X).then(function(ke){return 1==(ke.status/200|0)?ke.text():ke.text().then(function(Ae){return Promise.reject(Ae)})})).then(function(ke){return _e.onUploadResponse(ke,de)}).catch(function(ke){return _e.onUploadError(ke)})}}},initDrop:function(){var be=this;!this.uploadForm&&(this.uploadForm=this.$el.find("form").get(0),"draggable"in this.uploadForm)&&(this.uploadForm.ondragover=function(){return this.className=be.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return this.className="",!1},this.uploadForm.ondrop=function(de){this.className="",de.preventDefault(),be.uploadFile(de)})},initDropzone:function(be){var de=this,_e=0,Pe=this.config,He=be.model,ut=be.el,rt=He.get("Editor"),G=(He.get("Config"),He.get("Canvas").getBody()),ae=this.ppfx,Oe="".concat(ae,"dropzone-active"),ze="".concat(ae,"dropzone"),qe=function(){ut.className=ut.className.replace(Oe,"").trim(),_e=0},Je=function(){return _e||(ut.className+=" ".concat(Oe),_e=1),!1},ot=function(){return qe(),!1},X=function(ke){if(qe(),ke.preventDefault(),ke.stopPropagation(),de.uploadFile(ke),Pe.openAssetsOnDrop&&rt){var Ae=rt.getSelected();rt.runCommand("open-assets",{target:Ae,onSelect:function(){rt.Modal.close(),rt.AssetManager.setTarget(null)}})}return!1};be.$el.append('<div class="'.concat(ze,'">').concat(Pe.dropzoneContent,"</div>")),qe(),"draggable"in ut&&[ut,G].forEach(function(ke){ke.ondragover=Je,ke.ondragleave=ot,ke.ondrop=X})},render:function(){var be=this.$el,de=this.pfx,_e=this.em;return be.html(this.template({title:_e&&_e.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:de})),this.initDrop(),be.attr("class",de+"file-uploader"),this}},{embedAsBase64:function(be,de){var _e=this,He={data:[]};if(FileReader){var ut,rt=[],G=/^(.+)\/(.+)$/,ae=function xe(be,de){var _e="undefined"!=typeof Symbol&&be[Symbol.iterator]||be["@@iterator"];if(!_e){if(Array.isArray(be)||(_e=function(ae,Oe){if(ae){if("string"==typeof ae)return re(ae,void 0);var ze=Object.prototype.toString.call(ae).slice(8,-1);if("Object"===ze&&ae.constructor&&(ze=ae.constructor.name),"Map"===ze||"Set"===ze)return Array.from(ae);if("Arguments"===ze||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ze))return re(ae,void 0)}}(be))||de&&be&&"number"==typeof be.length){_e&&(be=_e);var Pe=0,He=function(){};return{s:He,n:function(){return Pe>=be.length?{done:!0}:{done:!1,value:be[Pe++]}},e:function(ae){throw ae},f:He}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var ut,rt=!0,G=!1;return{s:function(){_e=_e.call(be)},n:function(){var ae=_e.next();return rt=ae.done,ae},e:function(ae){G=!0,ut=ae},f:function(){try{rt||null==_e.return||_e.return()}finally{if(G)throw ut}}}}(be.dataTransfer?be.dataTransfer.files:be.target.files);try{var Oe=function(){var ze=ut.value,qe=new Promise(function(Je,ot){var X=new FileReader;X.addEventListener("load",function(ke){var Ae,Ne=ze.name,he=G.exec(ze.type);if("image"===(Ae=he?he[1]:ze.type)){var Be={src:X.result,name:Ne,type:Ae,height:0,width:0},Ve=new Image;Ve.addEventListener("error",function(tt){ot(tt)}),Ve.addEventListener("load",function(){Be.height=Ve.height,Be.width=Ve.width,Je(Be)}),Ve.src=Be.src}else Je(Ae?{src:X.result,name:Ne,type:Ae}:X.result)}),X.addEventListener("error",function(ke){ot(ke)}),X.addEventListener("abort",function(ke){ot("Aborted")}),X.readAsDataURL(ze)});rt.push(qe)};for(ae.s();!(ut=ae.n()).done;)Oe()}catch(ze){ae.e(ze)}finally{ae.f()}Promise.all(rt).then(function(ze){He.data=ze,_e.onUploadResponse(He,de)},function(ze){_e.onUploadError(ze)})}else this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))}});function $(be,de){var _e=Object.keys(be);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(be);de&&(Pe=Pe.filter(function(He){return Object.getOwnPropertyDescriptor(be,He).enumerable})),_e.push.apply(_e,Pe)}return _e}function V(be){for(var de=1;de<arguments.length;de++){var _e=null!=arguments[de]?arguments[de]:{};de%2?$(Object(_e),!0).forEach(function(Pe){ne()(be,Pe,_e[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(be,Object.getOwnPropertyDescriptors(_e)):$(Object(_e)).forEach(function(Pe){Object.defineProperty(be,Pe,Object.getOwnPropertyDescriptor(_e,Pe))})}return be}var S="asset",O="".concat(S,":"),z="".concat(O,"select"),n="".concat(O,"update"),m="".concat(O,"add"),s="".concat(O,"remove"),E="".concat(s,":before"),W="".concat(O,"custom"),pe="".concat(O,"open"),Ee="".concat(O,"close");oe.default=function(){var be,de,_e,Pe,He={},ut="open-assets";return V(V({},U.a),{},{name:"AssetManager",storageKey:"assets",Asset:fe,Assets:fe,events:{all:S,select:z,update:n,add:m,remove:s,removeBefore:E,custom:W,open:pe,close:Ee},init:function(){var rt=this,G=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ae=(He=V(V({},M),G)).pStylePrefix,Oe=He,ze=Oe.em;return this.config=He,this.em=ze,ae&&(He.stylePrefix=ae+He.stylePrefix),be=new fe([]),de=new fe([]),this.all=be,this.__initListen(),be.on("add",function(qe){return rt.getAllVisible().add(qe)}),be.on("remove",function(qe){return rt.getAllVisible().remove(qe)}),this},__propEv:function(rt){for(var G,ae,Oe=arguments.length,ze=new Array(Oe>1?Oe-1:0),qe=1;qe<Oe;qe++)ze[qe-1]=arguments[qe];(G=this.em).trigger.apply(G,[rt].concat(ze)),(ae=this.getAll()).trigger.apply(ae,[rt].concat(ze))},__onAllEvent:Object(Y.debounce)(function(){this.__trgCustom()}),__trgCustom:function(){(this.__getBehaviour().container||this.getConfig("custom").open)&&this.em.trigger(this.events.custom,this.__customData())},__customData:function(){var rt=this,G=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:G.types||[],container:G.container,close:function(){return rt.close()},remove:function(){return rt.remove.apply(rt,arguments)},select:function(ae,Oe){var ze=rt.add(ae);Object(Y.isFunction)(G.select)&&G.select(ze,Oe)},options:G.options||{}}},open:function(){var rt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},G=this.em.get("Commands");G.run(ut,V({types:["image"],select:function(){}},rt))},close:function(){this.em.get("Commands").stop(ut)},isOpen:function(){var rt=this.em.get("Commands");return!(!rt||!rt.isActive(ut))},add:function(rt){var G=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return void 0===G.at&&(G.at=0),be.add(rt,G)},get:function(rt){return be.where({src:rt})[0]||null},getAll:function(){return be},getAllVisible:function(){return de},remove:function(rt,G){return this.__remove(rt,G)},store:function(rt){var G={},ae=JSON.stringify(this.getAll().toJSON());return G[this.storageKey]=ae,!rt&&He.stm&&He.stm.store(G),G},load:function(){var rt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},G=this.storageKey,ae=rt[G]||[];if("string"==typeof ae)try{ae=JSON.parse(rt[G])}catch(Oe){}return ae&&ae.length&&this.getAll().reset(ae),ae},getContainer:function(){return this.__getBehaviour().container||_e&&_e.el},getAssetsEl:function(){return _e.el.querySelector("[data-el=assets]")},render:function(rt){if(!this.getConfig("custom")){var G=rt||this.getAll().models;if(!_e){var ae={collection:de,globalCollection:be,config:He,module:this};Pe=new J(ae),ae.fu=Pe,(_e=new se(V({el:_e&&_e.el},ae))).render()}return de.reset(G),this.getContainer()}},addType:function(rt,G){this.getAll().addType(rt,G)},getType:function(rt){return this.getAll().getType(rt)},getTypes:function(){return this.getAll().getTypes()},AssetsView:function(){return _e},FileUploader:function(){return Pe},onLoad:function(){var rt=this;this.getAll().reset(He.assets);var G=this.em,ae=this.events;G.on("run:".concat(ut),function(){return rt.__propEv(ae.open)}),G.on("stop:".concat(ut),function(){return rt.__propEv(ae.close)})},postRender:function(rt){He.dropzone&&Pe&&Pe.initDropzone(rt)},setTarget:function(rt){de.target=rt},onSelect:function(rt){de.onSelect=rt},onClick:function(rt){He.onClick=rt},onDblClick:function(rt){He.onDblClick=rt},__behaviour:function(){var rt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._bhv=V(V({},this._bhv||{}),rt)},__getBehaviour:function(){return this._bhv||{}},destroy:function(){be.stopListening(),de.stopListening(),be.reset(),de.reset(),Pe&&Pe.remove(),_e&&_e.remove(),[be,_e,Pe].forEach(function(rt){return null}),this._bhv={},He={}}})}},function($e,oe,i){"use strict";i.r(oe);var Z=i(3),ne=i.n(Z),Y=i(0),U={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}]},M=i(29),x=i(41),c=i.n(x),h=i(2),u=i.n(h),p=i(1);function f(l,y){var g=Object.keys(l);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(l);y&&(L=L.filter(function(K){return Object.getOwnPropertyDescriptor(l,K).enumerable})),g.push.apply(g,L)}return g}function P(l){for(var y=1;y<arguments.length;y++){var g=null!=arguments[y]?arguments[y]:{};y%2?f(Object(g),!0).forEach(function(L){ne()(l,L,g[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(g)):f(Object(g)).forEach(function(L){Object.defineProperty(l,L,Object.getOwnPropertyDescriptor(g,L))})}return l}var w=u.a.$,b=u.a.View.extend({events:{},eventCapture:["change"],appendInput:1,attributes:function(){return this.model.get("attributes")},templateLabel:function(){var l=this.ppfx,y=this.getLabel();return'<div class="'.concat(l,'label" title="').concat(y,'">').concat(y,"</div>")},templateInput:function(){return'<div class="'.concat(this.clsField,'" data-input></div>')},initialize:function(){var l=this,y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=y.config,L=void 0===g?{}:g,K=this.model,ee=this.eventCapture,De=K.target,fe=K.attributes.type;this.config=L,this.em=L.em,this.pfx=L.stylePrefix||"",this.ppfx=L.pStylePrefix||"",this.target=De;var ce=this.ppfx;this.clsField="".concat(ce,"field ").concat(ce,"field-").concat(fe),[["change:value",this.onValueChange],["remove",this.removeView]].forEach(function(Ce){var Se=c()(Ce,2),se=Se[0],ue=Se[1];K.off(se,ue),l.listenTo(K,se,ue)}),K.view=this,this.listenTo(K,"change:label",this.render),this.listenTo(K,"change:placeholder",this.rerender),this.events={},ee.forEach(function(Ce){return l.events[Ce]="onChange"}),this.delegateEvents(),this.init()},getClbOpts:function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},removeView:function(){this.remove(),this.removed()},init:function(){},removed:function(){},onRender:function(){},onUpdate:function(){},onEvent:function(){},onChange:function(l){var y=this.getInputElem();y&&!Object(Y.isUndefined)(y.value)&&this.model.set("value",y.value),this.onEvent(P(P({},this.getClbOpts()),{},{event:l}))},getValueForTarget:function(){return this.model.get("value")},setInputValue:function(l){var y=this.getInputElem();y&&(y.value=l)},onValueChange:function(l,y){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(g.fromTarget)this.setInputValue(l.get("value")),this.postUpdate();else{var L=this.getValueForTarget();l.setTargetValue(L,g)}},renderLabel:function(){var l=this.$el,y=this.target,g=this.getLabel(),L=this.templateLabel(y);this.createLabel&&(L=this.createLabel({label:g,component:y,trait:this})||""),l.find("[data-label]").append(L)},getLabel:function(){var y=this.model.attributes,g=y.label,L=y.name;return this.em.t("traitManager.traits.labels.".concat(L))||Object(p.capitalize)(g||L).replace(/-/g," ")},getComponent:function(){return this.target},getInputEl:function(){if(!this.$input){var l=this.em,y=this.model,g=y,L=y.attributes.name,K=g.get("placeholder")||g.get("default")||"",ee=g.get("type")||"text",De=g.get("min"),fe=g.get("max"),ce=this.getModelValue(),Ce=w('<input type="'.concat(ee,'" placeholder="').concat(K,'">')),Se=l.t("traitManager.traits.attributes.".concat(L))||{};Ce.attr(Se),Object(Y.isUndefined)(ce)||(g.set({value:ce},{silent:!0}),Ce.prop("value",ce)),De&&Ce.prop("min",De),fe&&Ce.prop("max",fe),this.$input=Ce}return this.$input.get(0)},getInputElem:function(){var y=this.$input;return this.input||y&&y.get&&y.get(0)||this.getElInput()},getModelValue:function(){var l,y=this.model,g=this.target,L=y.get("name");if(y.get("changeProp"))l=g.get(L);else{var K=g.get("attributes");l=y.get("value")||K[L]}return Object(Y.isUndefined)(l)?"":l},getElInput:function(){return this.elInput},renderField:function(){var y=this.appendInput,g=this.model,L=this.$el.find("[data-input]"),K=L[L.length-1],ee=g.el;ee||(ee=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),Object(Y.isString)(ee)?(K.innerHTML=ee,this.elInput=K.firstChild):(y?K.appendChild(ee):K.insertBefore(ee,K.firstChild),this.elInput=ee),g.el=this.elInput},hasLabel:function(){return!this.noLabel&&!1!==this.model.attributes.label},rerender:function(){this.model.el=null,this.render()},postUpdate:function(){this.onUpdate(this.getClbOpts())},render:function(){var l=this.$el,y=this.pfx,g=this.ppfx,L=this.model.attributes,K=L.type,ee=L.id,De=this.hasLabel&&this.hasLabel(),fe="".concat(y,"trait");this.$input=null;var ce='<div class="'.concat(fe," ").concat(fe,"--").concat(K,'">\n      ').concat(De?'<div class="'.concat(g,'label-wrp" data-label></div>'):"",'\n      <div class="').concat(g,"field-wrp ").concat(g,"field-wrp--").concat(K,'" data-input>\n        ').concat(this.templateInput?Object(Y.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"","\n      </div>\n    </div>");return l.empty().append(ce),De&&this.renderLabel(),this.renderField(),this.el.className="".concat(fe,"__wrp ").concat(fe,"__wrp-").concat(ee),this.postUpdate(),this.onRender(this.getClbOpts()),this}}),A=M.a.extend({ns:"Traits",itemView:b,reuseView:1,initialize:function(){var l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=l.config||{},g=y.stylePrefix||"",L=l.editor;this.config=y,this.em=L,this.pfx=g,this.ppfx=y.pStylePrefix||"",this.className="".concat(g,"traits"),this.listenTo(L,"component:toggled",this.updatedCollection)},updatedCollection:function(){var l=this.ppfx,y=this.className,g=this.em.getSelected();this.el.className="".concat(y," ").concat(l,"one-bg ").concat(l,"two-color"),this.collection=g?g.get("traits"):[],this.render()}}),R=u.a.$,_=b.extend({init:function(){this.listenTo(this.model,"change:options",this.rerender)},templateInput:function(){var l=this.ppfx;return'<div class="'.concat(this.clsField,'">\n      <div data-input></div>\n      <div class="').concat(l,'sel-arrow">\n        <div class="').concat(l,'d-s-arrow"></div>\n      </div>\n    </div>')},getInputEl:function(){if(!this.$input){var l=this.model,y=this.em,g=l.get("name"),L=l.get("options")||[],K=[],ee="<select>";L.forEach(function(ce){var Ce,Se,se,ue="";Object(Y.isString)(ce)?(Ce=ce,Se=ce):(Ce=ce.name||ce.label||ce.value,Se="".concat(Object(Y.isUndefined)(ce.value)?ce.id:ce.value).replace(/"/g,"&quot;"),ue+=(se=ce.style?ce.style.replace(/"/g,"&quot;"):"")?' style="'.concat(se,'"'):"");var xe=y.t("traitManager.traits.options.".concat(g,".").concat(Se))||Ce;ee+='<option value="'.concat(Se,'"').concat(ue,">").concat(xe,"</option>"),K.push(Se)}),this.$input=R(ee+="</select>");var De=l.getTargetValue(),fe=K.indexOf(De)>=0?De:l.get("default");!Object(Y.isUndefined)(fe)&&this.$input.val(fe)}return this.$input.get(0)}}),k=b.extend({appendInput:0,templateInput:function(){var l=this.ppfx;return'<label class="'.concat(this.clsField,'" data-input>\n    <i class="').concat(l,'chk-icon"></i>\n  </label>')},onChange:function(){var l=this.getInputElem().checked;this.model.set("value",this.getCheckedValue(l))},getCheckedValue:function(l){var y=l,g=this.model.attributes,L=g.valueTrue,K=g.valueFalse;return y&&!Object(Y.isUndefined)(L)&&(y=L),y||Object(Y.isUndefined)(K)||(y=K),y},getInputEl:function(){for(var l=!this.$input,y=arguments.length,g=new Array(y),L=0;L<y;L++)g[L]=arguments[L];var K=b.prototype.getInputEl.apply(this,g);if(l){var ee,De,fe=this.model,ce=this.target,Ce=fe.attributes,Se=Ce.valueFalse,se=fe.get("name");fe.get("changeProp")?De=ee=ce.get(se):ee=!(!(De=ce.get("attributes")[se])&&""!==De),Object(Y.isUndefined)(Se)||De!==Se||(ee=!1),K.checked=ee}return K}}),T=i(40),C=b.extend({getValueForTarget:function(){var l=this.model,y=l.attributes,g=y.value,L=y.unit;return Object(Y.isUndefined)(g)||""===g?l.get("default"):g+L},getInputEl:function(){if(!this.input){var l=this.ppfx,y=this.model,g=this.getModelValue(),L=new T.a({contClass:"".concat(l,"field-int"),type:"number",model:y,ppfx:l});this.input=L.render(),this.$input=this.input.inputEl,this.$unit=this.input.unitEl,y.set("value",g,{fromTarget:1}),this.$input.val(g),this.input=L.el}return this.input}}),j=i(45),N=b.extend({templateInput:"",getInputEl:function(){if(!this.input){var l=this.model,y=this.getModelValue(),g=new j.a({model:l,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();g.setValue(y,{fromTarget:1}),this.input=g.el}return this.input}}),H=b.extend({eventCapture:["click button"],templateInput:"",onChange:function(){this.handleClick()},handleClick:function(){var l=this.model,y=this.em,g=l.get("command");g&&(Object(Y.isString)(g)?y.get("Commands").run(g):g(y.get("Editor"),l))},renderLabel:function(){this.model.get("label")&&b.prototype.renderLabel.apply(this,arguments)},getInputEl:function(){var y=this.ppfx,g=this.model.props(),ee=g.full,De=g.labelButton||g.text,fe="".concat(y,"btn");return'<button type="button" class="'.concat(fe,"-prim").concat(ee?" ".concat(fe,"--full"):"",'">').concat(De,"</button>")}});function v(l,y){var g=Object.keys(l);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(l);y&&(L=L.filter(function(K){return Object.getOwnPropertyDescriptor(l,K).enumerable})),g.push.apply(g,L)}return g}function d(l){for(var y=1;y<arguments.length;y++){var g=null!=arguments[y]?arguments[y]:{};y%2?v(Object(g),!0).forEach(function(L){ne()(l,L,g[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(g)):v(Object(g)).forEach(function(L){Object.defineProperty(l,L,Object.getOwnPropertyDescriptor(g,L))})}return l}oe.default=function(){var l,y={},g={text:b,number:C,select:_,checkbox:k,color:N,button:H};return{TraitsView:A,name:"TraitManager",getConfig:function(){return y},init:function(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};y=L,Object(Y.defaults)(y,U);var K=y.pStylePrefix;return this.types=d({},g),K&&(y.stylePrefix="".concat(K).concat(y.stylePrefix)),this},postRender:function(){var L=this.getConfig().appendTo;L&&(Object(Y.isElement)(L)?L:document.querySelector(L)).appendChild(this.render())},getTraitsViewer:function(){return l},addType:function(L,K){var ee=this.getType("text");this.types[L]=ee.extend(K)},getType:function(L){return this.getTypes()[L]},getTypes:function(){return this.types},render:function(){return(l=new A({el:l&&l.el,collection:[],editor:y.em,config:y})).itemsView=this.getTypes(),l.updatedCollection(),l.el},destroy:function(){l&&l.remove(),[y,l].forEach(function(L){return{}})}}}},function($e,oe,i){"use strict";i.r(oe),i.d(oe,"evAll",function(){return xe}),i.d(oe,"evPfx",function(){return re}),i.d(oe,"evAdd",function(){return J}),i.d(oe,"evUpdate",function(){return $}),i.d(oe,"evRemove",function(){return V}),i.d(oe,"evRemoveBefore",function(){return S}),i.d(oe,"evDrag",function(){return O}),i.d(oe,"evDragStart",function(){return z}),i.d(oe,"evDragStop",function(){return n}),i.d(oe,"evCustom",function(){return m});var Z=i(3),ne=i.n(Z),Y=i(0),U=i(21),M={appendTo:"",appendOnClick:!1,blocks:[],custom:!1},x=i(5),c=i.n(x),h=i(6),u=i.n(h),p=i(8),f=i.n(p),P=i(9),w=i.n(P),b=i(4),A=i.n(b),R=i(2),_=i.n(R),T=function(s){f()(W,s);var E=function k(s){var E=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(W){return!1}}();return function(){var W,pe=A()(s);if(E){var Ee=A()(this).constructor;W=Reflect.construct(pe,arguments,Ee)}else W=pe.apply(this,arguments);return w()(this,W)}}(W);function W(){return c()(this,W),E.apply(this,arguments)}return u()(W,[{key:"defaults",value:function(){return{label:"",content:"",media:"",category:"",activate:!1,select:null,resetId:!1,disable:!1,onClick:null,attributes:{}}}},{key:"getId",value:function(){return this.id}},{key:"getLabel",value:function(){return this.get("label")}},{key:"getMedia",value:function(){return this.get("media")}},{key:"getContent",value:function(){return this.get("content")}},{key:"getCategoryLabel",value:function(){var pe=this.get("category");return Object(Y.isFunction)(pe.get)?pe.get("label"):pe.label?pe.label:pe}}]),W}(R.Model),j=function(s){f()(W,s);var E=function C(s){var E=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(W){return!1}}();return function(){var W,pe=A()(s);if(E){var Ee=A()(this).constructor;W=Reflect.construct(pe,arguments,Ee)}else W=pe.apply(this,arguments);return w()(this,W)}}(W);function W(){return c()(this,W),E.apply(this,arguments)}return W}(R.Collection);j.prototype.model=T;var H=function(s){f()(W,s);var E=function N(s){var E=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(W){return!1}}();return function(){var W,pe=A()(s);if(E){var Ee=A()(this).constructor;W=Reflect.construct(pe,arguments,Ee)}else W=pe.apply(this,arguments);return w()(this,W)}}(W);function W(){return c()(this,W),E.apply(this,arguments)}return u()(W,[{key:"defaults",value:function(){return{id:"",label:"",open:!0,attributes:{}}}}]),W}(R.Model),d=function(s){f()(W,s);var E=function v(s){var E=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(W){return!1}}();return function(){var W,pe=A()(s);if(E){var Ee=A()(this).constructor;W=Reflect.construct(pe,arguments,Ee)}else W=pe.apply(this,arguments);return w()(this,W)}}(W);function W(){return c()(this,W),E.apply(this,arguments)}return W}(R.Collection);d.prototype.model=H;var l,y=i(1),g=_.a.View.extend({events:{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"},initialize:function(s){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},W=this.model;this.em=E.em,this.config=E,this.endDrag=this.endDrag.bind(this),this.ppfx=E.pStylePrefix||"",this.listenTo(W,"destroy remove",this.remove),this.listenTo(W,"change",this.render)},__getModule:function(){return this.em.get("BlockManager")},handleClick:function(s){var E=this.config,W=this.model,pe=this.em,Ee=W.get("onClick")||E.appendOnClick;if(pe.trigger("block:click",W,s),Ee){if(Object(Y.isFunction)(Ee))return Ee(W,pe.getEditor(),{event:s});var be,de=E.getSorter(),_e=W.get("content"),Pe=pe.getSelected();if(de.setDropContent(_e),Pe)if(de.validTarget(Pe.getEl(),_e).valid)be=Pe;else{var He=Pe.parent();de.validTarget(He.getEl(),_e).valid&&(be=He)}if(!be){var ut=pe.getWrapper();de.validTarget(ut.getEl(),_e).valid&&(be=ut)}var rt=be&&be.append(_e)[0];rt&&pe.setSelected(rt,{scroll:1})}},startDrag:function(s){var E=this.config,W=this.em,pe=this.model.get("disable");if(0===s.button&&E.getSorter&&!this.el.draggable&&!pe){W.refreshCanvas();var Ee=E.getSorter();Ee.setDragHelper(this.el,s),Ee.setDropContent(this.model.get("content")),Ee.startSort(this.el),Object(y.on)(document,"mouseup",this.endDrag)}},handleDragStart:function(s){this.__getModule().__startDrag(this.model,s)},handleDrag:function(s){this.__getModule().__drag(s)},handleDragEnd:function(){this.__getModule().__endDrag()},endDrag:function(s){Object(y.off)(document,"mouseup",this.endDrag);var E=this.config.getSorter();E.moved=0,E.endMove()},render:function(){var s=this.em,E=this.el,W=this.$el,pe=this.ppfx,Ee=this.model,be=Ee.get("disable"),de=Ee.get("attributes")||{},_e=de.class||"",Pe="".concat(pe,"block"),He=s&&s.t("blockManager.labels.".concat(Ee.id))||Ee.get("label"),ut=Ee.get("render"),rt=Ee.get("media"),G=be?"".concat(Pe,"--disable"):"".concat(pe,"four-color-h");W.attr(de),E.className="".concat(_e," ").concat(Pe," ").concat(pe,"one-bg ").concat(G).trim(),E.innerHTML="\n      ".concat(rt?'<div class="'.concat(Pe,'__media">').concat(rt,"</div>"):"",'\n      <div class="').concat(Pe,'-label">').concat(He,"</div>\n    "),E.title=E.textContent.trim(),E.setAttribute("draggable",!(!Object(y.hasDnd)(s)||be));var ae=ut&&ut({el:E,model:Ee,className:Pe,prefix:pe});return ae&&(E.innerHTML=ae),this}}),L=i(19),K=i.n(L),ee=i(17),fe=function(s){f()(W,s);var E=function De(s){var E=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(W){return!1}}();return function(){var W,pe=A()(s);if(E){var Ee=A()(this).constructor;W=Reflect.construct(pe,arguments,Ee)}else W=pe.apply(this,arguments);return w()(this,W)}}(W);function W(){return c()(this,W),E.apply(this,arguments)}return u()(W,[{key:"template",value:function(pe){var Ee=pe.pfx,be=pe.label;return Object(ee.a)(l||(l=K()(['\n      <div class="','title">\n        <i class="','caret-icon"></i>\n        ','\n      </div>\n      <div class="','blocks-c"></div>\n    '])),Ee,Ee,be,Ee)}},{key:"attributes",value:function(){return this.model.get("attributes")}},{key:"initialize",value:function(){var pe=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=pe;var Ee=pe.pStylePrefix||"";this.em=pe.em,this.pfx=Ee,this.caretR="fa fa-caret-right",this.caretD="fa fa-caret-down",this.iconClass="".concat(Ee,"caret-icon"),this.activeClass="".concat(Ee,"open"),this.className="".concat(Ee,"block-category"),this.events={},this.events["click .".concat(Ee,"title")]="toggle",this.listenTo(this.model,"change:open",this.updateVisibility),this.delegateEvents(),this.model.view=this}},{key:"updateVisibility",value:function(){this.model.get("open")?this.open():this.close()}},{key:"open",value:function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""}},{key:"close",value:function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"}},{key:"toggle",value:function(){var pe=this.model;pe.set("open",!pe.get("open"))}},{key:"getIconEl",value:function(){return this.iconEl||(this.iconEl=this.el.querySelector("."+this.iconClass)),this.iconEl}},{key:"getBlocksEl",value:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector("."+this.pfx+"blocks-c")),this.blocksEl}},{key:"append",value:function(pe){this.getBlocksEl().appendChild(pe)}},{key:"render",value:function(){var Ee=this.el,be=this.$el,de=this.model,_e=this.pfx,Pe=this.em.t("blockManager.categories.".concat(de.id))||de.get("label");return Ee.innerHTML=this.template({pfx:_e,label:Pe}),be.addClass(this.className),be.css({order:de.get("order")}),this.updateVisibility(),this}}]),W}(R.View);function ce(s,E){var W=Object.keys(s);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);E&&(pe=pe.filter(function(Ee){return Object.getOwnPropertyDescriptor(s,Ee).enumerable})),W.push.apply(W,pe)}return W}function Ce(s){for(var E=1;E<arguments.length;E++){var W=null!=arguments[E]?arguments[E]:{};E%2?ce(Object(W),!0).forEach(function(pe){ne()(s,pe,W[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(W)):ce(Object(W)).forEach(function(pe){Object.defineProperty(s,pe,Object.getOwnPropertyDescriptor(W,pe))})}return s}var Se=_.a.View.extend({initialize:function(s,E){Object(Y.bindAll)(this,"getSorter","onDrag","onDrop","onMove"),this.config=E||{},this.categories=s.categories||"",this.renderedCategories=[];var W=this.config.pStylePrefix||"";this.ppfx=W,this.noCatClass="".concat(W,"blocks-no-cat"),this.blockContClass="".concat(W,"blocks-c"),this.catsClass="".concat(W,"block-categories");var pe=this.collection;this.listenTo(pe,"add",this.addTo),this.listenTo(pe,"reset",this.render),this.em=this.config.em,this.tac="test-tac",this.grabbingCls=this.ppfx+"grabbing",this.em&&(this.config.getSorter=this.getSorter,this.canvas=this.em.get("Canvas"))},updateConfig:function(){var s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=Ce(Ce({},this.config),s)},getSorter:function(){if(this.em){if(!this.sorter){var s=this.em.get("Utils"),E=this.canvas;this.sorter=new s.Sorter({container:E.getBody(),placer:E.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:E.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:this.em,canvasRelative:1})}return this.sorter}},onDrag:function(s){this.em.stopDefault(),this.em.trigger("block:drag:start",s)},onMove:function(s){this.em.trigger("block:drag:move",s)},onDrop:function(s){var E=this.em;if(E.runDefault(),s&&s.get){var W="activeOnRender";s.get(W)&&(s.trigger("active"),s.unset(W)),E.trigger("block:drag:stop",s)}},addTo:function(s){this.add(s)},add:function(s,E){var W=this.config,pe=E||null,Ee=new g({model:s,attributes:s.get("attributes")},W).render().el,be=s.get("category");if(be&&this.categories&&!W.ignoreCategories){Object(Y.isString)(be)?be={id:be,label:be}:Object(Y.isObject)(be)&&!be.id&&(be.id=be.label);var de=this.categories.add(be),_e=de.get("id"),Pe=this.renderedCategories[_e],He=this.getCategoriesEl();return s.set("category",de,{silent:!0}),!Pe&&He&&(Pe=new fe({model:de},this.config).render(),this.renderedCategories[_e]=Pe,He.appendChild(Pe.el)),void(Pe&&Pe.append(Ee))}pe?pe.appendChild(Ee):this.append(Ee)},getCategoriesEl:function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},getBlocksEl:function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},append:function(s){var E=this.getBlocksEl();E&&E.appendChild(s)},render:function(){var s=this,E=this.ppfx,W=document.createDocumentFragment();this.catsEl=null,this.blocksEl=null,this.renderedCategories=[],this.el.innerHTML='\n      <div class="'.concat(this.catsClass,'"></div>\n      <div class="').concat(this.noCatClass,'">\n        <div class="').concat(this.blockContClass,'"></div>\n      </div>\n    '),this.collection.each(function(Ee){return s.add(Ee,W)}),this.append(W);var pe="".concat(this.blockContClass,"s ").concat(E,"one-bg ").concat(E,"two-color");return this.$el.addClass(pe),this.rendered=!0,this}});function se(s,E){var W=Object.keys(s);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(s);E&&(pe=pe.filter(function(Ee){return Object.getOwnPropertyDescriptor(s,Ee).enumerable})),W.push.apply(W,pe)}return W}function ue(s){for(var E=1;E<arguments.length;E++){var W=null!=arguments[E]?arguments[E]:{};E%2?se(Object(W),!0).forEach(function(pe){ne()(s,pe,W[pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(W)):se(Object(W)).forEach(function(pe){Object.defineProperty(s,pe,Object.getOwnPropertyDescriptor(W,pe))})}return s}var xe="block",re="".concat(xe,":"),J="".concat(re,"add"),$="".concat(re,"update"),V="".concat(re,"remove"),S="".concat(V,":before"),O="".concat(re,"drag"),z="".concat(O,":start"),n="".concat(O,":stop"),m="".concat(re,"custom");oe.default=function(){var s,E,W,pe={},Ee=[];return ue(ue({},U.a),{},{name:"BlockManager",Block:T,Blocks:j,Category:H,Categories:d,events:{all:xe,update:$,add:J,remove:V,removeBefore:S,drag:O,dragStart:z,dragEnd:n,custom:m},init:function(){var be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},de=pe=ue(ue({},M),be),_e=de.em;return this.em=_e,s=new j(pe.blocks),E=new j(s.models),Ee=new d,this.all=s,this.__initListen(),s.on("add",function(Pe){return E.add(Pe)}),s.on("remove",function(Pe){return E.remove(Pe)}),s.on("reset",function(Pe){return E.reset(Pe.models)}),this},__trgCustom:function(){this.em.trigger(this.events.custom,this.__customData())},__customData:function(){var be=this,de=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:de.container,dragStart:function(_e,Pe){return be.startDrag(_e,Pe)},drag:function(_e){return be.__drag(_e)},dragStop:function(_e){return be.endDrag(_e)}}},__startDrag:function(be,de){var _e=this.em,Pe=this.events,He=be.getContent?be.getContent():be;this._dragBlock=be,_e.set({dragResult:null,dragContent:He}),[_e,s].map(function(ut){return ut.trigger(Pe.dragStart,be,de)})},__drag:function(be){var _e=this.events,Pe=this._dragBlock;[this.em,s].map(function(He){return He.trigger(_e.drag,Pe,be)})},__endDrag:function(){var be=this.em,de=this.events,_e=this._dragBlock,Pe=be.get("dragResult");if(this._dragBlock=null,Pe){var He="activeOnRender",ut=Pe.get&&Pe.get(He),rt=_e.get("activate")||ut,G=_e.get("select"),ae=Object(Y.isArray)(Pe)?Pe[0]:Pe;(G||rt&&!1!==G)&&be.setSelected(ae),rt&&(ae.trigger("active"),ut&&ae.unset(He)),_e.get("resetId")&&ae.onAll(function(Oe){return Oe.resetId()})}be.set({dragResult:null,dragContent:null}),[be,s].map(function(Oe){return Oe.trigger(de.dragEnd,Pe,_e)})},__getFrameViews:function(){return this.em.get("Canvas").getFrames().map(function(be){return be.view})},__behaviour:function(){var be=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._bhv=ue(ue({},this._bhv||{}),be)},__getBehaviour:function(){return this._bhv||{}},startDrag:function(be,de){this.__startDrag(be,de),this.__getFrameViews().forEach(function(_e){return _e.droppable.startCustom()})},endDrag:function(be){this.__getFrameViews().forEach(function(de){return de.droppable.endCustom(be)}),this.__endDrag()},getConfig:function(){return pe},postRender:function(){W=new Se({collection:E,categories:Ee},pe);var be=this.getConfig().appendTo;if(be){var de=Object(Y.isElement)(be)?be:document.querySelector(be);if(!de)return this.__logWarn('"appendTo" element not found');de.appendChild(this.render(E.models))}this.__trgCustom()},add:function(be,de){var _e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},Pe=de||{};return Pe.id=be,s.add(Pe,_e)},get:function(be){return s.get(be)},getAll:function(){return s},getAllVisible:function(){return E},remove:function(be){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.__remove(be,de)},getCategories:function(){return Ee},getContainer:function(){return W.el},render:function(be){var de=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_e=be||this.getAll().models;if(de.external){var Pe=new j(_e);return new Se({collection:Pe,categories:Ee},ue(ue({},pe),de)).render().el}return W&&(W.updateConfig(de),W.collection.reset(_e),W.rendered||(W.render(),W.rendered=1)),this.getContainer()},destroy:function(){var be=[s,E,Ee];be.map(function(de){return de.stopListening()}),be.map(function(de){return de.reset()}),W&&W.remove(),pe={}}})}},function($e,oe,i){"use strict";i.r(oe);var Z="sw-visibility",ne="export-template",Y="open-sm",U="open-tm",M="open-layers",x="open-blocks",c="fullscreen",h="preview",u={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:Z,className:"fa fa-square-o",command:Z,context:Z,attributes:{title:"View components"}},{id:h,className:"fa fa-eye",command:h,context:h,attributes:{title:"Preview"}},{id:c,className:"fa fa-arrows-alt",command:c,context:c,attributes:{title:"Fullscreen"}},{id:ne,className:"fa fa-code",command:ne,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:Y,className:"fa fa-paint-brush",command:Y,active:!0,togglable:0,attributes:{title:"Open Style Manager"}},{id:U,className:"fa fa-cog",command:U,togglable:0,attributes:{title:"Settings"}},{id:M,className:"fa fa-bars",command:M,togglable:0,attributes:{title:"Open Layer Manager"}},{id:x,className:"fa fa-th-large",command:x,togglable:0,attributes:{title:"Open Blocks"}}]}],em:null,delayBtnsShow:300},p=i(2),f=i.n(p),P=i(48),w=f.a.Model.extend({defaults:{id:"",content:"",visible:!0,buttons:[],attributes:{}},initialize:function(d){this.btn=this.get("buttons")||[],this.buttons=new P.default(this.btn),this.set("buttons",this.buttons)}}),b=f.a.Collection.extend({model:w}),A=i(3),R=i.n(A),_=i(0);function k(d,l){var y=Object.keys(d);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(d);l&&(g=g.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),y.push.apply(y,g)}return y}function T(d){for(var l=1;l<arguments.length;l++){var y=null!=arguments[l]?arguments[l]:{};l%2?k(Object(y),!0).forEach(function(g){R()(d,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(y)):k(Object(y)).forEach(function(g){Object.defineProperty(d,g,Object.getOwnPropertyDescriptor(y,g))})}return d}var C=f.a.View.extend({tagName:function(){return this.model.get("tagName")},events:{click:"clicked"},initialize:function(d){var l=this.model,y=l.get("className"),g=l.attributes,L=g.command,K=g.listen,ee=d.config||{},De=ee.em;this.config=ee,this.em=De;var fe=this.config.stylePrefix||"",ce=this.config.pStylePrefix||"";if(this.pfx=fe,this.ppfx=this.config.pStylePrefix||"",this.id=fe+l.get("id"),this.activeCls="".concat(fe,"active ").concat(ce,"four-color"),this.disableCls="".concat(ce,"disabled"),this.btnsVisCls="".concat(fe,"visible"),this.className=fe+"btn"+(y?" "+y:""),this.listenTo(l,"change",this.render),this.listenTo(l,"change:active updateActive",this.updateActive),this.listenTo(l,"checkActive",this.checkActive),this.listenTo(l,"change:bntsVis",this.updateBtnsVis),this.listenTo(l,"change:attributes",this.updateAttributes),this.listenTo(l,"change:className",this.updateClassName),this.listenTo(l,"change:disable",this.updateDisable),De&&Object(_.isString)(L)&&K){var Ce={fromListen:1};this.listenTo(De,"run:".concat(L),function(){return l.set("active",!0,Ce)}),this.listenTo(De,"stop:".concat(L),function(){return l.set("active",!1,Ce)})}De&&De.get&&(this.commands=De.get("Commands"))},updateClassName:function(){var d=this.model,l=this.pfx,y=d.get("className"),g=d.get("attributes").class,L="".concat(g||""," ").concat(l,"btn ").concat(y||"");this.$el.attr("class",L.trim())},updateAttributes:function(){var d=this.em,l=this.model,y=this.$el,g=l.get("attributes")||{},L=d&&d.t&&d.t("panels.buttons.titles.".concat(l.id));y.attr(g),L&&y.attr({title:L}),this.updateClassName()},updateBtnsVis:function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},updateActive:function(d,l){var y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},g=this.model,L=this.commands,K=this.$el,ee=this.activeCls,De=y.fromCollection,fe=y.fromListen,ce=g.get("context"),Ce=g.get("options"),Se=g.get("command"),se={};Se&&(L&&Object(_.isString)(Se)?se=L.get(Se)||{}:Object(_.isFunction)(Se)?se=L.create({run:Se}):null!==Se&&Object(_.isObject)(Se)&&(se=L.create(Se)),g.get("active")?(!De&&g.collection.deactivateAll(ce,g),g.set("active",!0,{silent:!0}).trigger("checkActive"),!fe&&L.runCommand(se,T(T({},Ce),{},{sender:g})),se.noStop&&g.set("active",!1)):(K.removeClass(ee),!fe&&L.stopCommand(se,T(T({},Ce),{},{sender:g,force:1}))))},updateDisable:function(){var d=this.disableCls,l=this.model.get("disable");this.$el[l?"addClass":"removeClass"](d)},checkActive:function(){var l=this.$el,y=this.activeCls;this.model.get("active")?l.addClass(y):l.removeClass(y)},clicked:function(d){var l=this.model;l.get("bntsVis")||l.get("disable")||!l.get("command")||this.toggleActive()},toggleActive:function(){var d=this.model,l=this.em,y=d.attributes,g=y.active;g&&!y.togglable||(d.set("active",!g),g?d.get("runDefaultCommand")&&l.runDefault():d.get("stopDefaultCommand")&&l.stopDefault())},render:function(){var d=this.model,l=d.get("label"),y=this.$el;return!d.get("el")&&y.empty(),this.updateAttributes(),l&&y.append(l),this.checkActive(),this.updateDisable(),this}}),j=f.a.View.extend({initialize:function(d){this.opt=d||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"",this.parentM=this.opt.parentM||null,this.listenTo(this.collection,"add",this.addTo),this.listenTo(this.collection,"reset remove",this.render),this.className=this.pfx+"buttons"},addTo:function(d){this.addToCollection(d)},addToCollection:function(d,l){var y=l||null,g=new C({el:d.get("el"),model:d,config:this.config,parentM:this.parentM}).render().el;return y?y.appendChild(g):this.$el.append(g),g},render:function(){var d=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(l){this.addToCollection(l,d)},this),this.$el.append(d),this.$el.attr("class",Object(_.result)(this,"className")),this}});function N(d,l){var y=Object.keys(d);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(d);l&&(g=g.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),y.push.apply(y,g)}return y}var H=f.a.View.extend({initialize:function(d){var l=d.config||{},y=this.model;this.config=l,this.pfx=l.stylePrefix||"",this.ppfx=l.pStylePrefix||"",this.buttons=y.get("buttons"),this.className=this.pfx+"panel",this.id=this.pfx+y.get("id"),this.listenTo(y,"change:appendContent",this.appendContent),this.listenTo(y,"change:content",this.updateContent),this.listenTo(y,"change:visible",this.toggleVisible),y.view=this},appendContent:function(){this.$el.append(this.model.get("appendContent"))},updateContent:function(){this.$el.html(this.model.get("content"))},toggleVisible:function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},attributes:function(){return this.model.get("attributes")},initResize:function(){var d=this.config.em,l=d?d.get("Editor"):"",y=this.model.get("resizable");if(l&&y){var g,L,K,ee=!0===y?[1,1,1,1]:y,De=ee.length,fe=0;2==De?(g=ee[0],K=ee[0],L=ee[1],fe=ee[1]):4==De&&(g=ee[0],L=ee[1],K=ee[2],fe=ee[3]);var ce=l.Utils.Resizer.init(function(Ce){for(var Se=1;Se<arguments.length;Se++){var se=null!=arguments[Se]?arguments[Se]:{};Se%2?N(Object(se),!0).forEach(function(ue){R()(Ce,ue,se[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(se)):N(Object(se)).forEach(function(ue){Object.defineProperty(Ce,ue,Object.getOwnPropertyDescriptor(se,ue))})}return Ce}({tc:g,cr:L,bc:K,cl:fe,tl:0,tr:0,bl:0,br:0,appendTo:this.el,silentFrames:1,avoidContainerUpdate:1,prefix:l.getConfig().stylePrefix,onEnd:function(){d&&d.trigger("change:canvasOffset")},posFetcher:function(Ce,Se){var se=Se.target,ue=Ce.style,xe=ce.getConfig(),re=xe.keyWidth,J=xe.keyHeight,$=Ce.getBoundingClientRect(),V="container"==se,S=ue[re],O=ue[J];return{left:0,top:0,width:S&&!V?parseFloat(S):$.width,height:O&&!V?parseFloat(O):$.height}}},y));ce.blur=function(){},ce.focus(this.el)}},render:function(){var d=this.$el,l=this.ppfx,y="".concat(this.className," ").concat(this.id," ").concat(l,"one-bg ").concat(l,"two-color");if(d.addClass(y),this.toggleVisible(),this.buttons.length){var g=new j({collection:this.buttons,config:this.config});d.append(g.render().el)}return d.append(this.model.get("content")),this}}),v=f.a.View.extend({initialize:function(d){this.opt=d||{},this.config=this.opt.config||{},this.pfx=this.config.stylePrefix||"";var l=this.collection;this.listenTo(l,"add",this.addTo),this.listenTo(l,"reset",this.render),this.listenTo(l,"remove",this.onRemove),this.className=this.pfx+"panels"},onRemove:function(d){var l=d.view;l&&l.remove()},addTo:function(d){this.addToCollection(d)},addToCollection:function(d,l){var y=l||null,g=this.config,L=d.get("el"),K=new H({el:L,model:d,config:g}),ee=K.render().el,De=d.get("appendTo");return L||(De?document.querySelector(De).appendChild(ee):y?y.appendChild(ee):this.$el.append(ee)),K.initResize(),ee},render:function(){var d=this,l=this.$el,y=document.createDocumentFragment();return l.empty(),this.collection.each(function(g){return d.addToCollection(g,y)}),l.append(y),l.attr("class",this.className),this}});oe.default=function(){var d,l,y={};return{name:"Panels",init:function(g){for(var L in y=g||{},u)L in y||(y[L]=u[L]);var K=y.pStylePrefix;return K&&(y.stylePrefix=K+y.stylePrefix),d=new b(y.defaults),this},getPanels:function(){return d},getPanelsEl:function(){return l&&l.el},addPanel:function(g){return d.add(g)},removePanel:function(g){return d.remove(g)},getPanel:function(g){var L=d.where({id:g});return L.length?L[0]:null},addButton:function(g,L){var K=this.getPanel(g);return K?K.get("buttons").add(L):null},removeButton:function(g,L){var K=this.getPanel(g);return K&&K.get("buttons").remove(L)},getButton:function(g,L){var K=this.getPanel(g);if(K){var ee=K.get("buttons").where({id:L});return ee.length?ee[0]:null}return null},render:function(){return l&&l.remove(),(l=new v({collection:d,config:y})).render().el},active:function(){this.getPanels().each(function(g){g.get("buttons").each(function(L){L.get("active")&&L.trigger("updateActive")})})},disableButtons:function(){this.getPanels().each(function(g){g.get("buttons").each(function(L){L.get("disable")&&L.trigger("change:disable")})})},destroy:function(){d.reset(),d.stopListening(),l&&l.remove(),[y,d,l].forEach(function(g){return{}})},Panel:w}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(11),ne=i.n(Z),Y=i(3),U=i.n(Y),M=i(0),x=i(1),c={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:"",autoscrollLimit:50,extHl:0,notTextable:["button","a","input[type=checkbox]","input[type=radio]"]},h=i(5),u=i.n(h),p=i(6),f=i.n(p),P=i(8),w=i.n(P),b=i(9),A=i.n(b),R=i(4),_=i.n(R),k=i(2),T=i.n(k),C=i(47),N=function(S){w()(z,S);var O=function j(S){var O=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(z){return!1}}();return function(){var z,n=_()(S);if(O){var m=_()(this).constructor;z=Reflect.construct(n,arguments,m)}else z=n.apply(this,arguments);return A()(this,z)}}(z);function z(){return u()(this,z),O.apply(this,arguments)}return f()(z,[{key:"defaults",value:function(){return{frame:"",frames:"",rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[]}}},{key:"initialize",value:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=m.em;this.config=m,this.em=s,this.listenTo(this,"change:zoom",this.onZoomChange),this.listenTo(s,"change:device",this.updateDevice),this.listenTo(s,C.evPageSelect,this._pageUpdated)}},{key:"init",value:function(){var n=this.em.get("PageManager").getMain(),m=n.getMainFrame();this.set("frames",n.getFrames()),this.updateDevice({frame:m})}},{key:"_pageUpdated",value:function(n,m){var s=this.em;s.setSelected(),s.get("readyCanvas")&&s.stopDefault(),m&&m.getFrames().map(function(E){return E.disable()}),this.set("frames",n.getFrames())}},{key:"updateDevice",value:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=this.em,s=m.getDeviceModel(),E=n.frame||m.getCurrentFrameModel();if(E&&s){var W=s.attributes,pe=W.width,Ee=W.height;E.set({width:pe,height:Ee},{noUndo:1})}}},{key:"onZoomChange",value:function(){this.get("zoom")<1&&this.set("zoom",1)}}]),z}(k.Model),H=i(29),v=i(43),d=i(12);function l(S,O){var z=Object.keys(S);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(S);O&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(S,m).enumerable})),z.push.apply(z,n)}return z}var y=function(){function S(O,z){var n=this;u()(this,S),this.em=O;var m=z||O.get("Canvas").getFrames().map(function(E){return E.getComponent().getEl()}),s=Array.isArray(m)?m:[m];return this.el=m,this.counter=0,Object(M.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),s.forEach(function(E){return n.toggleEffects(E,1)}),this}return f()(S,[{key:"toggleEffects",value:function(O,z){var n={on:x.on,off:x.off},m=z?"on":"off";n[m](O,"dragenter",this.handleDragEnter),n[m](O,"dragover",this.handleDragOver),n[m](O,"drop",this.handleDrop),n[m](O,"dragleave",this.handleDragLeave)}},{key:"__customTglEff",value:function(O){var z=O?x.on:x.off,n=this.el.ownerDocument,m=n.defaultView.frameElement;this.sortOpts=O?{onStart:function(s){var E=s.sorter;Object(x.on)(m,"pointermove",E.onMove)},onEnd:function(s){var E=s.sorter;Object(x.off)(m,"pointermove",E.onMove)},customTarget:function(s){var E=s.event;return n.elementFromPoint(E.clientX,E.clientY)}}:null,z(m,"pointerenter",this.handleDragEnter),z(m,"pointermove",this.handleDragOver),z(document,"pointerup",this.handleDrop),z(m,"pointerout",this.handleDragLeave)}},{key:"startCustom",value:function(){this.__customTglEff(!0)}},{key:"endCustom",value:function(O){this.over?this.endDrop(O):this.__customTglEff(!1)}},{key:"endDrop",value:function(O,z){var n=this.em,m=this.dragStop;this.counter=0,m&&m(O),this.__customTglEff(!1),n.trigger("canvas:dragend",z)}},{key:"handleDragLeave",value:function(O){this.updateCounter(-1,O)}},{key:"updateCounter",value:function(O,z){this.counter+=O,0===this.counter&&this.endDrop(1,z)}},{key:"handleDragEnter",value:function(O){var z=this,n=this.em,m=O.dataTransfer;if(this.updateCounter(1,O),!this.over){this.over=1;var s,E,W=n.get("Utils"),pe=n.get("Canvas"),Ee=n.get("dragContent")||"<br>";if(n.stopDefault(),n.inAbsoluteMode()){var be=n.get("DomComponents").getWrapper(),de=be.append({})[0],_e=n.get("Commands").run("core:component-drag",{event:O,guidesInfo:1,center:1,target:de,onEnd:function(He,ut,rt){var G;if(!rt.cancelled){G=be.append(Ee)[0];var ae=de.getStyle();G.addStyle({left:ae.left,top:ae.top,position:ae.position})}z.handleDragEnd(G,m),de.remove()}});s=function(He){return _e.stop(O,{cancel:He})},E=function(He){return Ee=He}}else{var Pe=new W.Sorter(function(He){for(var ut=1;ut<arguments.length;ut++){var rt=null!=arguments[ut]?arguments[ut]:{};ut%2?l(Object(rt),!0).forEach(function(G){U()(He,G,rt[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(He,Object.getOwnPropertyDescriptors(rt)):l(Object(rt)).forEach(function(G){Object.defineProperty(He,G,Object.getOwnPropertyDescriptor(rt,G))})}return He}({em:n,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:pe.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(He){return z.handleDragEnd(He,m)},document:this.el.ownerDocument},this.sortOpts||{}));Pe.setDropContent(Ee),Pe.startSort(),this.sorter=Pe,s=function(He){He&&(Pe.moved=0),Pe.endMove()},E=function(He){return Pe.setDropContent(He)}}this.dragStop=s,this.dragContent=E,n.trigger("canvas:dragenter",m,Ee)}}},{key:"handleDragEnd",value:function(O,z){var n=this.em;this.over=0,O&&(n.set("dragResult",O),n.trigger("canvas:drop",z,O)),n.runDefault({preserveSelected:1})}},{key:"handleDragOver",value:function(O){O.preventDefault(),this.em.trigger("canvas:dragover",O)}},{key:"handleDrop",value:function(O){O.preventDefault();var z=this.dragContent,m=this.getContentByData(O.dataTransfer).content;O.target.style.border="",m&&z&&z(m),this.endDrop(!m,O)}},{key:"getContentByData",value:function(O){var z=this.em,n=O&&O.types,m=O&&O.files||[],s=z.get("dragContent"),E=O&&O.getData("text");if(m.length){E=[];for(var W=0;W<m.length;W++){var pe=m[W],Ee=pe.type.split("/")[0];"image"==Ee&&E.push({type:Ee,file:pe,attributes:{alt:pe.name}})}}else if(s)E=s;else if(Object(M.indexOf)(n,"text/html")>=0)E=O&&O.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if(Object(M.indexOf)(n,"text/uri-list")>=0)E={type:"link",attributes:{href:E},content:E};else if(Object(M.indexOf)(n,"text/json")>=0){var be=O&&O.getData("text/json");be&&(E=JSON.parse(be))}else 1===n.length&&"text/plain"===n[0]&&(E="<div>".concat(E,"</div>"));var de={content:E};return z.trigger("canvas:dragdata",O,de),de}}]),S}(),g=i(13);function L(S,O){var z=Object.keys(S);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(S);O&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(S,m).enumerable})),z.push.apply(z,n)}return z}function K(S){for(var O=1;O<arguments.length;O++){var z=null!=arguments[O]?arguments[O]:{};O%2?L(Object(z),!0).forEach(function(n){U()(S,n,z[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(z)):L(Object(z)).forEach(function(n){Object.defineProperty(S,n,Object.getOwnPropertyDescriptor(z,n))})}return S}var ee=T.a.View.extend({tagName:"iframe",attributes:{allowfullscreen:"allowfullscreen","data-frame-el":!0},initialize:function(S){Object(M.bindAll)(this,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var O=this.model,z=this.el;this.tools={},this.config=K(K({},S.config||{}),{},{frameView:this}),this.ppfx=this.config.pStylePrefix||"",this.em=this.config.em;var n=this.getCanvasModel();this.listenTo(O,"change:head",this.updateHead),this.listenTo(n,"change:styles",this.renderStyles),O.view=this,Object(x.setViewEl)(z,this)},updateHead:function(){var S=this.model,O=this.getHead(),z=[],n=[],m=S.get("head"),s=S.previous("head"),E=function(){var pe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(pe).sort().map(function(Ee){return"[".concat(Ee,'="').concat(pe[Ee],'"]')}).join("")},W=function(pe,Ee,be){pe.forEach(function(de){var _e=de.tag,Pe=de.attributes;!Ee.some(function(He){return He.tag===_e&&E(He.attributes)===E(Pe)})&&be.push(de)})};W(m,s,n),W(s,m,z),z.forEach(function(pe){var Ee=O.querySelector("".concat(pe.tag).concat(E(pe.attributes)));Ee&&Ee.parentNode.removeChild(Ee)}),Object(g.c)(O,n)},getEl:function(){return this.el},getCanvasModel:function(){return this.em.get("Canvas").getModel()},getWindow:function(){return this.getEl().contentWindow},getDoc:function(){return this.getEl().contentDocument},getHead:function(){return this.getDoc().querySelector("head")},getBody:function(){return this.getDoc().querySelector("body")},getWrapper:function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},getJsContainer:function(){return this.jsContainer||(this.jsContainer=Object(g.f)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},getToolsEl:function(){var S=this.config.frameWrapView;return S&&S.elTools},getGlobalToolsEl:function(){return this.em.get("Canvas").getGlobalToolsEl()},getHighlighter:function(){return this._getTool("[data-hl]")},getBadgeEl:function(){return this._getTool("[data-badge]")},getOffsetViewerEl:function(){return this._getTool("[data-offset]")},getRect:function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},getOffsetRect:function(){var S=this.el,O=this.getBody(),z=O.scrollTop,n=O.scrollLeft,m=S.offsetHeight,s=S.offsetWidth;return{top:S.offsetTop,left:S.offsetLeft,height:m,width:s,scrollTop:z,scrollLeft:n,scrollBottom:z+m,scrollRight:n+s}},_getTool:function(S){var O=this.tools,z=this.getToolsEl();return O[S]||(O[S]=z.querySelector(S)),O[S]},remove:function(){var S=this.wrapper;this._toggleEffects(),this.tools={},S&&S.remove(),T.a.View.prototype.remove.apply(this,arguments)},startAutoscroll:function(){var S=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){S._toggleAutoscrollFx(1),requestAnimationFrame(S.autoscroll)},0)},autoscroll:function(){if(this.dragging){var S=this.lastClientY,O=this.em.get("Canvas"),z=this.getWindow(),n=this.getBody().scrollTop,m=S||0,s=O.getConfig().autoscrollLimit,E=this.getRect().height-s,W=n;m<s&&(W-=s-m),m>E&&(W+=m-E),!Object(M.isUndefined)(S)&&W!==n&&W>0&&W<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity=0,this.showGlobalTools(),z.scrollTo(0,W)),requestAnimationFrame(this.autoscroll)}},updateClientY:function(S){S.preventDefault(),this.lastClientY=Object(x.getPointerEvent)(S).clientY*this.em.getZoomDecimal()},showGlobalTools:Object(M.debounce)(function(){this.getGlobalToolsEl().style.opacity=""},50),stopAutoscroll:function(){this.dragging&&this._toggleAutoscrollFx()},_toggleAutoscrollFx:function(S){this.dragging=S;var O=this.getWindow(),z=S?"on":"off",n={on:x.on,off:x.off};n[z](O,"mousemove dragover",this.updateClientY),n[z](O,"mouseup",this.stopAutoscroll)},render:function(){return this.$el.attr({class:"".concat(this.ppfx,"frame")}),this.renderScripts(),this},renderScripts:function(){var S=this,O=this.el,n=this.em,m="frame:load",s={el:O,model:this.model,view:this},E=this.getCanvasModel();O.onload=function(){n&&n.trigger("".concat(m,":before"),s),function W(pe){if(pe.length>0){var Ee=pe.shift(),be=Object(g.f)("script",K({type:"text/javascript"},Object(M.isString)(Ee)?{src:Ee}:Ee));be.onerror=be.onload=W.bind(null,pe),O.contentDocument.head.appendChild(be)}else S.renderBody(),n&&n.trigger(m,s)}(ne()(E.get("scripts")))}},renderStyles:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=this.getHead(),z=this.getCanvasModel(),n=function(Ee){return Ee.map(function(be){return{tag:"link",attributes:K({rel:"stylesheet"},Object(M.isString)(be)?{href:be}:be)}})},m=n(S.prev||z.previous("styles")),s=n(z.get("styles")),E=[],W=[],pe=function(Ee,be,de){Ee.forEach(function(_e){var Pe=_e.attributes.href;!be.some(function(He){return He.attributes.href===Pe})&&de.push(_e)})};pe(s,m,W),pe(m,s,E),E.forEach(function(Ee){var be=O.querySelector('link[href="'.concat(Ee.attributes.href,'"]'));be&&be.parentNode.removeChild(be)}),Object(g.c)(O,W)},renderBody:function(){var S=this,z=this.model,n=this.ppfx,m=this.config.em,s=this.getDoc(),E=this.getBody(),W=this.getWindow(),pe=m.get("Config");W._isEditor=!0,this.renderStyles({prev:[]}),Object(g.a)(E,"<style>\n      ".concat(pe.baseCss||"","\n\n      .").concat(n,"dashed *[data-highlightable] {\n        outline: 1px dashed rgba(170,170,170,0.7);\n        outline-offset: -2px;\n      }\n\n      .").concat(n,"selected {\n        outline: 3px solid #3b97e3 !important;\n        outline-offset: -3px;\n      }\n\n      .").concat(n,"selected-parent {\n        outline: 2px solid ").concat("#ffca6f"," !important\n      }\n\n      .").concat(n,"no-select {\n        user-select: none;\n        -webkit-user-select:none;\n        -moz-user-select: none;\n      }\n\n      .").concat(n,"freezed {\n        opacity: 0.5;\n        pointer-events: none;\n      }\n\n      .").concat(n,"no-pointer {\n        pointer-events: none;\n      }\n\n      .").concat(n,"plh-image {\n        background: #f5f5f5;\n        border: none;\n        height: 100px;\n        width: 100px;\n        display: block;\n        outline: 3px solid #ffca6f;\n        cursor: pointer;\n        outline-offset: -2px\n      }\n\n      .").concat(n,"grabbing {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n      }\n\n      .").concat(n,"is__grabbing {\n        overflow-x: hidden;\n      }\n\n      .").concat(n,"is__grabbing,\n      .").concat(n,"is__grabbing * {\n        cursor: grabbing !important;\n      }\n\n      ").concat(pe.canvasCss||"","\n      ").concat(pe.protectedCss||"","\n    </style>"));var Ee=z.getComponent();this.wrapper=new d.default({model:Ee,config:K(K({},Ee.config),{},{frameView:this})}).render(),Object(g.a)(E,this.wrapper.el),Object(g.a)(E,new v.a({collection:z.getStyles(),config:K(K({},m.get("CssComposer").getConfig()),{},{frameView:this})}).render().el),Object(g.a)(E,this.getJsContainer()),Object(x.on)(E,"click",function(be){return be&&"A"==be.target.tagName&&be.preventDefault()}),Object(x.on)(E,"submit",function(be){return be&&be.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent"}].forEach(function(be){return be.event.split(" ").forEach(function(de){s.addEventListener(de,function(_e){return S.el.dispatchEvent(Object(g.e)(_e,be.class))})})}),this._toggleEffects(1),this.droppable=Object(x.hasDnd)(m)&&new y(m,this.wrapper.el),z.trigger("loaded")},_toggleEffects:function(S){var O=S?x.on:x.off,z=this.getWindow();z&&O(z,"".concat(g.k," resize"),this._emitUpdate)},_emitUpdate:function(){this.model._emitUpdated()}}),De=i(24);function fe(S,O){var z=Object.keys(S);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(S);O&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(S,m).enumerable})),z.push.apply(z,n)}return z}function ce(S){for(var O=1;O<arguments.length;O++){var z=null!=arguments[O]?arguments[O]:{};O%2?fe(Object(z),!0).forEach(function(n){U()(S,n,z[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(z)):fe(Object(z)).forEach(function(n){Object.defineProperty(S,n,Object.getOwnPropertyDescriptor(z,n))})}return S}var Ce=T.a.View.extend({events:{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"},initialize:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object(M.bindAll)(this,"onScroll","frameLoaded","updateOffset","remove","startDrag");var z=this.model,n=ce(ce({},S.config||O),{},{frameWrapView:this}),m=n.canvasView,s=n.em;this.cv=m,this.config=n,this.em=s,this.canvas=s&&s.get("Canvas"),this.ppfx=n.pStylePrefix||"",this.frame=new ee({model:z,config:n}),this.classAnim="".concat(this.ppfx,"frame-wrapper--anim"),this.updateOffset=Object(M.debounce)(this.updateOffset.bind(this)),this.updateSize=Object(M.debounce)(this.updateSize.bind(this)),this.listenTo(z,"loaded",this.frameLoaded),this.listenTo(z,"change:x change:y",this.updatePos),this.listenTo(z,"change:width change:height",this.updateSize),this.listenTo(z,"destroy remove",this.remove),this.updatePos(),this.setupDragger()},setupDragger:function(){var S,O,z,n=this,m=this.canvas,s=this.model,E=function(W){m.toggleFramesEvents(W)};this.dragger=new De.a({onStart:function(){var W=s.attributes,pe=W.x,Ee=W.y;z=n.em.getZoomMultiplier(),S=pe,O=Ee,E()},onEnd:function(){return E(1)},setPosition:function(W){s.set({x:S+W.x*z,y:O+W.y*z})}})},startDrag:function(S){S&&this.dragger.start(S)},__clear:function(S){var O=this.frame;O&&O.remove(S),Object(g.l)(this.elTools)},remove:function(S){var O=this;return this.__clear(S),T.a.View.prototype.remove.apply(this,arguments),["frame","dragger","cv","em","canvas","elTools"].forEach(function(z){return O[z]=0}),this},updateOffset:function(){var S=this.em,O=this.$el,z=this.frame;S&&(S.runDefault({preserveSelected:1}),O.removeClass(this.classAnim),z.model._emitUpdated())},updatePos:function(S){var n=this.model.attributes,m=n.x,s=n.y,E=this.el.style;this.frame.rect=0,E.left=isNaN(m)?m:"".concat(m,"px"),E.top=isNaN(s)?s:"".concat(s,"px"),S&&this.updateOffset()},updateSize:function(){this.updateDim()},updateDim:function(){var S=this.em,O=this.el,z=this.$el,n=this.model,m=this.classAnim,s=this.frame;if(s){s.rect=0,z.addClass(m);var E=this.__handleSize(),W=E.noChanges,pe=E.width,Ee=E.height;(Object(M.isNull)(pe)||Object(M.isNull)(Ee))&&n.set(ce(ce({},pe?{}:{width:O.offsetWidth}),Ee?{}:{height:O.offsetHeight}),{silent:1}),S.stopDefault({preserveSelected:1}),W?this.updateOffset():setTimeout(this.updateOffset,350)}},onScroll:function(){var S=this.frame;this.em.trigger("frame:scroll",{frame:S,body:S.getBody(),target:S.getWindow()})},frameLoaded:function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()},__handleSize:function(){var z=this.el.style,n=this.model.attributes,m=n.width,s=n.height,pe=m||"",Ee=s||"",be=(z.width||"")==pe&&(z.height||"")==Ee;return z.width=Object(M.isNumber)(pe)?"".concat(pe).concat("px"):pe,z.height=Object(M.isNumber)(Ee)?"".concat(Ee).concat("px"):Ee,{noChanges:be,width:m,height:s,newW:pe,newH:Ee}},render:function(){var S=this.frame,O=this.$el,z=this.ppfx,n=this.cv,m=this.model,s=this.el,E=m.attributes.onRender;this.__clear(),this.__handleSize(),S.render(),O.empty().attr({class:"".concat(z,"frame-wrapper")}).append('\n      <div class="'.concat(z,'frame-wrapper__top gjs-two-color" data-frame-top>\n        <div class="').concat(z,'frame-wrapper__name" data-action-move>\n          ').concat(m.get("name")||"",'\n        </div>\n        <div class="').concat(z,'frame-wrapper__top-r">\n          <div class="').concat(z,'frame-wrapper__icon" data-action-remove style="display: none">\n            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(z,'frame-wrapper__right" data-frame-right></div>\n      <div class="').concat(z,'frame-wrapper__left" data-frame-left></div>\n      <div class="').concat(z,'frame-wrapper__bottom" data-frame-bottom></div>\n      ')).append(S.el);var W=Object(g.f)("div",{class:"".concat(z,"tools"),style:"pointer-events:none; display: none"},'\n      <div class="'.concat(z,'highlighter" data-hl></div>\n      <div class="').concat(z,'badge" data-badge></div>\n      <div class="').concat(z,'placeholder">\n        <div class="').concat(z,'placeholder-int"></div>\n      </div>\n      <div class="').concat(z,'ghost"></div>\n      <div class="').concat(z,'toolbar" style="pointer-events:all"></div>\n      <div class="').concat(z,'resizer"></div>\n      <div class="').concat(z,'offset-v" data-offset>\n        <div class="gjs-marginName" data-offset-m>\n          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>\n          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>\n          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>\n          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>\n        </div>\n        <div class="gjs-paddingName" data-offset-m>\n          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>\n          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>\n          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>\n          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>\n        </div>\n      </div>\n      <div class="').concat(z,'offset-fixed-v"></div>\n    '));this.elTools=W;var pe=n.toolsWrapper;return pe&&pe.appendChild(W),E&&E({el:s,elTop:s.querySelector("[data-frame-top]"),elRight:s.querySelector("[data-frame-right]"),elBottom:s.querySelector("[data-frame-bottom]"),elLeft:s.querySelector("[data-frame-left]"),frame:m,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this}}),Se=H.a.extend({itemView:Ce,autoAdd:1,init:function(){this.listenTo(this.collection,"reset",this.render)},onRemoveBefore:function(S,O){S.forEach(function(z){return z.remove(O)})},onRender:function(){var z=this.config.em;z&&this.$el.attr({class:"".concat(z.getConfig("stylePrefix"),"frames")})}});function se(S,O){var z=Object.keys(S);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(S);O&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(S,m).enumerable})),z.push.apply(z,n)}return z}function ue(S){for(var O=1;O<arguments.length;O++){var z=null!=arguments[O]?arguments[O]:{};O%2?se(Object(z),!0).forEach(function(n){U()(S,n,z[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(z)):se(Object(z)).forEach(function(n){Object.defineProperty(S,n,Object.getOwnPropertyDescriptor(z,n))})}return S}var xe,re=T.a.$,J=T.a.View.extend({events:{wheel:"onWheel"},template:function(){var S=this.pfx;return'\n      <div class="'.concat(S,'canvas__frames" data-frames></div>\n      <div id="').concat(S,'tools" class="').concat(S,'canvas__tools" data-tools></div>\n    ')},initialize:function(S){Object(M.bindAll)(this,"clearOff","onKeyPress","onCanvasMove");var O=this.model;this.config=S.config||{},this.em=this.config.em||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.config.stylePrefix+"canvas";var z=this.em;this._initFrames(),this.listenTo(z,"change:canvasOffset",this.clearOff),this.listenTo(z,"component:selected",this.checkSelected),this.listenTo(O,"change:zoom change:x change:y",this.updateFrames),this.listenTo(O,"change:frames",this._onFramesUpdate),this.toggleListeners(1)},_onFramesUpdate:function(){this._initFrames(),this._renderFrames()},_initFrames:function(){var S=this.frames,z=this.config,n=this.em,m=this.model.get("frames");n.set("readyCanvas",0),m.once("loaded:all",function(){return n.set("readyCanvas",1)}),S&&S.remove(),this.frames=new Se({collection:m,config:ue(ue({},z),{},{canvasView:this})})},checkSelected:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=O.scroll,n=this.em.get("currentFrame");z&&S.views.forEach(function(m){m._getFrame()!==n&&m.scrollIntoView(z)})},remove:function(){this.frames.remove(),this.frames={},T.a.View.prototype.remove.apply(this,arguments),this.toggleListeners()},preventDefault:function(S){S&&(S.preventDefault(),S._parentEvent&&S._parentEvent.preventDefault())},onCanvasMove:function(S){},toggleListeners:function(S){var O=S?x.on:x.off;O(document,"keypress",this.onKeyPress),O(window,"scroll resize",this.clearOff)},onKeyPress:function(S){var O=this.em;" "!==Object(x.getKeyChar)(S)||1===O.getZoomDecimal()||O.get("Canvas").isInputFocused()||(this.preventDefault(S),O.get("Editor").runCommand("core:canvas-move"))},onWheel:function(S){if((S.ctrlKey||S.metaKey)&&this.em.getConfig("multiFrames")){this.preventDefault(S);var O=this.model,z=Math.max(-1,Math.min(1,S.wheelDelta||-S.detail)),n=O.get("zoom");O.set("zoom",n+2*z)}},updateFrames:function(S){var O=this.em,z=this.model.attributes,n=z.x,m=z.y,s=this.getZoom(),E={preserveSelected:1},W=s?1/s:1;this.framesArea.style.transform="scale(".concat(s,") translate(").concat(n*W,"px, ").concat(m*W,"px)"),this.clearOff(),O.stopDefault(E),O.trigger("canvas:update",S),xe&&clearTimeout(xe),xe=setTimeout(function(){return O.runDefault(E)},300)},getZoom:function(){return this.em.getZoomDecimal()},isElInViewport:function(S){var O=Object(x.getElement)(S),z=Object(x.getElRect)(O),n=this.getFrameOffset(O),m=z.top,s=z.left;return m>=0&&s>=0&&m<=n.height&&s<=n.width},offset:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=Object(x.getElRect)(S),n=S.ownerDocument.body,m=O.noScroll;return{top:z.top+(m?0:n.scrollTop),left:z.left+(m?0:n.scrollLeft),width:z.width,height:z.height}},clearOff:function(){this.frmOff=null,this.cvsOff=null},getFrameOffset:function(S){if(!this.frmOff||S){var O=this.frame.el,z=S&&S.ownerDocument.defaultView;this.frmOff=this.offset((z?z.frameElement:O)||O)}return this.frmOff},getCanvasOffset:function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},getElementPos:function(S,O){var z=this.getZoom(),n=O||{},m=this.getFrameOffset(S),s=this.getCanvasOffset(),E=this.offset(S,O);return{top:E.top*z+(n.avoidFrameOffset?0:m.top)-s.top,left:E.left*z+(n.avoidFrameOffset?0:m.left)-s.left,height:E.height*z,width:E.width*z,zoom:z,rect:E}},getElementOffsets:function(S){var O=this;if(!S||Object(x.isTextNode)(S))return{};var z={},n=window.getComputedStyle(S);return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(m){z[m]=parseFloat(n[m])*O.getZoom()}),z},getPosition:function(){var S=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},O=this.frame.el.contentDocument;if(O){var z=O.body,n=this.getZoom(),m=this.getFrameOffset(),s=this.getCanvasOffset(),E=S.noScroll;return{top:m.top+(E?0:z.scrollTop)*n-s.top,left:m.left+(E?0:z.scrollLeft)*n-s.left,width:s.width,height:s.height}}},updateScript:function(S){var O=S.model,z=O.getId();S.scriptContainer||(S.scriptContainer=re('<div data-id="'.concat(z,'">')),this.getJsContainer().appendChild(S.scriptContainer.get(0))),S.el.id=z,S.scriptContainer.html("");var n=document.createElement("script"),m=O.getScriptString(),s=O.get("script-props")?m:"function(){\n".concat(m,"\n;}"),E=JSON.stringify(O.__getScriptProps());n.innerHTML="\n      setTimeout(function() {\n        var item = document.getElementById('".concat(z,"');\n        if (!item) return;\n        (").concat(s,".bind(item))(").concat(E,")\n      }, 1);"),setTimeout(function(){var W=S.scriptContainer;W&&W.get(0).appendChild(n)},0)},getJsContainer:function(S){var O=this.getFrameView(S);return O&&O.getJsContainer()},getFrameView:function(S){return S&&S._getFrame()||this.em.get("currentFrame")},_renderFrames:function(){if(this.ready){var O=this.frames,z=this.em,n=this.framesArea,m=this.model.get("frames");m.listenToLoad(),O.render();var s=m.at(0),E=s&&s.view;z.setCurrentFrame(E),n&&n.appendChild(O.el),this.frame=E}},render:function(){var S=this.el,O=this.$el,z=this.ppfx,n=this.config,m=this.em;O.html(this.template());var s=O.find("[data-frames]");this.framesArea=s.get(0);var E=O.find("[data-tools]");this.toolsWrapper=E.get(0),E.append('\n      <div class="'.concat(z,"tools ").concat(z,'tools-gl" style="pointer-events:none">\n        <div class="').concat(z,'placeholder">\n          <div class="').concat(z,'placeholder-int"></div>\n        </div>\n      </div>\n      <div id="').concat(z,'tools" style="pointer-events:none">\n        ').concat(n.extHl?'<div class="'.concat(z,'highlighter-sel"></div>'):"",'\n        <div class="').concat(z,'badge"></div>\n        <div class="').concat(z,'ghost"></div>\n        <div class="').concat(z,'toolbar" style="pointer-events:all"></div>\n        <div class="').concat(z,'resizer"></div>\n        <div class="').concat(z,'offset-v"></div>\n        <div class="').concat(z,'offset-fixed-v"></div>\n      </div>\n    '));var W=S.querySelector("#".concat(z,"tools"));return this.hlEl=S.querySelector(".".concat(z,"highlighter")),this.badgeEl=S.querySelector(".".concat(z,"badge")),this.placerEl=S.querySelector(".".concat(z,"placeholder")),this.ghostEl=S.querySelector(".".concat(z,"ghost")),this.toolbarEl=S.querySelector(".".concat(z,"toolbar")),this.resizerEl=S.querySelector(".".concat(z,"resizer")),this.offsetEl=S.querySelector(".".concat(z,"offset-v")),this.fixedOffsetEl=S.querySelector(".".concat(z,"offset-fixed-v")),this.toolsGlobEl=S.querySelector(".".concat(z,"tools-gl")),this.toolsEl=W,this.el.className=Object(x.getUiClass)(m,this.className),this.ready=1,this._renderFrames(),this}});function $(S,O){var z=Object.keys(S);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(S);O&&(n=n.filter(function(m){return Object.getOwnPropertyDescriptor(S,m).enumerable})),z.push.apply(z,n)}return z}function V(S){for(var O=1;O<arguments.length;O++){var z=null!=arguments[O]?arguments[O]:{};O%2?$(Object(z),!0).forEach(function(n){U()(S,n,z[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(z)):$(Object(z)).forEach(function(n){Object.defineProperty(S,n,Object.getOwnPropertyDescriptor(z,n))})}return S}oe.default=function(){var S,O,z={};return{getCanvasView:function(){return O},name:"Canvas",init:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};z=V(V(V({},c),n),{},{module:this}),this.em=z.em;var m=z,s=m.scripts,E=m.styles,W=z.pStylePrefix;return W&&(z.stylePrefix=W+z.stylePrefix),S=new N({scripts:s,styles:E},n),this.model=S,this.startAutoscroll=this.startAutoscroll.bind(this),this.stopAutoscroll=this.stopAutoscroll.bind(this),this},onLoad:function(){this.model.init()},getModel:function(){return S},getConfig:function(){return z},getElement:function(){return O.el},getFrame:function(n){return this.getFrames()[n||0]},getFrameEl:function(){var n=(O||{}).frame;return n&&n.el},getFramesEl:function(){return O.framesArea},getWindow:function(){return this.getFrameEl().contentWindow},getDocument:function(){var n=this.getFrameEl();return n&&n.contentDocument},getBody:function(){var n=this.getDocument();return n&&n.body},_getCompFrame:function(n){return n&&n._getFrame()},_getLocalEl:function(n,m,s){var E=n,W=this._getCompFrame(m);return W?W[s]():E},getGlobalToolsEl:function(){return O.toolsGlobEl},getToolsEl:function(n){return this._getLocalEl(O.toolsEl,n,"getToolsEl")},getHighlighter:function(n){return this._getLocalEl(O.hlEl,n,"getHighlighter")},getBadgeEl:function(n){return this._getLocalEl(O.badgeEl,n,"getBadgeEl")},getPlacerEl:function(){return O.placerEl},getGhostEl:function(){return O.ghostEl},getToolbarEl:function(){return O.toolbarEl},getResizerEl:function(){return O.resizerEl},getOffsetViewerEl:function(n){return this._getLocalEl(O.offsetEl,n,"getOffsetViewerEl")},getFixedOffsetViewerEl:function(){return O.fixedOffsetEl},render:function(){return O&&O.remove(),(O=new J({model:S,config:z})).render().el},getOffset:function(){var n=this.offset(this.getFrameEl()),m=this.offset(this.getElement());return{top:n.top-m.top,left:n.left-m.left}},offset:function(n){return O.offset(n)},setCustomBadgeLabel:function(n){z.customBadgeLabel=n},getElementPos:function(n,m){return O.getElementPos(n,m)},getElementOffsets:function(n){return O.getElementOffsets(n)},getRect:function(){var n=O.getPosition(),m=n.top,s=n.left;return V(V({},O.getCanvasOffset()),{},{topScroll:m,leftScroll:s})},getTargetToElementDim:function(n,m){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},E=s||{},W=O.getPosition();if(W){var pe=E.elPos||O.getElementPos(m),Ee=s.toRight||0,be=E.targetHeight||n.offsetHeight,de=E.targetWidth||n.offsetWidth,_e=E.event||null,Pe=pe.top-be,He=pe.left;He+=Ee?pe.width:0;var ut=(He=Ee?He-de:He)<W.left?W.left:He,rt=Pe<W.top?W.top:Pe,G={top:rt=rt>pe.top+pe.height?pe.top+pe.height:rt,left:ut,elementTop:pe.top,elementLeft:pe.left,elementWidth:pe.width,elementHeight:pe.height,targetWidth:n.offsetWidth,targetHeight:n.offsetHeight,canvasTop:W.top,canvasLeft:W.left,canvasWidth:W.width,canvasHeight:W.height};return _e&&z.em&&z.em.trigger(_e,G),G}},canvasRectOffset:function(n,m){var s=this,E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},W=function(Ee){var be=Ee.defaultView;return be&&be.frameElement},pe=function(Ee){var be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,de=arguments.length>2?arguments[2]:void 0,_e=s.em.getZoomDecimal(),Pe=be?"top":"left",He=Ee.ownerDocument,ut=E.offset?W(He):{},rt=ut.offsetTop,G=void 0===rt?0:rt,ae=ut.offsetLeft,Oe=void 0===ae?0:ae,ze=He.body||{},qe=ze.scrollTop,Je=void 0===qe?0:qe,ot=ze.scrollLeft,X=void 0===ot?0:ot,ke=be?Je:X,Ae=be?G:Oe;return de[Pe]-(ke-Ae)*_e};return{top:pe(n,1,m),left:pe(n,0,m)}},getTargetToElementFixed:function(n,m){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},E=s.pos||this.getElementPos(n),W=s.canvasOff||this.canvasRectOffset(n,E),pe=m.offsetHeight||0,Ee=m.offsetWidth||0,be=E.left+E.width,de=this.getCanvasView(),_e=de.getPosition(),Pe=de.getFrameOffset(n),He=s.event,ut=-pe,rt=Object(M.isUndefined)(s.left)?E.width-Ee:s.left;rt=E.left<-rt?-E.left:rt;var G=E.height+pe,ae=G<Pe.height;W.top<pe&&(ae?ut+=G:ut=-W.top<E.height?-W.top:E.height);var Oe={top:ut,left:rt=be>_e.width?rt-(be-_e.width):rt,canvasOffsetTop:W.top,canvasOffsetLeft:W.left};return He&&this.em.trigger(He,Oe),Oe},getMouseRelativePos:function(n,m){var s=0,E=0,W=(m||{}).subWinOffset,pe=n.target.ownerDocument,Ee=pe.defaultView||pe.parentWindow,be=Ee.frameElement,de=W?Ee.pageYOffset:0,_e=W?Ee.pageXOffset:0;if(be){var Pe=be.getBoundingClientRect();s=Pe.top||0,E=Pe.left||0}return{y:n.clientY+s-de,x:n.clientX+E-_e}},getMouseRelativeCanvas:function(n,m){var s=this.getZoomDecimal(),E=O.getPosition(m);return{y:n.clientY*s+E.top,x:n.clientX*s+E.left}},hasFocus:function(){return this.getDocument().hasFocus()},isInputFocused:function(){var n=this.getDocument(),m=this.getFrameEl(),s=["body"].concat(ne()(this.getConfig().notTextable)),E=m&&document.activeElement===m?n&&n.activeElement:document.activeElement;return E&&!s.some(function(W){return E.matches(W)})},scrollTo:function(n){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Object(x.getElement)(n),E=s&&Object(x.getViewEl)(s);E&&E.scrollIntoView(m)},startAutoscroll:function(n){var m=n&&n.view||this.em.getCurrentFrame();m&&m.startAutoscroll()},stopAutoscroll:function(n){var m=n&&n.view||this.em.getCurrentFrame();m&&m.stopAutoscroll()},setZoom:function(n){return S.set("zoom",parseFloat(n)),this},getZoom:function(){return parseFloat(S.get("zoom"))},setCoords:function(n,m){return S.set({x:parseFloat(n),y:parseFloat(m)}),this},getCoords:function(){var n=S.attributes;return{x:n.x,y:n.y}},getZoomDecimal:function(){return this.getZoom()/100},getZoomMultiplier:function(){var n=this.getZoomDecimal();return n?1/n:1},toggleFramesEvents:function(n){this.getFramesEl().style.pointerEvents=n?"":"none"},getFrames:function(){return S.get("frames").map(function(n){return n})},addFrame:function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return S.get("frames").add(V({},n),V(V({},m),{},{em:this.em}))},destroy:function(){var n=this;S.stopListening(),O&&O.remove(),[z,S,O].forEach(function(m){return{}}),["em","model","droppable"].forEach(function(m){return n[m]={}})}}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(11),ne=i.n(Z),Y=i(3),U=i.n(Y),M=i(0),x=i(21),c=i(2),h=i.n(c),u={stylePrefix:"sm-",sectors:[],appendTo:"",hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]},p=i(5),f=i.n(p),P=i(6),w=i.n(P),b=i(8),A=i.n(b),R=i(9),_=i.n(R),k=i(4),T=i.n(k),C=i(33),j=function(){return{build:function(J){var $=[];"string"==typeof J&&(J=[J]);for(var V=0,S=J.length;V<S;V++){var O={},z=J[V];switch("border-radius-c"===(O.property=z,z)&&(O.property="border-radius"),z){case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"width":case"max-width":case"min-width":case"height":case"max-height":case"min-height":case"flex-basis":O.fixedValues=["initial","inherit","auto"];break;case"font-size":O.fixedValues=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"];break;case"letter-spacing":case"line-height":O.fixedValues=["normal","initial","inherit"]}switch(z){case"float":case"position":case"text-align":O.type="radio";break;case"display":case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":case"align-self":case"font-family":case"font-weight":case"border-style":case"box-shadow-type":case"background-repeat":case"background-position":case"background-attachment":case"background-size":case"transition-property":case"transition-timing-function":case"cursor":case"overflow":case"overflow-x":case"overflow-y":O.type="select";break;case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"letter-spacing":case"line-height":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-h":case"box-shadow-v":case"box-shadow-blur":case"box-shadow-spread":case"transition-duration":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"order":case"flex-grow":case"flex-shrink":case"flex-basis":O.type="integer";break;case"margin":case"padding":case"border-radius":case"border":case"transform":O.type="composite";break;case"color":case"text-shadow-color":case"background-color":case"border-color":case"box-shadow-color":O.type="color";break;case"text-shadow":case"box-shadow":case"background":case"transition":O.type="stack";break;case"background-image":O.type="file"}switch(z){case"float":case"background-color":case"text-shadow":O.defaults="none";break;case"display":O.defaults="block";break;case"flex-direction":O.defaults="row";break;case"flex-wrap":O.defaults="nowrap";break;case"justify-content":O.defaults="flex-start";break;case"align-items":case"align-content":O.defaults="stretch";break;case"align-self":case"top":case"right":case"bottom":case"left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"background-size":case"cursor":case"flex-basis":O.defaults="auto";break;case"position":O.defaults="static";break;case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"box-shadow-h":case"box-shadow-v":case"box-shadow-spread":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"order":case"flex-grow":O.defaults=0;break;case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":O.defaults="0px";break;case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"flex-shrink":O.defaults=1;break;case"box-shadow-blur":O.defaults="5px";break;case"font-family":O.defaults="Arial, Helvetica, sans-serif";break;case"font-size":case"border-width":O.defaults="medium";break;case"font-weight":O.defaults="400";break;case"letter-spacing":case"line-height":O.defaults="normal";break;case"color":case"text-shadow-color":case"border-color":case"box-shadow-color":O.defaults="black";break;case"text-align":O.defaults="left";break;case"border-style":O.defaults="solid";break;case"box-shadow-type":O.defaults="";break;case"background-repeat":O.defaults="repeat";break;case"background-position":O.defaults="left top";break;case"background-attachment":O.defaults="scroll";break;case"transition-property":O.defaults="width";break;case"transition-duration":O.defaults="2";break;case"transition-timing-function":O.defaults="ease";break;case"overflow":case"overflow-x":case"overflow-y":O.defaults="visible"}switch(z){case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":O.requires={display:["flex"]};break;case"order":case"flex-basis":case"flex-grow":case"flex-shrink":case"align-self":O.requiresParent={display:["flex"]}}switch(z){case"top":case"bottom":case"margin-top":case"margin-bottom":case"padding-top":case"padding-bottom":case"min-height":case"max-height":case"height":O.units=["px","%","vh"];break;case"right":case"left":case"margin-right":case"margin-left":case"padding-right":case"padding-left":case"min-width":case"max-width":case"width":O.units=["px","%","vw"];break;case"flex-basis":O.units=["px","%","vw","vh"];break;case"text-shadow-v":case"text-shadow-h":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"box-shadow-h":case"box-shadow-v":O.units=["px","%"];break;case"font-size":case"letter-spacing":case"line-height":O.units=["px","em","rem","%"];break;case"border-width":O.units=["px","em"];break;case"box-shadow-blur":case"box-shadow-spread":case"perspective":O.units=["px"];break;case"transition-duration":O.units=["s"];break;case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":O.units=["deg"]}switch(z){case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-blur":case"transition-duration":case"perspective":case"flex-basis":O.min=0}switch(z){case"text-shadow":case"box-shadow":case"background":O.preview=!0}switch("background"===z&&(O.detached=!0),z){case"transform-rotate-x":O.functionName="rotateX";break;case"transform-rotate-y":O.functionName="rotateY";break;case"transform-rotate-z":O.functionName="rotateZ";break;case"transform-scale-x":O.functionName="scaleX";break;case"transform-scale-y":O.functionName="scaleY";break;case"transform-scale-z":O.functionName="scaleZ";break;case"background-image":O.functionName="url"}switch(z){case"float":O.list=[{value:"none"},{value:"left"},{value:"right"}];break;case"display":O.list=[{value:"block"},{value:"inline"},{value:"inline-block"},{value:"flex"},{value:"none"}];break;case"flex-direction":O.list=[{value:"row"},{value:"row-reverse"},{value:"column"},{value:"column-reverse"}];break;case"flex-wrap":O.list=[{value:"nowrap"},{value:"wrap"},{value:"wrap-reverse"}];break;case"justify-content":O.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"space-evenly"}];break;case"align-items":O.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"align-content":O.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"stretch"}];break;case"align-self":O.list=[{value:"auto"},{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"position":O.list=[{value:"static"},{value:"relative"},{value:"absolute"},{value:"fixed"}];break;case"font-family":var n=", sans-serif",m=["Arial, Helvetica"+n,"Arial Black, Gadget"+n,"Brush Script MT"+n,"Comic Sans MS, cursive"+n,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+n,"Impact, Charcoal"+n,"Lucida Sans Unicode, Lucida Grande"+n,"Tahoma, Geneva"+n,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+n,"Verdana, Geneva"+n];O.list=[];for(var s=0,E=m.length;s<E;s++){var W={};W.value=m[s],W.name=m[s].split(",")[0],O.list.push(W)}break;case"font-weight":O.list=[{value:"100",name:"Thin"},{value:"200",name:"Extra-Light"},{value:"300",name:"Light"},{value:"400",name:"Normal"},{value:"500",name:"Medium"},{value:"600",name:"Semi-Bold"},{value:"700",name:"Bold"},{value:"800",name:"Extra-Bold"},{value:"900",name:"Ultra-Bold"}];break;case"text-align":O.list=[{value:"left"},{value:"center"},{value:"right"},{value:"justify"}];break;case"border-style":O.list=[{value:"none"},{value:"solid"},{value:"dotted"},{value:"dashed"},{value:"double"},{value:"groove"},{value:"ridge"},{value:"inset"},{value:"outset"}];break;case"box-shadow-type":O.list=[{value:"",name:"Outside"},{value:"inset",name:"Inside"}];break;case"background-repeat":O.list=[{value:"repeat"},{value:"repeat-x"},{value:"repeat-y"},{value:"no-repeat"}];break;case"background-position":O.list=[{value:"left top"},{value:"left center"},{value:"left bottom"},{value:"right top"},{value:"right center"},{value:"right bottom"},{value:"center top"},{value:"center center"},{value:"center bottom"}];break;case"background-attachment":O.list=[{value:"scroll"},{value:"fixed"},{value:"local"}];break;case"background-size":O.list=[{value:"auto"},{value:"cover"},{value:"contain"}];break;case"transition-property":O.list=[{value:"all"},{value:"width"},{value:"height"},{value:"background-color"},{value:"transform"},{value:"box-shadow"},{value:"opacity"}];break;case"transition-timing-function":O.list=[{value:"linear"},{value:"ease"},{value:"ease-in"},{value:"ease-out"},{value:"ease-in-out"}];break;case"cursor":O.list=[{value:"auto"},{value:"pointer"},{value:"copy"},{value:"crosshair"},{value:"grab"},{value:"grabbing"},{value:"help"},{value:"move"},{value:"text"}];break;case"overflow":case"overflow-x":case"overflow-y":O.list=[{value:"visible"},{value:"hidden"},{value:"scroll"},{value:"auto"}]}switch(z){case"margin":O.properties=this.build(["margin-top","margin-right","margin-bottom","margin-left"]);break;case"padding":O.properties=this.build(["padding-top","padding-right","padding-bottom","padding-left"]);break;case"text-shadow":O.properties=this.build(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"]);break;case"border":O.properties=this.build(["border-width","border-style","border-color"]);break;case"border-radius":O.properties=this.build(["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"]);break;case"box-shadow":O.properties=this.build(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"]);break;case"background":O.properties=this.build(["background-image","background-repeat","background-position","background-attachment","background-size"]);break;case"transition":O.properties=this.build(["transition-property","transition-duration","transition-timing-function"]);break;case"transform":O.properties=this.build(["transform-rotate-x","transform-rotate-y","transform-rotate-z","transform-scale-x","transform-scale-y","transform-scale-z"])}$.push(O)}return $}}},H=function(J){A()(V,J);var $=function N(J){var $=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(V){return!1}}();return function(){var V,S=T()(J);if($){var O=T()(this).constructor;V=Reflect.construct(S,arguments,O)}else V=S.apply(this,arguments);return _()(this,V)}}(V);function V(){return f()(this,V),$.apply(this,arguments)}return w()(V,[{key:"defaults",value:function(){return{id:"",name:"",open:!0,buildProps:"",extendBuilded:1,properties:[]}}},{key:"initialize",value:function(S){var m,z=this.buildProperties((S||{}).buildProps),n=this.get("name")||"";!this.get("id")&&this.set("id",n.replace(/ /g,"_").toLowerCase()),m=z?this.extendProperties(z):this.get("properties");var s=new C.default(m);s.sector=this,this.set("properties",s)}},{key:"getId",value:function(){return this.get("id")}},{key:"getName",value:function(){return this.get("name")}},{key:"setName",value:function(S){return this.set("name",S)}},{key:"isOpen",value:function(){return!!this.get("open")}},{key:"setOpen",value:function(S){return this.set("open",S)}},{key:"getProperties",value:function(){var S=this.get("properties");return S.models?ne()(S.models):S}},{key:"extendProperties",value:function(S,O,z){for(var n=S.length,m=O||this.get("properties"),s=this.get("extendBuilded"),E=[],W=0,pe=m.length;W<pe;W++){for(var Ee=m[W],be=0,de=0;de<n;de++){var _e=S[de];if(Ee.property==_e.property||Ee.id==_e.property){var Pe=Ee.properties;Pe&&Pe.length&&(Ee.properties=this.extendProperties(_e.properties||[],Pe,1)),S[de]=s?Object(M.extend)(_e,Ee):Ee,E[de]=S[de],be=1}}be||(S.push(Ee),E.push(Ee))}return z?E.filter(function(He){return He}):S}},{key:"buildProperties",value:function(S){var O=S||[];if(O.length)return this.propFactory||(this.propFactory=new j),this.propFactory.build(O)}}]),V}(c.Model),d=function(J){A()(V,J);var $=function v(J){var $=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(V){return!1}}();return function(){var V,S=T()(J);if($){var O=T()(this).constructor;V=Reflect.construct(S,arguments,O)}else V=S.apply(this,arguments);return _()(this,V)}}(V);function V(){return f()(this,V),$.apply(this,arguments)}return w()(V,[{key:"initialize",value:function(){this.listenTo(this,"reset",this.onReset)}},{key:"onReset",value:function(S){var O=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},z=O.previousModels||[];z.forEach(function(n){return n.get("properties").reset()})}}]),V}(c.Collection);d.prototype.model=H;var l,y=i(1),g=i(13),L=i(19),K=i.n(L),ee=i(17),De=i(28),ce=function(J){A()(V,J);var $=function fe(J){var $=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(V){return!1}}();return function(){var V,S=T()(J);if($){var O=T()(this).constructor;V=Reflect.construct(S,arguments,O)}else V=S.apply(this,arguments);return _()(this,V)}}(V);function V(){return f()(this,V),$.apply(this,arguments)}return w()(V,[{key:"template",value:function(S){var O=S.pfx,z=S.label;return Object(ee.a)(l||(l=K()(['\n      <div class="','title" data-sector-title>\n        <i id="','caret" class="fa"></i>\n        ',"\n      </div>\n    "])),O,O,z)}},{key:"events",value:function(){return{"click [data-sector-title]":"toggle"}}},{key:"initialize",value:function(S){this.config=S.config||{},this.em=this.config.em,this.pfx=this.config.stylePrefix||"",this.target=S.target||{},this.propTarget=S.propTarget||{},this.caretR="fa-caret-right",this.caretD="fa-caret-down";var O=this.model;this.listenTo(O,"change:open",this.updateOpen),this.listenTo(O,"updateVisibility",this.updateVisibility),this.listenTo(O,"destroy remove",this.remove)}},{key:"updateVisibility",value:function(){var S;this.model.get("properties").each(function(O){O.get("visible")&&(S=1)}),this.el.style.display=S?"":"none"}},{key:"updateOpen",value:function(){this.model.get("open")?this.show():this.hide()}},{key:"show",value:function(){this.$el.addClass(this.pfx+"open"),this.getPropertiesEl().style.display="",this.$caret.removeClass(this.caretR).addClass(this.caretD)}},{key:"hide",value:function(){this.$el.removeClass(this.pfx+"open"),this.getPropertiesEl().style.display="none",this.$caret.removeClass(this.caretD).addClass(this.caretR)}},{key:"getPropertiesEl",value:function(){return this.$el.find(".".concat(this.pfx,"properties")).get(0)}},{key:"toggle",value:function(S){var O=this.model,z=O.get("open")?0:1;O.set("open",z)}},{key:"render",value:function(){var S=this.pfx,z=this.em,n=this.$el,m=this.model.attributes,s=m.id,E=m.name,W=z&&z.t("styleManager.sectors.".concat(s))||E;return n.html(this.template({pfx:S,label:W})),this.$caret=n.find("#".concat(S,"caret")),this.renderProperties(),n.attr("class","".concat(S,"sector ").concat(S,"sector__").concat(s," no-select")),this.updateOpen(),this}},{key:"renderProperties",value:function(){var O=this.target,z=this.propTarget,n=this.config,m=this.model.get("properties");if(m){var s=new De.default({collection:m,target:O,propTarget:z,config:n});this.$el.append(s.render().el)}}}]),V}(c.View);function Ce(J,$){var V=Object.keys(J);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(J);$&&(S=S.filter(function(O){return Object.getOwnPropertyDescriptor(J,O).enumerable})),V.push.apply(V,S)}return V}function Se(J){for(var $=1;$<arguments.length;$++){var V=null!=arguments[$]?arguments[$]:{};$%2?Ce(Object(V),!0).forEach(function(S){U()(J,S,V[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(V)):Ce(Object(V)).forEach(function(S){Object.defineProperty(J,S,Object.getOwnPropertyDescriptor(V,S))})}return J}var se="hc-state",ue=h.a.View.extend({initialize:function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},$=J.config||{};this.pfx=$.stylePrefix||"",this.ppfx=$.pStylePrefix||"",this.target=J.target||{},this.config=$;var V={};Object(M.extend)(V,h.a.Events);var S=document.body,O=document.createElement("el-".concat((new Date).getTime()));S.appendChild(O),V.computedDefault=Se({},window.getComputedStyle(O)),S.removeChild(O),this.propTarget=V;var z=this.collection,n="component:toggled component:update:classes change:state change:device frame:resized";this.listenTo(z,"add",this.addTo),this.listenTo(z,"reset",this.render),this.listenTo(this.target,n,this.targetUpdated)},remove:function(){var J=this;h.a.View.prototype.remove.apply(this,arguments),["target","config","propTarget"].forEach(function($){return J[$]={}})},addTo:function(J,$){var V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.addToCollection(J,null,V)},toggleStateCls:function(){var J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],$=arguments.length>1?arguments[1]:void 0;J.forEach(function(V){var S=V.getEl();S&&S.classList&&S.classList[$?"add":"remove"](se)})},targetUpdated:function(J){var $=this.target,V=this.propTarget,S=$.getSelectedAll(),O=$.getSelected(),z=J&&J.toHTML?J:O;if(z&&this.toggleStateCls([z]),O){var n=$.get("Config").devicePreviewMode?"":$.get("state"),m=$.get("SelectorManager").getConfig().componentFirst,s=O.getEl();if(V.helper=null,V.targets=null,s&&Object(y.isTaggableNode)(s)){var E=n?":".concat(n):null;V.computed=window.getComputedStyle(s,E)}var W=$.get("StyleManager"),pe=W.getModelToStyle(O);n&&(function(){var Ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},be=$.get("CssComposer"),de=be.getAll(),_e=be.getClassRule(se);_e?(de.remove(_e),de.add(_e)):_e=be.setClassRule(se),_e.set("important",1),_e.setStyle(Ee),V.helper=_e}(pe.getStyle()),this.toggleStateCls(S,1)),V.model=pe,V.parentRules=W.getParentRules(pe,n),m&&(V.targets=S.map(function(Ee){return W.getModelToStyle(Ee)}).filter(Boolean)),V.trigger("update"),$.trigger("styleManager:update")}},setTarget:function(J){var $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=this.target,S=Object(M.isArray)(J)?J:[J],O=$.targetIsClass,z=$.stylable,n=[];S.forEach(function(s){var E=s;if(Object(M.isString)(s)){var W,pe=V.get("CssComposer").getAll();O&&(W=pe.filter(function(Ee){return Ee.get("selectors").getFullString()===s})[0]),W||(W=pe.filter(function(Ee){return Ee.get("selectorsAdd")===s})[0]),W||(W=pe.add({selectors:[],selectorsAdd:s})),z&&W.set({stylable:z}),E=W}n.push(E)});var m=this.propTarget;return m.targets=n,m.trigger("update",{targets:n}),n},addToCollection:function(J,$){var V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},S=this.pfx,O=this.target,z=this.propTarget,n=this.config,m=this.el,s=$||m,E=new ce({model:J,id:"".concat(S).concat(J.get("id")),name:J.get("name"),properties:J.get("properties"),target:O,propTarget:z,config:n}).render().el;return Object(g.b)(s,E,V.at),E},render:function(){var J=this,$=document.createDocumentFragment(),V=this.$el,S=this.pfx,O=this.ppfx;return V.empty(),this.collection.each(function(z){return J.addToCollection(z,$)}),V.append($),V.addClass("".concat(S,"sectors ").concat(O,"one-bg ").concat(O,"two-color")),this}});function xe(J,$){var V=Object.keys(J);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(J);$&&(S=S.filter(function(O){return Object.getOwnPropertyDescriptor(J,O).enumerable})),V.push.apply(V,S)}return V}function re(J){for(var $=1;$<arguments.length;$++){var V=null!=arguments[$]?arguments[$]:{};$%2?xe(Object(V),!0).forEach(function(S){U()(J,S,V[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(V)):xe(Object(V)).forEach(function(S){Object.defineProperty(J,S,Object.getOwnPropertyDescriptor(V,S))})}return J}oe.default=function(){var J,$,V,S={};return re(re({},x.a),{},{Sector:H,PropertyFactory:{build:function(O){var z=[];"string"==typeof O&&(O=[O]);for(var n=0,m=O.length;n<m;n++){var s={},E=O[n];switch("border-radius-c"===(s.property=E,E)&&(s.property="border-radius"),E){case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"width":case"max-width":case"min-width":case"height":case"max-height":case"min-height":case"flex-basis":s.fixedValues=["initial","inherit","auto"];break;case"font-size":s.fixedValues=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"];break;case"letter-spacing":case"line-height":s.fixedValues=["normal","initial","inherit"]}switch(E){case"float":case"position":case"text-align":s.type="radio";break;case"display":case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":case"align-self":case"font-family":case"font-weight":case"border-style":case"box-shadow-type":case"background-repeat":case"background-position":case"background-attachment":case"background-size":case"transition-property":case"transition-timing-function":case"cursor":case"overflow":case"overflow-x":case"overflow-y":s.type="select";break;case"top":case"right":case"bottom":case"left":case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"letter-spacing":case"line-height":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-h":case"box-shadow-v":case"box-shadow-blur":case"box-shadow-spread":case"transition-duration":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"order":case"flex-grow":case"flex-shrink":case"flex-basis":s.type="integer";break;case"margin":case"padding":case"border-radius":case"border":case"transform":s.type="composite";break;case"color":case"text-shadow-color":case"background-color":case"border-color":case"box-shadow-color":s.type="color";break;case"text-shadow":case"box-shadow":case"background":case"transition":s.type="stack";break;case"background-image":s.type="file"}switch(E){case"float":case"background-color":case"text-shadow":s.defaults="none";break;case"display":s.defaults="block";break;case"flex-direction":s.defaults="row";break;case"flex-wrap":s.defaults="nowrap";break;case"justify-content":s.defaults="flex-start";break;case"align-items":case"align-content":s.defaults="stretch";break;case"align-self":case"top":case"right":case"bottom":case"left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"background-size":case"cursor":case"flex-basis":s.defaults="auto";break;case"position":s.defaults="static";break;case"margin-top":case"margin-right":case"margin-bottom":case"margin-left":case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"text-shadow-h":case"text-shadow-v":case"text-shadow-blur":case"border-radius-c":case"box-shadow-h":case"box-shadow-v":case"box-shadow-spread":case"perspective":case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":case"order":case"flex-grow":s.defaults=0;break;case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":s.defaults="0px";break;case"transform-scale-x":case"transform-scale-y":case"transform-scale-z":case"flex-shrink":s.defaults=1;break;case"box-shadow-blur":s.defaults="5px";break;case"font-family":s.defaults="Arial, Helvetica, sans-serif";break;case"font-size":case"border-width":s.defaults="medium";break;case"font-weight":s.defaults="400";break;case"letter-spacing":case"line-height":s.defaults="normal";break;case"color":case"text-shadow-color":case"border-color":case"box-shadow-color":s.defaults="black";break;case"text-align":s.defaults="left";break;case"border-style":s.defaults="solid";break;case"box-shadow-type":s.defaults="";break;case"background-repeat":s.defaults="repeat";break;case"background-position":s.defaults="left top";break;case"background-attachment":s.defaults="scroll";break;case"transition-property":s.defaults="width";break;case"transition-duration":s.defaults="2";break;case"transition-timing-function":s.defaults="ease";break;case"overflow":case"overflow-x":case"overflow-y":s.defaults="visible"}switch(E){case"flex-direction":case"flex-wrap":case"justify-content":case"align-items":case"align-content":s.requires={display:["flex"]};break;case"order":case"flex-basis":case"flex-grow":case"flex-shrink":case"align-self":s.requiresParent={display:["flex"]}}switch(E){case"top":case"bottom":case"margin-top":case"margin-bottom":case"padding-top":case"padding-bottom":case"min-height":case"max-height":case"height":s.units=["px","%","vh"];break;case"right":case"left":case"margin-right":case"margin-left":case"padding-right":case"padding-left":case"min-width":case"max-width":case"width":s.units=["px","%","vw"];break;case"flex-basis":s.units=["px","%","vw","vh"];break;case"text-shadow-v":case"text-shadow-h":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"box-shadow-h":case"box-shadow-v":s.units=["px","%"];break;case"font-size":case"letter-spacing":case"line-height":s.units=["px","em","rem","%"];break;case"border-width":s.units=["px","em"];break;case"box-shadow-blur":case"box-shadow-spread":case"perspective":s.units=["px"];break;case"transition-duration":s.units=["s"];break;case"transform-rotate-x":case"transform-rotate-y":case"transform-rotate-z":s.units=["deg"]}switch(E){case"padding-top":case"padding-right":case"padding-bottom":case"padding-left":case"min-height":case"min-width":case"max-height":case"max-width":case"width":case"height":case"font-size":case"text-shadow-blur":case"border-radius-c":case"border-top-left-radius":case"border-top-right-radius":case"border-bottom-left-radius":case"border-bottom-right-radius":case"border-width":case"box-shadow-blur":case"transition-duration":case"perspective":case"flex-basis":s.min=0}switch(E){case"text-shadow":case"box-shadow":case"background":s.preview=!0}switch("background"===E&&(s.detached=!0),E){case"transform-rotate-x":s.functionName="rotateX";break;case"transform-rotate-y":s.functionName="rotateY";break;case"transform-rotate-z":s.functionName="rotateZ";break;case"transform-scale-x":s.functionName="scaleX";break;case"transform-scale-y":s.functionName="scaleY";break;case"transform-scale-z":s.functionName="scaleZ";break;case"background-image":s.functionName="url"}switch(E){case"float":s.list=[{value:"none"},{value:"left"},{value:"right"}];break;case"display":s.list=[{value:"block"},{value:"inline"},{value:"inline-block"},{value:"flex"},{value:"none"}];break;case"flex-direction":s.list=[{value:"row"},{value:"row-reverse"},{value:"column"},{value:"column-reverse"}];break;case"flex-wrap":s.list=[{value:"nowrap"},{value:"wrap"},{value:"wrap-reverse"}];break;case"justify-content":s.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"space-evenly"}];break;case"align-items":s.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"align-content":s.list=[{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"space-between"},{value:"space-around"},{value:"stretch"}];break;case"align-self":s.list=[{value:"auto"},{value:"flex-start"},{value:"flex-end"},{value:"center"},{value:"baseline"},{value:"stretch"}];break;case"position":s.list=[{value:"static"},{value:"relative"},{value:"absolute"},{value:"fixed"}];break;case"font-family":var W=", sans-serif",pe=["Arial, Helvetica"+W,"Arial Black, Gadget"+W,"Brush Script MT"+W,"Comic Sans MS, cursive"+W,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+W,"Impact, Charcoal"+W,"Lucida Sans Unicode, Lucida Grande"+W,"Tahoma, Geneva"+W,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+W,"Verdana, Geneva"+W];s.list=[];for(var Ee=0,be=pe.length;Ee<be;Ee++){var de={};de.value=pe[Ee],de.name=pe[Ee].split(",")[0],s.list.push(de)}break;case"font-weight":s.list=[{value:"100",name:"Thin"},{value:"200",name:"Extra-Light"},{value:"300",name:"Light"},{value:"400",name:"Normal"},{value:"500",name:"Medium"},{value:"600",name:"Semi-Bold"},{value:"700",name:"Bold"},{value:"800",name:"Extra-Bold"},{value:"900",name:"Ultra-Bold"}];break;case"text-align":s.list=[{value:"left"},{value:"center"},{value:"right"},{value:"justify"}];break;case"border-style":s.list=[{value:"none"},{value:"solid"},{value:"dotted"},{value:"dashed"},{value:"double"},{value:"groove"},{value:"ridge"},{value:"inset"},{value:"outset"}];break;case"box-shadow-type":s.list=[{value:"",name:"Outside"},{value:"inset",name:"Inside"}];break;case"background-repeat":s.list=[{value:"repeat"},{value:"repeat-x"},{value:"repeat-y"},{value:"no-repeat"}];break;case"background-position":s.list=[{value:"left top"},{value:"left center"},{value:"left bottom"},{value:"right top"},{value:"right center"},{value:"right bottom"},{value:"center top"},{value:"center center"},{value:"center bottom"}];break;case"background-attachment":s.list=[{value:"scroll"},{value:"fixed"},{value:"local"}];break;case"background-size":s.list=[{value:"auto"},{value:"cover"},{value:"contain"}];break;case"transition-property":s.list=[{value:"all"},{value:"width"},{value:"height"},{value:"background-color"},{value:"transform"},{value:"box-shadow"},{value:"opacity"}];break;case"transition-timing-function":s.list=[{value:"linear"},{value:"ease"},{value:"ease-in"},{value:"ease-out"},{value:"ease-in-out"}];break;case"cursor":s.list=[{value:"auto"},{value:"pointer"},{value:"copy"},{value:"crosshair"},{value:"grab"},{value:"grabbing"},{value:"help"},{value:"move"},{value:"text"}];break;case"overflow":case"overflow-x":case"overflow-y":s.list=[{value:"visible"},{value:"hidden"},{value:"scroll"},{value:"auto"}]}switch(E){case"margin":s.properties=this.build(["margin-top","margin-right","margin-bottom","margin-left"]);break;case"padding":s.properties=this.build(["padding-top","padding-right","padding-bottom","padding-left"]);break;case"text-shadow":s.properties=this.build(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"]);break;case"border":s.properties=this.build(["border-width","border-style","border-color"]);break;case"border-radius":s.properties=this.build(["border-top-left-radius","border-top-right-radius","border-bottom-right-radius","border-bottom-left-radius"]);break;case"box-shadow":s.properties=this.build(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"]);break;case"background":s.properties=this.build(["background-image","background-repeat","background-position","background-attachment","background-size"]);break;case"transition":s.properties=this.build(["transition-property","transition-duration","transition-timing-function"]);break;case"transform":s.properties=this.build(["transform-rotate-x","transform-rotate-y","transform-rotate-z","transform-scale-x","transform-scale-y","transform-scale-z"])}z.push(s)}return z}},name:"StyleManager",getConfig:function(){return S},init:function(O){var z=this,n=(S=re(re({},u),O)).pStylePrefix,m=S.em;return this.em=m,n&&(S.stylePrefix=n+S.stylePrefix),J=new C.default,$=new d([],S),this.model=new c.Model({targets:[]}),m.on("component:toggled component:update:classes change:state change:device frame:resized selector:type",Object(M.debounce)(function(){z.select(m.getSelectedAll()),m.trigger("style:custom")})),this},onLoad:function(){$.add(S.sectors,{silent:!0})},postRender:function(){var O=this.getConfig().appendTo;if(O){var z=Object(M.isElement)(O)?O:document.querySelector(O);if(!z)return this.__logWarn('"appendTo" element not found');z.appendChild(this.render())}},addSector:function(O,z){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},m=this.getSector(O);return m||(z.id=O,m=$.add(z,n)),m},getSector:function(O){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=$.where({id:O})[0];return!n&&z.warn&&this._logNoSector(O),n||null},removeSector:function(O){return this.getSectors().remove(this.getSector(O,{warn:1}))},getSectors:function(){var O=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return $&&$.models?O.array?ne()($.models):$:[]},addProperty:function(O,z){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},m=this.getSector(O,{warn:1}),s=null;return m&&(s=m.get("properties").add(z,n)),s},getProperty:function(O,z){var n,m=this.getSector(O,{warn:1});return m&&(n=m.get("properties").filter(function(s){return s.get("property")===z||s.get("id")===z})[0]),n||null},removeProperty:function(O,z){var n=this.getProperties(O);return n&&n.remove(this.getProperty(O,z))},getProperties:function(O){var z=null,n=this.getSector(O,{warn:1});return n&&(z=n.get("properties")),z},getModelToStyle:function(O){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=S.em,m=z.skipAdd,s=O.get("classes"),E=O.getId();if(n&&s){var W,pe=n.getConfig(),Ee=n.get("UndoManager"),be=n.get("CssComposer"),de=n.get("SelectorManager"),_e=de?de.getConfig():{},Pe=pe.devicePreviewMode?"":n.get("state"),He=s.getStyleable(),ut=He.length,rt=!_e.componentFirst||z.useClasses,G={noCount:1},ae={state:Pe,addOpts:G};if(Ee.stop(),ut&&rt){var Oe=n.getCurrentMedia();(W=be.get(He,Pe,Oe))||m||(W=be.add(He,Pe,Oe,{},G))}else pe.avoidInlineStyle&&(!(W=be.getIdRule(E,ae))&&!m&&(W=be.setIdRule(E,{},ae)),O.is("wrapper")&&W.set("wrapper",1,G));W&&(O=W),Ee.start()}return O},getParentRules:function(O,z){var n=S.em,m=[];if(n&&O){var s=n.get("CssComposer"),E=n.get("CodeManager").getGenerator("css"),W=s.getRules(O.getSelectors().getFullString()).filter(function(pe){return z?pe.get("state")===z:1}).sort(E.sortRules).reverse();m=W.slice(W.indexOf(O)+1)}return m},addType:function(O,z){J.addType(O,z)},getType:function(O){return J.getType(O)},getTypes:function(){return J.getTypes()},createType:function(O){var z=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=z.model,m=void 0===n?{}:n,s=z.view,E=void 0===s?{}:s,W=this.getType(O);if(W)return new W.view(re({model:new W.model(m),config:S},E))},setTarget:function(O,z){return V.setTarget(O,z)},getTargets:function(){var O=(V||{}).propTarget;return O&&O.targets||[]},select:function(O){var z=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},m=this.em,s=Object(M.isArray)(O)?O:[O],E=n.stylable,W=m.get("CssComposer"),pe=[];s.filter(Boolean).forEach(function(de){var _e=de;if(Object(M.isString)(de)){var Pe=W.getRule(de)||W.setRule(de);!Object(M.isUndefined)(E)&&Pe.set({stylable:E}),_e=Pe}pe.push(_e)});var Ee=(pe=pe.map(function(de){return z.getModelToStyle(de)})).slice().reverse()[0],be=this.getParentRules(Ee);return this.model.set({targets:pe,lastTarget:Ee,lastTargetParents:be}),pe},getSelected:function(){return this.model.get("targets")},getLastSelected:function(){return this.model.get("lastTarget")||null},getSelectedParents:function(){return this.model.get("lastTargetParents")||[]},getEmitter:function(){return V.propTarget},render:function(){return(V=new ue({el:V&&V.el,collection:$,target:S.em,config:S})).render().el},_logNoSector:function(O){var z=this.em;z&&z.logWarning("'".concat(O,"' sector not found"))},destroy:function(){[J,$].forEach(function(O){O.reset(),O.stopListening()}),V&&V.remove(),[S,J,$,V].forEach(function(O){return{}}),this.em={}}})}},function($e,oe,i){"use strict";i.r(oe);var Z=i(0),ne={stylePrefix:"cm-",inlineCss:!1},Y=i(3),U=i.n(Y),M=i(5),x=i.n(M),c=i(6),h=i.n(c),u=i(8),p=i.n(u),f=i(9),P=i.n(f),w=i(4),b=i.n(w),A=i(2),R=i.n(A);function _(ce,Ce){var Se=Object.keys(ce);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(ce);Ce&&(se=se.filter(function(ue){return Object.getOwnPropertyDescriptor(ce,ue).enumerable})),Se.push.apply(Se,se)}return Se}function k(ce){for(var Ce=1;Ce<arguments.length;Ce++){var Se=null!=arguments[Ce]?arguments[Ce]:{};Ce%2?_(Object(Se),!0).forEach(function(se){U()(ce,se,Se[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ce,Object.getOwnPropertyDescriptors(Se)):_(Object(Se)).forEach(function(se){Object.defineProperty(ce,se,Object.getOwnPropertyDescriptor(Se,se))})}return ce}var C,j=function(ce){p()(Se,ce);var Ce=function T(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Se){return!1}}();return function(){var Se,se=b()(ce);if(Ce){var ue=b()(this).constructor;Se=Reflect.construct(se,arguments,ue)}else Se=se.apply(this,arguments);return P()(this,Se)}}(Se);function Se(){return x()(this,Se),Ce.apply(this,arguments)}return h()(Se,[{key:"build",value:function(se){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xe=se.components(),re={},J=ue.em;if(ue.cleanId&&J){var $=J.get("CssComposer").getAll(),V=$.toJSON().map(function(S){var O=S.selectors,z=O&&1===O.length&&O.models[0];return z&&z.isId()&&z.get("name")}).filter(function(S){return S});re.attributes=function(S,O){var z=O.id;return z&&"i"===z[0]&&!S.get("script")&&!S.get("attributes").id&&V.indexOf(z)<0&&delete O.id,O}}return ue.exportWrapper?se.toHTML(k(k({},re),ue.wrapperIsBody&&se.is("wrapper")&&{tag:"body"})):this.buildModels(xe,re)}},{key:"buildModels",value:function(se){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xe="";return se.forEach(function(re){return xe+=re.toHTML(ue)}),xe}}]),Se}(A.Model),N=i(39),H=R.a.Model.extend({build:function(ce){var Ce=ce.toJSON();return this.beforeEach(Ce),Object(Z.each)(Ce,function(Se,se){var ue=Ce[se];if(ue instanceof R.a.Model)Ce[se]=this.build(ue);else if(ue instanceof R.a.Collection){var xe=ue;Ce[se]=[],xe.length&&xe.each(function(re,J){Ce[se][J]=this.build(re)},this)}},this),Ce},beforeEach:function(ce){delete ce.status}}),v=R.a.Model.extend({mapModel:function(ce){var Ce="",Se=ce.get("script-export")||ce.get("script"),se=ce.get("type"),ue=ce.get("components"),xe=ce.getId();if(Se){var re=ce.get("attributes");re=Object(Z.extend)({},re,{id:xe}),ce.set("attributes",re,{silent:1});var J=ce.getScriptString(Se),$=ce.get("script-props");if(ce.get("scriptUpdated")&&!$)this.mapJs[se+"-"+xe]={ids:[xe],code:J};else{var V,S=this.mapJs[se];if($&&(V=ce.__getScriptProps()),S)S.ids.push(xe),V&&(S.props[xe]=V);else{var O={ids:[xe],code:J};V&&(O.props=U()({},xe,V)),this.mapJs[se]=O}}}return ue.each(function(z){Ce+=this.mapModel(z)},this),Ce},build:function(ce){this.mapJs={},this.mapModel(ce);var Ce="";for(var Se in this.mapJs){var se=this.mapJs[Se];if(se.props)Ce+="\n          var props = ".concat(JSON.stringify(se.props),";\n          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');\n          var els = document.querySelectorAll(ids);\n          for (var i = 0, len = els.length; i < len; i++) {\n            var el = els[i];\n            (").concat(se.code,".bind(el))(props[el.id]);\n          }");else{var ue="#"+se.ids.join(", #");Ce+="\n          var items = document.querySelectorAll('".concat(ue,"');\n          for (var i = 0, len = items.length; i < len; i++) {\n            (function(){\n").concat(se.code,"\n}.bind(items[i]))();\n          }")}}return Ce}}),d=i(1);function l(ce,Ce){var Se=Object.keys(ce);if(Object.getOwnPropertySymbols){var se=Object.getOwnPropertySymbols(ce);Ce&&(se=se.filter(function(ue){return Object.getOwnPropertyDescriptor(ce,ue).enumerable})),Se.push.apply(Se,se)}return Se}Object(d.hasWin)()&&(C=i(27),i(89),i(51),i(92));var y,g=R.a.Model.extend({CodeMirror:C,defaults:{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0},init:function(ce){return Object(Z.bindAll)(this,"onChange"),this.editor=C.fromTextArea(ce,function(Ce){for(var Se=1;Se<arguments.length;Se++){var se=null!=arguments[Se]?arguments[Se]:{};Se%2?l(Object(se),!0).forEach(function(ue){U()(Ce,ue,se[ue])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Ce,Object.getOwnPropertyDescriptors(se)):l(Object(se)).forEach(function(ue){Object.defineProperty(Ce,ue,Object.getOwnPropertyDescriptor(se,ue))})}return Ce}({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=ce,this.editor.on("change",this.onChange),this},onChange:function(){this.trigger("update",this)},getEditor:function(){return this.editor},getElement:function(){return this.element},setElement:function(ce){return this.element=ce,this},refresh:function(){return this.getEditor().refresh(),this},focus:function(){return this.getEditor().focus(),this},getContent:function(){var ce=this.getEditor();return ce&&ce.getValue()},setContent:function(ce){var Ce=this,Se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},se=this.editor;se&&(se.setValue(ce),se.autoFormatRange&&(C.commands.selectAll(se),se.autoFormatRange(se.getCursor(!0),se.getCursor(!1)),C.commands.goDocStart(se)),!Se.noRefresh&&setTimeout(function(){return Ce.refresh()}))}}),L=i(19),K=i.n(L),ee=i(17),fe=function(ce){p()(Se,ce);var Ce=function De(ce){var Ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Se){return!1}}();return function(){var Se,se=b()(ce);if(Ce){var ue=b()(this).constructor;Se=Reflect.construct(se,arguments,ue)}else Se=se.apply(this,arguments);return P()(this,Se)}}(Se);function Se(){return x()(this,Se),Ce.apply(this,arguments)}return h()(Se,[{key:"template",value:function(se){var ue=se.pfx,xe=se.codeName,re=se.label;return Object(ee.a)(y||(y=K()(['\n      <div class="','editor" id="',"",'">\n        <div id="','title">','</div>\n        <div id="','code"></div>\n      </div>\n    '])),ue,ue,xe,ue,re,ue)}},{key:"initialize",value:function(se){this.config=se.config||{},this.pfx=this.config.stylePrefix}},{key:"render",value:function(){var se=this.model,ue=this.pfx,xe=this.$el,re=se.toJSON();return re.pfx=ue,xe.html(this.template(re)),xe.attr("class","".concat(ue,"editor-c")),xe.find("#".concat(ue,"code")).append(se.get("input")),this}}]),Se}(A.View);oe.default=function(){var ce={},Ce={},Se={},se={},ue={},xe="CodeMirror";return{getConfig:function(){return ce},config:ce,EditorView:fe,name:"CodeManager",init:function(re){for(var J in ce=re||{},ne)J in ce||(ce[J]=ne[J]);var $=ce.pStylePrefix;return $&&(ce.stylePrefix=$+ce.stylePrefix),Se.html=new j,Se.css=new N.a,Se.json=new H,Se.js=new v,ue.CodeMirror=new g,this.loadDefaultGenerators().loadDefaultViewers(),this},addGenerator:function(re,J){return Ce[re]=J,this},getGenerator:function(re){return Ce[re]||null},getGenerators:function(){return Ce},addViewer:function(re,J){return se[re]=J,this},getViewer:function(re){return se[re]||null},getViewers:function(){return se},createViewer:function(){var re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},J=Object(Z.isUndefined)(re.type)?xe:re.type,$=this.getViewer(J)&&this.getViewer(J).clone(),V=document.createElement("div"),S=document.createElement("textarea");return V.appendChild(S),$.set(re),$.init(S),$.setElement(V),$},updateViewer:function(re,J){re.setContent(J)},getCode:function(re,J){var $=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};$.em=ce.em;var V=this.getGenerator(J);return V?V.build(re,$):""},loadDefaultGenerators:function(){for(var re in Se)this.addGenerator(re,Se[re]);return this},loadDefaultViewers:function(){for(var re in ue)this.addViewer(re,ue[re]);return this},destroy:function(){[ce,Ce,Se,se,ue].forEach(function(re){return{}})}}}},function($e,oe,i){"use strict";i.r(oe),i.d(oe,"evAll",function(){return L}),i.d(oe,"evPfx",function(){return K}),i.d(oe,"evSelect",function(){return ee}),i.d(oe,"evSelectBefore",function(){return De}),i.d(oe,"evUpdate",function(){return fe}),i.d(oe,"evAdd",function(){return ce}),i.d(oe,"evAddBefore",function(){return Ce}),i.d(oe,"evRemove",function(){return Se}),i.d(oe,"evRemoveBefore",function(){return se});var Z=i(3),ne=i.n(Z),Y=i(0),U=i(21),M={default:null,devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"768px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]},x=i(5),c=i.n(x),h=i(6),u=i.n(h),p=i(8),f=i.n(p),P=i(9),w=i.n(P),b=i(4),A=i.n(b),R=i(2),k=function(xe){f()(J,xe);var re=function _(xe){var re=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(J){return!1}}();return function(){var J,$=A()(xe);if(re){var V=A()(this).constructor;J=Reflect.construct($,arguments,V)}else J=$.apply(this,arguments);return w()(this,J)}}(J);function J(){return c()(this,J),re.apply(this,arguments)}return u()(J,[{key:"defaults",value:function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}}},{key:"initialize",value:function(){var $=this;null===this.get("widthMedia")&&this.set("widthMedia",this.get("width")),null===this.get("width")&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach(function(V){return $.checkUnit(V)})}},{key:"checkUnit",value:function($){var V=this.get($)||"";(parseFloat(V)||0).toString()===V.toString()&&this.set($,"".concat(V,"px"))}}]),J}(R.Model),C=function(xe){f()(J,xe);var re=function T(xe){var re=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(J){return!1}}();return function(){var J,$=A()(xe);if(re){var V=A()(this).constructor;J=Reflect.construct($,arguments,V)}else J=$.apply(this,arguments);return w()(this,J)}}(J);function J(){return c()(this,J),re.apply(this,arguments)}return u()(J,[{key:"comparator",value:function($,V){var S=Number.MAX_VALUE;return(V.get("priority")||S)-($.get("priority")||S)}},{key:"getSorted",value:function(){return this.sort()}}]),J}(R.Collection);C.prototype.model=k;var j,N=i(19),H=i.n(N),v=i(17),l=function(xe){f()(J,xe);var re=function d(xe){var re=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(J){return!1}}();return function(){var J,$=A()(xe);if(re){var V=A()(this).constructor;J=Reflect.construct($,arguments,V)}else J=$.apply(this,arguments);return w()(this,J)}}(J);function J(){return c()(this,J),re.apply(this,arguments)}return u()(J,[{key:"template",value:function($){var V=$.ppfx,S=$.label;return Object(v.a)(j||(j=H()(['\n      <div class="','device-label">','</div>\n      <div class="',"field ",'select">\n        <span id="','input-holder">\n          <select class="','devices"></select>\n        </span>\n        <div class="','sel-arrow">\n          <div class="','d-s-arrow"></div>\n        </div>\n      </div>\n      <button style="display:none" class="','add-trasp">+</button>\n    '])),V,S,V,V,V,V,V,V,V)}},{key:"events",value:function(){return{change:"updateDevice"}}},{key:"initialize",value:function($){this.config=$.config||{},this.em=this.config.em,this.ppfx=this.config.pStylePrefix||"",this.events["click ."+this.ppfx+"add-trasp"]=this.startAdd,this.listenTo(this.em,"change:device",this.updateSelect),this.delegateEvents()}},{key:"startAdd",value:function(){}},{key:"updateDevice",value:function(){var $=this.em;if($){var V=this.devicesEl,S=V?V.val():"";$.set("device",S)}}},{key:"updateSelect",value:function(){var $=this.em,V=this.devicesEl;if($&&$.getDeviceModel&&V){var S=$.getDeviceModel(),O=S?S.get("id"):"";V.val(O)}}},{key:"getOptions",value:function(){var V=this.em,S="";return this.collection.each(function(O){var z=O.attributes,n=z.name,m=z.id,s=V&&V.t&&V.t("deviceManager.devices.".concat(m))||n;S+='<option value="'.concat(m||n,'">').concat(s,"</option>")}),S}},{key:"render",value:function(){var $=this.em,V=this.ppfx,S=this.$el,O=this.el,z=$&&$.t&&$.t("deviceManager.device");return S.html(this.template({ppfx:V,label:z})),this.devicesEl=S.find(".".concat(V,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val($.get("device")),O.className="".concat(V,"devices-c"),this}}]),J}(R.View);function y(xe,re){var J=Object.keys(xe);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(xe);re&&($=$.filter(function(V){return Object.getOwnPropertyDescriptor(xe,V).enumerable})),J.push.apply(J,$)}return J}function g(xe){for(var re=1;re<arguments.length;re++){var J=null!=arguments[re]?arguments[re]:{};re%2?y(Object(J),!0).forEach(function($){ne()(xe,$,J[$])}):Object.getOwnPropertyDescriptors?Object.defineProperties(xe,Object.getOwnPropertyDescriptors(J)):y(Object(J)).forEach(function($){Object.defineProperty(xe,$,Object.getOwnPropertyDescriptor(J,$))})}return xe}var L="device",K="".concat(L,":"),ee="".concat(K,"select"),De="".concat(ee,":before"),fe="".concat(K,"update"),ce="".concat(K,"add"),Ce="".concat(ce,":before"),Se="".concat(K,"remove"),se="".concat(Se,":before"),ue="change:device";oe.default=function(){var xe,re,J={};return g(g({},U.a),{},{name:"DeviceManager",Device:k,Devices:C,events:{all:L,select:ee,update:fe,add:ce,remove:Se,removeBefore:se},init:function(){var $=this,V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},S=J=g(g({},M),V),O=S.em;return xe=new C,J.devices.forEach(function(z){return $.add(z)}),this.em=O,this.all=xe,this.select(J.default||xe.at(0)),this.__initListen(),O.on(ue,this._onSelect,this),this},_onSelect:function($,V,S){var O=this.em,z=this.events,n=$.previous("device"),m=this.get(V),s=z.select;O.trigger(s,m,this.get(n)),this.__catchAllEvent(s,m,S)},add:function($){var V,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},O=S;if(Object(Y.isString)($)){var z=S;V=g(g({},O=arguments[2]||{}),{},{id:$,name:O.name||$,width:z})}else V=$;return V.id||(V.id=V.name||this._createId()),xe.add(V,O)},get:function($){return this.getAll().filter(function(V){return V.get("name")===$})[0]||xe.get($)||null},remove:function($){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.__remove($,V)},getDevices:function(){return xe.models},select:function($){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},S=Object(Y.isString)($)?this.get($):$;return S&&this.em.set("device",S.get("id"),V),this},getSelected:function(){return this.get(this.em.get("device"))},getAll:function(){return xe},render:function(){return re&&re.remove(),(re=new l({collection:xe,config:J})).render().el},destroy:function(){xe.stopListening(),xe.reset(),re&&re.remove(),[xe,re].forEach(function($){return null}),J={}}})}},function($e,oe,i){"use strict";i.r(oe),i.d(oe,"evAll",function(){return De}),i.d(oe,"evPfx",function(){return fe}),i.d(oe,"evAdd",function(){return ce}),i.d(oe,"evUpdate",function(){return Ce}),i.d(oe,"evRemove",function(){return Se}),i.d(oe,"evRemoveBefore",function(){return se}),i.d(oe,"evCustom",function(){return ue}),i.d(oe,"evState",function(){return xe});var Z=i(11),ne=i.n(Z),Y=i(3),U=i.n(Y),M=i(0),x=i(1),c=i(2),h=i.n(c),u=i(21),p={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],escapeName:0,selectedName:0,iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',render:0,componentFirst:0,custom:!1},f=i(16),P=i(20),w=i(5),b=i.n(w),A=i(6),R=i.n(A),_=i(8),k=i.n(_),T=i(9),C=i.n(T),j=i(4),N=i.n(j),v=function(re){k()($,re);var J=function H(re){var J=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch($){return!1}}();return function(){var $,V=N()(re);if(J){var S=N()(this).constructor;$=Reflect.construct(V,arguments,S)}else $=V.apply(this,arguments);return C()(this,$)}}($);function $(){return b()(this,$),J.apply(this,arguments)}return R()($,[{key:"defaults",value:function(){return{name:"",label:""}}},{key:"getName",value:function(){return this.get("name")}},{key:"getLabel",value:function(){return this.get("label")||this.getName()}}]),$}(c.Model);v.prototype.idAttribute="name";var d="contentEditable",l=h.a.View.extend({template:function(){var re=this.pfx,$=this.config,V=this.model.get("label")||"";return'\n      <span id="'.concat(re,'checkbox" class="').concat(re,'tag-status" data-tag-status></span>\n      <span id="').concat(re,'tag-label" data-tag-name>').concat(V,'</span>\n      <span id="').concat(re,'close" class="').concat(re,'tag-close" data-tag-remove>\n        ').concat($.iconTagRemove,"\n      </span>\n    ")},events:{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"},initialize:function(){var re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},J=re.config||{};this.config=J,this.module=re.module,this.coll=re.coll||null,this.pfx=J.stylePrefix||"",this.ppfx=J.pStylePrefix||"",this.em=J.em,this.listenTo(this.model,"change:active",this.updateStatus)},getInputEl:function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},startEditTag:function(){var re=this.em,J=this.getInputEl();J[d]=!0,J.focus(),re&&re.setEditing(1)},endEditTag:function(){var re=this.model,J=this.getInputEl(),$=J.textContent,V=this.em,S=V&&V.get("SelectorManager");if(J[d]=!1,V&&V.setEditing(0),S){var O=S.escapeName($);S.get(O)?J.innerText=re.get("label"):re.set({name:O,label:$})}},changeStatus:function(){var re=this.model;re.set("active",!re.get("active"))},removeTag:function(){this.module.removeSelected(this.model)},updateStatus:function(){var re=this.model,J=this.$el,$=this.config,V=$.iconTagOn,S=$.iconTagOff,O=J.find("[data-tag-status]");re.get("active")?(O.html(V),J.removeClass("opac50")):(O.html(S),J.addClass("opac50"))},render:function(){var re=this.pfx,J=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(re,"tag ").concat(J,"three-bg")),this.updateStatus(),this}}),y=h.a.View.extend({template:function(re){var J=re.labelInfo,$=re.labelHead,V=re.iconSync,S=re.iconAdd,O=re.pfx,z=re.ppfx;return'\n    <div id="'.concat(O,'up" class="').concat(O,'header">\n      <div id="').concat(O,'label" class="').concat(O,'header-label">').concat($,'</div>\n      <div id="').concat(O,'status-c" class="').concat(O,'header-status">\n        <span id="').concat(O,'input-c" data-states-c>\n          <div class="').concat(z,"field ").concat(z,'select">\n            <span id="').concat(z,'input-holder">\n              <select id="').concat(O,'states" data-states></select>\n            </span>\n            <div class="').concat(z,'sel-arrow">\n              <div class="').concat(z,'d-s-arrow"></div>\n            </div>\n          </div>\n        </span>\n      </div>\n    </div>\n    <div id="').concat(O,'tags-field" class="').concat(z,'field">\n      <div id="').concat(O,'tags-c" data-selectors></div>\n      <input id="').concat(O,'new" data-input/>\n      <span id="').concat(O,'add-tag" class="').concat(O,"tags-btn ").concat(O,'tags-btn__add" data-add>\n        ').concat(S,'\n      </span>\n      <span class="').concat(O,"tags-btn ").concat(O,'tags-btn__sync" style="display: none" data-sync-style>\n        ').concat(V,'\n      </span>\n    </div>\n    <div class="').concat(O,'sels-info">\n      <div class="').concat(O,'label-sel">').concat(J,':</div>\n      <div class="').concat(O,'sels" data-selected></div>\n      <div style="clear:both"></div>\n    </div>')},events:{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"},initialize:function(){var re=this,J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.config=J.config||{},this.pfx=this.config.stylePrefix||"",this.ppfx=this.config.pStylePrefix||"",this.className=this.pfx+"tags",this.stateInputId=this.pfx+"states",this.stateInputC=this.pfx+"input-c",this.states=this.config.states||[];var $=this.config.em,V=this.collection;this.target=this.config.em;var S=J.module;this.module=S,this.em=$;var O="component:toggled component:update:classes",z="component:update:classes change:state";this.listenTo($,O,this.componentChanged),this.listenTo($,"styleManager:update",this.componentChanged),this.listenTo($,z,this.__handleStateChange),this.listenTo($,"styleable:change change:device",this.checkSync),this.listenTo(V,"add",this.addNew),this.listenTo(V,"reset",this.renderClasses),this.listenTo(V,"remove",this.tagRemoved),this.listenTo(S.getAll(),S.events.state,Object(M.debounce)(function(){return re.renderStates()})),this.delegateEvents()},syncStyle:function(){var re,J=this.em,$=this.getTarget(),V=J.get("CssComposer"),S=this.getCommonSelectors({opts:{noDisabled:1}}),O=J.get("state"),z=J.getCurrentMedia(),n=[],m=V.get(S,O,z)||V.add(S,O,z);this.getTargets().forEach(function(s){var E=V.getIdRule(s.getId(),{state:O,mediaText:z});re=E.getStyle(),E.setStyle({}),n.push(E)}),re&&m.addStyle(re),J.trigger("component:toggled"),J.trigger("component:sync-style",{component:$,selectors:S,mediaText:z,rule:m,ruleComponents:n,state:O})},tagRemoved:function(re){this.updateStateVis()},addNew:function(re){this.addToClasses(re)},startNewTag:function(){this.$addBtn.css({display:"none"}),this.$input.show().focus()},endNewTag:function(){this.$addBtn.css({display:""}),this.$input.hide().val("")},onInputKeyUp:function(re){13===re.keyCode?this.addNewTag(this.$input.val()):27===re.keyCode&&this.endNewTag()},checkStates:function(){var re=this.em.getState(),J=this.getStates();J&&J.val(re)},componentChanged:Object(M.debounce)(function(){var re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},J=re.targets;this.updateSelection(J)}),updateSelection:function(re){var J=re||this.getTargets(),$=[];return(J=Object(M.isArray)(J)?J:[J])&&J.length&&($=this.getCommonSelectors({targets:J}),this.checkSync({validSelectors:$})),this.collection.reset($),this.updateStateVis(J),this.module.__trgCustom(),$},getCommonSelectors:function(){var re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},J=re.targets,$=re.opts,V=void 0===$?{}:$,S=J||this.getTargets();return this.module.__getCommonSelectors(S,V)},_commonSelectors:function(){var re;return(re=this.module).__common.apply(re,arguments)},checkSync:Object(M.debounce)(function(){var re,J=this.$btnSyncEl,$=this.config,V=this.collection,S=this.getTarget();if(S&&$.componentFirst&&V.length){var O=S.getStyle();re=!Object(M.isEmpty)(O)}J&&J[re?"show":"hide"]()}),getTarget:function(){return this.target.getSelected()},getTargets:function(){return this.target.getSelectedAll()},updateStateVis:function(re){var J=this.em,$=J&&J.getConfig("avoidInlineStyle"),V=this.collection.length||$?"":"none";this.getStatesC().css("display",V),this.updateSelector(re)},__handleStateChange:function(){this.updateSelector(this.getTargets())},updateSelector:function(re){var J=this,$=this.el.querySelector("[data-selected]"),V=[],S=re||this.getTargets();(S=Object(M.isArray)(S)?S:[S]).forEach(function(O){return V.push(J.__getName(O))}),$&&($.innerHTML=V.join(", ")),this.checkStates()},__getName:function(re){var J,$=this.pfx,V=this.config,S=this.em,O=V.selectedName,z=V.componentFirst;if(Object(M.isString)(re))J='<span class="'.concat($,'sel-gen">').concat(re,"</span>");else{var n=re&&re.get&&re.getSelectors();if(!n)return;var m=n.getStyleable(),s=S.get("state"),E=re.getId?'<span class="'.concat($,'sel-cmp">').concat(re.getName(),'</span><span class="').concat($,'sel-id">#').concat(re.getId(),"</span>"):"";J=(J=this.collection.getFullString(m))?'<span class="'.concat($,'sel-rule">').concat(J,"</span>"):re.get("selectorsAdd")||E,J=z&&E?E:J,J+=s?'<span class="'.concat($,'sel-state">:').concat(s,"</span>"):"",J=O?O({result:J,state:s,target:re}):J}return J&&'<span class="'.concat($,'sel">').concat(J,"</span>")},stateChanged:function(re){this.em.set("state",re.target.value)},addNewTag:function(re){var J=re.trim();J&&(this.module.addSelected({label:J}),this.endNewTag())},addToClasses:function(re){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,$=J,V=this.getClasses(),S=new l({model:re,config:this.config,coll:this.collection,module:this.module}).render().el;return $?$.appendChild(S):V.append(S),S},renderClasses:function(){var re=this,J=document.createDocumentFragment(),$=this.getClasses();$.empty(),this.collection.each(function(V){return re.addToClasses(V,J)}),$.append(J)},getClasses:function(){return this.$el.find("[data-selectors]")},getStates:function(){if(!this.$states){var re=this.$el.find("[data-states]");this.$states=re[0]&&re}return this.$states},getStatesC:function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},renderStates:function(){var re=this.module,J=this.em,$=J.t("selectorManager.emptyState"),V=re.getStates().map(function(O){var z=J.t("selectorManager.states.".concat(O.id))||O.getLabel()||O.id;return'<option value="'.concat(O.id,'">').concat(z,"</option>")}).join(""),S=this.getStates();S&&S.html('<option value="">'.concat($,"</option>").concat(V)),this.checkStates()},render:function(){var re=this.em,J=this.pfx,$=this.ppfx,V=this.config,S=this.$el,O=this.el,z=V.render,n={iconSync:V.iconSync,iconAdd:V.iconAdd,labelHead:re.t("selectorManager.label"),labelInfo:re.t("selectorManager.selected"),ppfx:$,pfx:J,el:O};S.html(this.template(n));var m=z&&z(n);return m&&m!==O&&S.empty().append(m),this.$input=S.find("[data-input]"),this.$addBtn=S.find("[data-add]"),this.$classes=S.find("#"+J+"tags-c"),this.$btnSyncEl=S.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),S.attr("class","".concat(this.className," ").concat($,"one-bg ").concat($,"two-color")),this}});function g(re,J){var $=Object.keys(re);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols(re);J&&(V=V.filter(function(S){return Object.getOwnPropertyDescriptor(re,S).enumerable})),$.push.apply($,V)}return $}function L(re){for(var J=1;J<arguments.length;J++){var $=null!=arguments[J]?arguments[J]:{};J%2?g(Object($),!0).forEach(function(V){U()(re,V,$[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors($)):g(Object($)).forEach(function(V){Object.defineProperty(re,V,Object.getOwnPropertyDescriptor($,V))})}return re}var K=function(re){return Object(M.isString)(re)&&"#"==re[0]},ee=function(re){return Object(M.isString)(re)&&"."==re[0]},De="selector",fe="".concat(De,":"),ce="".concat(fe,"add"),Ce="".concat(fe,"update"),Se="".concat(fe,"remove"),se="".concat(Se,":before"),ue="".concat(fe,"custom"),xe="".concat(fe,"state");oe.default=function(){return L(L({},u.a),{},{name:"SelectorManager",Selector:f.a,Selectors:P.a,events:{all:De,update:Ce,add:ce,remove:Se,removeBefore:se,state:xe,custom:ue},init:function(){var re=this,J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.__initConfig(p,J);var $=this.getConfig(),V=$.em,S=$.pStylePrefix;S&&($.stylePrefix=S+$.stylePrefix),this.all=new P.a($.selectors),this.selected=new P.a([],{em:V,config:$}),this.states=new c.Collection($.states,{model:v}),this.model=new c.Model({cFirst:$.componentFirst,_undo:!0}),this.__initListen({collections:[this.states,this.selected],propagate:[{entity:this.states,event:this.events.state}]}),V.on("change:state",function(z,n){return V.trigger("selector:state",n)}),this.model.on("change:cFirst",function(z,n){return V.trigger("selector:type",n)});var O="component:toggled component:update:classes styleManager:update selector:state selector:type";return this.model.listenTo(V,O,function(){return re.__update()}),this},__update:Object(M.debounce)(function(){this.__trgCustom()}),__trgCustom:function(re){this.em.trigger(this.events.custom,this.__customData(re))},__customData:function(){var re=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},J=re.container;return{states:this.getStates(),selected:this.getSelected(),container:J}},postRender:function(){this.__appendTo(),this.__trgCustom()},select:function(re){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},$=Array.isArray(re)?re:[re],V=this.em.get("StyleManager").setTarget($,J),S=this.selectorTags,O=V.filter(function(z){return z}).map(function(z){return Object(x.isComponent)(z)||Object(x.isRule)(z)&&!z.get("selectorsAdd")?z:z.getSelectorsString()});return S&&S.componentChanged({targets:O}),this},addSelector:function(re){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},$=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},V=L({},J);Object(M.isObject)(re)?V=re:V.name=re,K(V.name)?(V.name=V.name.substr(1),V.type=f.a.TYPE_ID):ee(V.name)&&(V.name=V.name.substr(1)),V.label&&!V.name&&(V.name=this.escapeName(V.label));var S=V.name,O=this.getConfig(),z=this.getAll(),n=S?this.get(S,V.type):z.where(V)[0];return n||z.add(V,L(L({},$),{},{config:O}))},getSelector:function(re){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:f.a.TYPE_CLASS;return K(re)?(re=re.substr(1),J=f.a.TYPE_ID):ee(re)&&(re=re.substr(1)),this.getAll().where({name:re,type:J})[0]},add:function(re){var J=this,$=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},V=Object(M.isString)(re)?{}:$;return Object(M.isArray)(re)?re.map(function(S){return J.addSelector(S,$,V)}):this.addSelector(re,$,V)},addClass:function(re){var J=this,$=[];return Object(M.isString)(re)&&(re=re.trim().split(" ")),re.forEach(function(V){return $.push(J.addSelector(V))}),$},get:function(re,J){var $=this;if(Object(M.isArray)(re)){var V=[];return re.map(function(S){return $.getSelector(S)}).filter(function(S){return S}).forEach(function(S){return V.indexOf(S)<0&&V.push(S)}),V}return this.getSelector(re,J)||null},remove:function(re,J){return this.__remove(re,J)},setState:function(re){return this.em.setState(re),this},getState:function(){return this.em.getState()},getStates:function(){return ne()(this.states.models)},setStates:function(re,J){return this.states.reset(re,J)},getSelected:function(){return this.__getCommon()},addSelected:function(re){var J=this.add(re);this.em.getSelectedAll().forEach(function($){$.getSelectors().add(J)})},removeSelected:function(re){this.em.getSelectedAll().forEach(function(J){!re.get("protected")&&J&&J.getSelectors().remove(re)})},getSelectedTargets:function(){return this.em.get("StyleManager").getSelected()},setComponentFirst:function(re){this.getConfig().componentFirst=re,this.model.set({cFirst:re})},getComponentFirst:function(){return this.getConfig().componentFirst},escapeName:function(re){var J=this.getConfig().escapeName;return J?J(re):f.a.escapeName(re)},render:function(re){var J=this.selectorTags,$=this.getConfig(),V=J&&J.el;return this.selected.reset(re),this.selectorTags=new y({el:V,collection:this.selected,module:this,config:$}),this.selectorTags.render().el},destroy:function(){var re=this.selectorTags;this.model.stopListening(),this.__destroy(),re&&re.remove(),this.selectorTags={}},__getCommon:function(){return this.__getCommonSelectors(this.em.getSelectedAll())},__getCommonSelectors:function(re){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},$=re.map(function(V){return V.getSelectors&&V.getSelectors().getValid(J)}).filter(Boolean);return this.__common.apply(this,ne()($))},__common:function(){for(var re=this,J=arguments.length,$=new Array(J),V=0;V<J;V++)$[V]=arguments[V];return $.length?1===$.length?$[0]:2===$.length?$[0].filter(function(S){return $[1].indexOf(S)>=0}):$.slice(1).reduce(function(S,O){return re.__common(S,O)},$[0]):[]}})}},function($e,oe,i){"use strict";i.r(oe);var Z=i(3),ne=i.n(Z),Y={id:"gjs-",autosave:1,autoload:1,type:"local",stepsBeforeSave:1,storeComponents:1,storeStyles:1,storeHtml:1,storeCss:1,checkLocal:1,params:{},headers:{},urlStore:"",urlLoad:"",beforeSend:function(T,C){},onComplete:function(T,C){},contentTypeJson:!0,credentials:"include",fetchOptions:""},U=i(2),M=i.n(U),x=i(1),c=U.Model.extend({defaults:{checkLocal:!0},store:function(T){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(this.hasLocal())for(var j in T)localStorage.setItem(j,T[j]);C&&C()},load:function(T){var C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},j={};if(this.hasLocal())for(var N=0,H=T.length;N<H;N++){var v=localStorage.getItem(T[N]);v&&(j[T[N]]=v)}return C&&C(j),j},remove:function(T){if(this.hasLocal())for(var C=0,j=T.length;C<j;C++)localStorage.removeItem(T[C])},hasLocal:function(){var T=Object(x.hasWin)();return!!(!this.get("checkLocal")||T&&localStorage)||(T&&console.warn("Your browser doesn't support localStorage"),!1)}}),h=i(37),u=i(0);function p(T,C){var j=Object.keys(T);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(T);C&&(N=N.filter(function(H){return Object.getOwnPropertyDescriptor(T,H).enumerable})),j.push.apply(j,N)}return j}function f(T){for(var C=1;C<arguments.length;C++){var j=null!=arguments[C]?arguments[C]:{};C%2?p(Object(j),!0).forEach(function(N){ne()(T,N,j[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(j)):p(Object(j)).forEach(function(N){Object.defineProperty(T,N,Object.getOwnPropertyDescriptor(j,N))})}return T}var P=M.a.Model.extend({fetch:h.a,defaults:{urlStore:"",urlLoad:"",params:{},beforeSend:function(){},onComplete:function(){},contentTypeJson:!1,credentials:"include",fetchOptions:""},onStart:function(){this.get("em");var T=this.get("beforeSend");T&&T()},onError:function(T,C){if(C)C(T);else{var j=this.get("em");console.error(T),j&&j.trigger("storage:error",T)}},onResponse:function(T,C){var j=this.get("em"),N=this.get("onComplete"),H=this.get("contentTypeJson")&&T&&"string"==typeof T?JSON.parse(T):T;N&&N(H),C&&C(H),j&&j.trigger("storage:response",H)},store:function(T,C,j){var N={};for(var H in T)N[H]=T[H];this.request(this.get("urlStore"),{body:N},C,j)},load:function(T,C,j){this.request(this.get("urlLoad"),{method:"get"},C,j)},request:function(T){var C,j,N=this,H=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,l=this.get("contentTypeJson"),y=this.get("headers")||{},g=this.get("params"),L="X-Requested-With",K="Content-Type",ee=H.body||{};for(var De in g)ee[De]=g[De];if(Object(u.isUndefined)(y[L])&&(y[L]="XMLHttpRequest"),Object(u.isUndefined)(y[K])&&l&&(y[K]="application/json; charset=utf-8"),l)j=JSON.stringify(ee);else for(var fe in j=new FormData,ee)j.append(fe,ee[fe]);"post"===(C={method:H.method||"post",credentials:this.get("credentials"),headers:y}).method&&(C.body=j);var ce=this.get("fetchOptions")||{},Ce=Object(u.isFunction)(ce)?ce(C):C;this.onStart(),this.fetch(T,f(f({},C),Ce||{})).then(function(Se){return 1==(Se.status/200|0)?Se.text():Se.text().then(function(se){return Promise.reject(se)})}).then(function(Se){return N.onResponse(Se,v)}).catch(function(Se){return N.onError(Se,d)})}});function w(T,C){var j=Object.keys(T);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(T);C&&(N=N.filter(function(H){return Object.getOwnPropertyDescriptor(T,H).enumerable})),j.push.apply(j,N)}return j}function b(T){for(var C=1;C<arguments.length;C++){var j=null!=arguments[C]?arguments[C]:{};C%2?w(Object(j),!0).forEach(function(N){ne()(T,N,j[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(j)):w(Object(j)).forEach(function(N){Object.defineProperty(T,N,Object.getOwnPropertyDescriptor(j,N))})}return T}var A="storage:start",R="storage:after",_="storage:end",k="storage:error";oe.default=function(){var T,C={},j={},N={};return{name:"StorageManager",init:function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return C=b(b({},Y),H),T=C.em,C._disable&&(C.type=0),N.remote=new P(C),N.local=new c(C),C.currentStorage=C.type,this.loadDefaultProviders().setCurrent(C.type),this},getConfig:function(){return C},isAutosave:function(){return!!C.autosave},setAutosave:function(H){return C.autosave=!!H,this},getStepsBeforeSave:function(){return C.stepsBeforeSave},setStepsBeforeSave:function(H){return C.stepsBeforeSave=H,this},add:function(H,v){return j[H]=v,this},get:function(H){return j[H]||null},getStorages:function(){return j},getCurrent:function(){return C.currentStorage},setCurrent:function(H){return C.currentStorage=H,this},store:function(H,v){var d=this,l=this.get(this.getCurrent()),y={};for(var g in this.onStart("store",H),H)y[C.id+g]=H[g];return l?l.store(y,function(L){d.onAfter("store",L),v&&v(L),d.onEnd("store",L)},function(L){d.onError("store",L)}):null},load:function(H,v){var d=this,l=this.get(this.getCurrent()),y=[],g={};"string"==typeof H&&(H=[H]),this.onStart("load",H);for(var L=0,K=H.length;L<K;L++)y.push(C.id+H[L]);l?l.load(y,function(ee){g=d.__clearKeys(ee),d.onAfter("load",g),v&&v(g),d.onEnd("load",g)},function(ee){v&&v(g),d.onError("load",ee)}):v&&v(g)},__clearKeys:function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},v={},d=new RegExp("^"+C.id);for(var l in H){var y=l.replace(d,"");v[y]=H[l]}return v},loadDefaultProviders:function(){for(var H in N)this.add(H,N[H]);return this},getCurrentStorage:function(){return this.get(this.getCurrent())},onStart:function(H,v){T&&(T.trigger(A),H&&T.trigger("".concat(A,":").concat(H),v))},onAfter:function(H,v){T&&(T.trigger(R),H&&T.trigger("".concat(R,":").concat(H),v))},onEnd:function(H,v){T&&(T.trigger(_),H&&T.trigger("".concat(_,":").concat(H),v))},onError:function(H,v){T&&(T.trigger(k,v),H&&T.trigger("".concat(k,":").concat(H),v),this.onEnd(H,v))},canAutoload:function(){return this.getCurrentStorage()&&this.getConfig().autoload},destroy:function(){[C,T,j,N].forEach(function(H){return{}})}}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(3),ne=i.n(Z),Y={textTags:["br","b","i","u","a","ul","ol"],parserCss:null,parserHtml:null,htmlType:null},U=i(0),M={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},x=Object(U.keys)(M),c=["5","6","11","15"],h=["font-face","page","counter-style","viewport"],u=function(){for(var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",T=[],C=[],j=k.split(","),N=0,H=j.length;N<H;N++){var v=j[N].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(v)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(v)){var d=v.split(".").filter(Boolean);C.push(d)}else T.push(v)}return{result:C,add:T}},p=function(k){for(var T=k.style,C={},j=0,N=T.length;j<N;j++){var H=T[j],v=T.getPropertyValue(H),d=T.getPropertyPriority(H);C[H]="".concat(v).concat(d?" !".concat(d):"")}return C},f=function(k){return(k.conditionText||k.media&&k.media.mediaText||k.name||k.selectorText||"").trim()},P=function(k){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},j={},N=k.length,H=k[N-1],v=H?H.split(/:(.+)/):[],d=v[1],l=C.atRule,y=C.selectorsAdd,g=C.mediaText,L=h.indexOf(l)>=0;return L&&(j.singleAtRule=1),l&&(j.atRuleType=l),y&&(j.selectorsAdd=y),g&&(j.mediaText=g),d&&(k[N-1]=v[0],j.state=d,v.splice(v.length-1,1)),j.selectors=k,j.style=T,j},w=function(k){var T=document.createElement("style");T.innerHTML=k,document.head.appendChild(T);var C=T.sheet;return document.head.removeChild(T),function j(N){for(var H=[],v=N.cssRules||[],d=0,l=v.length;d<l;d++){var y=v[d],g=y.type.toString(),L=0,K="",ee="",De=y.selectorText||y.keyText,fe=c.indexOf(g)>=0;if(fe)L=1,K=M[g],ee=f(y);else if(x.indexOf(g)>=0){var ce=j(y);ee=f(y);for(var Ce=0,Se=ce.length;Ce<Se;Ce++){var se=ce[Ce];ee&&(se.mediaText=ee),se.atRuleType=M[g]}H=H.concat(ce)}if(De||fe){for(var ue=p(y),xe=u(De),re=xe.add,J=void 0,$=0,V=(De=xe.result).length;$<V;$++){var S=P(De[$],ue,{atRule:M[g]});H.push(S),J=S}if(re.length){var O=re.join(", ");if(J)J.selectorsAdd=O;else{var z={selectors:[],selectorsAdd:O,style:ue};L&&(z.singleAtRule=L),K&&(z.atRuleType=K),ee&&(z.mediaText=ee),H.push(z)}}}}return H}(C)},b=function(){var k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{parse:function(T){var C=this,j=[],N=k.parserCss,H=k.em,v=H&&H.get&&H.get("Editor");return(N?N(T,v):w(T)).forEach(function(d){return j=j.concat(C.checkNode(d))}),H&&H.trigger("parse:css",{input:T,output:j}),j},checkNode:function(T){var j=T.selectors,N=T.style;if(Object(U.isString)(j)){var H=[],v=u(j),d=v.result,l=v.add.join(", "),y={atRule:T.atRule,mediaText:T.params};d.length?d.forEach(function(g){H.push(P(g,N,y))}):H.push(P([],N,y)),l&&(H[H.length-1].selectorsAdd=l),T=H}return T}}},A=i(44);function R(k,T){var C=Object.keys(k);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(k);T&&(j=j.filter(function(N){return Object.getOwnPropertyDescriptor(k,N).enumerable})),C.push.apply(C,j)}return C}function _(k){for(var T=1;T<arguments.length;T++){var C=null!=arguments[T]?arguments[T]:{};T%2?R(Object(C),!0).forEach(function(j){ne()(k,j,C[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(k,Object.getOwnPropertyDescriptors(C)):R(Object(C)).forEach(function(j){Object.defineProperty(k,j,Object.getOwnPropertyDescriptor(C,j))})}return k}oe.default=function(){var k,T,C={};return{compTypes:"",parserCss:null,parserHtml:null,name:"Parser",init:function(){var j=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(C=_(_({},Y),j)).Parser=this,k=new A.a(C),T=new b(C),this.em=C.em,this.parserCss=T,this.parserHtml=k,this},getConfig:function(){return C},parseHtml:function(j){var N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},H=this.em,v=this.compTypes;return k.compTypes=H?H.get("DomComponents").getTypes():v,k.parse(j,T,N)},parseCss:function(j){return T.parse(j)},destroy:function(){var j=this;[C,k,T].forEach(function(N){return{}}),["em","parserCss","parserHtml"].forEach(function(N){return j[N]={}})}}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(3),ne=i.n(Z),Y=i(0),U=i(13),M={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}},x=i(5),c=i.n(x),h=i(6),u=i.n(h),p=i(8),f=i.n(p),P=i(9),w=i.n(P),b=i(4),A=i.n(b),R=i(2),k=function(d){f()(y,d);var l=function _(d){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,g=A()(d);if(l){var L=A()(this).constructor;y=Reflect.construct(g,arguments,L)}else y=g.apply(this,arguments);return w()(this,y)}}(y);function y(){return c()(this,y),l.apply(this,arguments)}return u()(y,[{key:"defaults",value:function(){return{title:"",content:"",attributes:{},open:!1}}},{key:"open",value:function(){this.set("open",!0)}},{key:"close",value:function(){this.set("open",!1)}}]),y}(R.Model);function T(d,l){var y=Object.keys(d);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(d);l&&(g=g.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),y.push.apply(y,g)}return y}function C(d){for(var l=1;l<arguments.length;l++){var y=null!=arguments[l]?arguments[l]:{};l%2?T(Object(y),!0).forEach(function(g){ne()(d,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(y)):T(Object(y)).forEach(function(g){Object.defineProperty(d,g,Object.getOwnPropertyDescriptor(y,g))})}return d}var N=function(d){f()(y,d);var l=function j(d){var l=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(y){return!1}}();return function(){var y,g=A()(d);if(l){var L=A()(this).constructor;y=Reflect.construct(g,arguments,L)}else y=g.apply(this,arguments);return w()(this,y)}}(y);function y(){return c()(this,y),l.apply(this,arguments)}return u()(y,[{key:"template",value:function(g){var L=g.pfx,K=g.ppfx,ee=g.content,De=g.title;return'<div class="'.concat(L,"dialog ").concat(K,"one-bg ").concat(K,'two-color">\n      <div class="').concat(L,'header">\n        <div class="').concat(L,'title">').concat(De,'</div>\n        <div class="').concat(L,'btn-close" data-close-modal>&Cross;</div>\n      </div>\n      <div class="').concat(L,'content">\n        <div id="').concat(L,'c">').concat(ee,'</div>\n        <div style="clear:both"></div>\n      </div>\n    </div>\n    <div class="').concat(L,'collector" style="display: none"></div>')}},{key:"events",value:function(){return{click:"onClick","click [data-close-modal]":"hide"}}},{key:"initialize",value:function(g){var L=this.model,K=g.config||{},ee=K.stylePrefix||"";this.config=K,this.pfx=ee,this.ppfx=K.pStylePrefix||"",this.listenTo(L,"change:open",this.updateOpen),this.listenTo(L,"change:title",this.updateTitle),this.listenTo(L,"change:content",this.updateContent)}},{key:"onClick",value:function(g){this.config.backdrop&&g.target===this.el&&this.hide()}},{key:"getCollector",value:function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector}},{key:"getContent",value:function(){var g=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(g,"content #").concat(g,"c"))),this.$content}},{key:"getTitle",value:function(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),g.$?this.$title:this.$title.get(0)}},{key:"updateContent",value:function(){var g=this.getContent(),L=g.children(),K=this.getCollector(),ee=this.model.get("content");L.length&&K.append(L),g.empty().append(ee)}},{key:"updateTitle",value:function(){var g=this.getTitle({$:!0});g&&g.empty().append(this.model.get("title"))}},{key:"updateOpen",value:function(){this.el.style.display=this.model.get("open")?"":"none"}},{key:"hide",value:function(){this.model.close()}},{key:"show",value:function(){this.model.open()}},{key:"updateAttr",value:function(g){var L=this.pfx,K=this.$el,De=[].slice.call(this.el.attributes).map(function(fe){return fe.name});K.removeAttr(De.join(" ")),K.attr(C(C({},g||{}),{},{class:"".concat(L,"container ").concat(g&&g.class||"").trim()}))}},{key:"render",value:function(){var g=this.$el,L=this.model.toJSON();return L.pfx=this.pfx,L.ppfx=this.ppfx,g.html(this.template(L)),this.updateAttr(),this.updateOpen(),this}}]),y}(R.View);function H(d,l){var y=Object.keys(d);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(d);l&&(g=g.filter(function(L){return Object.getOwnPropertyDescriptor(d,L).enumerable})),y.push.apply(y,g)}return y}function v(d){for(var l=1;l<arguments.length;l++){var y=null!=arguments[l]?arguments[l]:{};l%2?H(Object(y),!0).forEach(function(g){ne()(d,g,y[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(y)):H(Object(y)).forEach(function(g){Object.defineProperty(d,g,Object.getOwnPropertyDescriptor(y,g))})}return d}oe.default=function(){var d,l,y={},g=function(L,K){K&&K.trigger("modal:".concat(L?"open":"close"))};return{name:"Modal",getConfig:function(){return y},init:function(){var L=this,K=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ee=(y=v(v({},M),K)).em;this.em=ee;var De=y.pStylePrefix;return De&&(y.stylePrefix=De+y.stylePrefix),(d=new k(y)).on("change:open",function(fe,ce){return g(ce,ee)}),d.on("change",Object(Y.debounce)(function(){var fe=L._evData(),ce=L.getConfig().custom;Object(Y.isFunction)(ce)&&ce(fe),ee.trigger("modal",fe)})),this},_evData:function(){var L=this,K=this.getTitle(),ee=this.getContent(),De=d.attributes;return{open:De.open,attributes:De.attributes,title:Object(Y.isString)(K)?Object(U.g)(K):K,content:Object(Y.isString)(ee)?Object(U.g)(ee):ee.get?ee.get(0):ee,close:function(){return L.close()}}},postRender:function(L){var K=L.model.getConfig().el||L.el,ee=this.render();ee&&ee.appendTo(K)},open:function(){var L=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},K=L.attributes||{};return L.title&&this.setTitle(L.title),L.content&&this.setContent(L.content),d.set("attributes",K),d.open(),l&&l.updateAttr(K),this},close:function(){return d.close(),this},onceClose:function(L){return this.em.once("modal:close",L),this},onceOpen:function(L){return this.em.once("modal:open",L),this},isOpen:function(){return!!d.get("open")},setTitle:function(L){return d.set("title",L),this},getTitle:function(){return d.get("title")},setContent:function(L){return d.set("content"," "),d.set("content",L),this},getContent:function(){return d.get("content")},getContentEl:function(){return l.getContent().get(0)},getModel:function(){return d},render:function(){if(!this.getConfig().custom){var L=N.extend(y.extend);return(l=new L({el:l&&l.el,model:d,config:y})).render().$el}},destroy:function(){l&&l.remove(),[y,d,l].forEach(function(L){return{}}),this.em={}}}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(11),ne=i.n(Z),Y=i(3),U=i.n(Y),M=i(0),x=i(1),c={stylePrefix:"css-",rules:[]},h=i(5),u=i.n(h),p=i(6),f=i.n(p),P=i(8),w=i.n(P),b=i(9),A=i.n(b),R=i(4),_=i.n(R),k=i(2),T=i.n(k),C=i(32),j=i(20);function N(fe,ce){var Ce=Object.keys(fe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(fe);ce&&(Se=Se.filter(function(se){return Object.getOwnPropertyDescriptor(fe,se).enumerable})),Ce.push.apply(Ce,Se)}return Ce}function H(fe){for(var ce=1;ce<arguments.length;ce++){var Ce=null!=arguments[ce]?arguments[ce]:{};ce%2?N(Object(Ce),!0).forEach(function(Se){U()(fe,Se,Ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(Ce)):N(Object(Ce)).forEach(function(Se){Object.defineProperty(fe,Se,Object.getOwnPropertyDescriptor(Ce,Se))})}return fe}var d=(Object(x.hasWin)()?window:{}).CSS,l=function(fe){w()(Ce,fe);var ce=function v(fe){var ce=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(Ce){return!1}}();return function(){var Ce,Se=_()(fe);if(ce){var se=_()(this).constructor;Ce=Reflect.construct(Se,arguments,se)}else Ce=Se.apply(this,arguments);return A()(this,Ce)}}(Ce);function Ce(){return u()(this,Ce),ce.apply(this,arguments)}return f()(Ce,[{key:"defaults",value:function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",_undo:!0}}},{key:"initialize",value:function(Se){var se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.config=Se||{},this.opt=se,this.em=se.em,this.ensureSelectors(),this.on("change",this.__onChange)}},{key:"__onChange",value:function(Se,se){var ue=this.em,xe=this.changedAttributes();!Object(x.isEmptyObj)(xe)&&ue&&ue.changesUp(se)}},{key:"clone",value:function(){var Se=H({},this.opt),se=H({},this.attributes);return se.selectors=this.get("selectors").map(function(ue){return ue.clone()}),new this.constructor(se,Se)}},{key:"ensureSelectors",value:function(Se,se,ue){var xe=this.em,re=xe&&xe.get("SelectorManager"),J=[this,"change:selectors",this.ensureSelectors],$=this.getSelectors();if(this.stopListening.apply(this,J),$.models&&($=ne()($.models)),$=Object(M.isString)($)?[$]:$,Array.isArray($)){var V=$.filter(function(S){return S}).map(function(S){return re?re.add(S):S});$=new j.a(V)}this.set("selectors",$,ue),this.listenTo.apply(this,J)}},{key:"getAtRule",value:function(){var Se=this.get("atRuleType"),se=this.get("mediaText"),ue=Se?"@".concat(Se):se?"@media":"";return ue+(se&&ue?" ".concat(se):"")}},{key:"selectorsToString",value:function(){var Se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},se=[],ue=this.get("state"),xe=this.get("wrapper"),re=this.get("selectorsAdd"),J=xe&&Se.body,$={escape:function(O){return d&&d.escape?d.escape(O):O}},V=J?"body":this.get("selectors").getFullString(0,$),S=ue&&!Se.skipState?":".concat(ue):"";return V&&se.push("".concat(V).concat(S)),re&&!Se.skipAdd&&se.push(re),se.join(", ")}},{key:"getDeclaration",value:function(){var Se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},se="",ue=this.selectorsToString(Se),xe=this.styleToString(Se),re=this.get("singleAtRule");return(ue||re)&&xe&&(se=re?xe:"".concat(ue,"{").concat(xe,"}")),se}},{key:"toCSS",value:function(){var Se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},se="",ue=this.getAtRule(),xe=this.getDeclaration(Se);return xe&&(se=xe),ue&&se&&(se="".concat(ue,"{").concat(se,"}")),se}},{key:"toJSON",value:function(){for(var Se=arguments.length,se=new Array(Se),ue=0;ue<Se;ue++)se[ue]=arguments[ue];var xe=k.Model.prototype.toJSON.apply(this,se);if(this.em.getConfig("avoidDefaults")){var re=this.defaults();Object(M.forEach)(re,function(J,$){xe[$]===J&&delete xe[$]}),Object(M.isEmpty)(xe.selectors)&&delete xe.selectors,Object(M.isEmpty)(xe.style)&&delete xe.style}return xe}},{key:"compare",value:function(Se,se,ue){var xe=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},re=se||"",J=ue||"",$=xe.selectorsAdd||"",V=xe.atRuleType||"",S=Object(M.isArray)(Se)||Se.models?Se.models||Se:[Se];J&&!V&&(V="media");var O=S.map(function(s){return s.getFullName()}),z=this.get("selectors").map(function(s){return s.getFullName()}),n=O.slice().sort(),m=z.slice().sort();return!(O.length!==z.length||!n.every(function(s,E){return s===m[E]}))&&this.get("state")===re&&this.get("mediaText")===J&&this.get("selectorsAdd")===$&&this.get("atRuleType")===V}}]),Ce}(k.Model.extend(C.a)),y=T.a.Collection,g=y.extend({model:l,initialize:function(fe,ce){var Ce=this;ce&&ce.em&&(this.editor=ce.em),setTimeout(function(){Ce.on("remove",Ce.onRemove),Ce.on("add",Ce.onAdd)})},toJSON:function(fe){return y.prototype.toJSON.call(this,fe).filter(function(ce){return ce.style})},onAdd:function(fe,ce,Ce){fe.ensureSelectors(fe,ce,Ce)},onRemove:function(fe){var ce=this.editor;ce.stopListening(fe),ce.get("UndoManager").remove(fe)},add:function(fe){var ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof fe&&(fe=this.editor.get("Parser").parseCss(fe)),ce.em=this.editor,y.prototype.add.apply(this,[fe,ce])}}),L=i(43),K=i(16);function ee(fe,ce){var Ce=Object.keys(fe);if(Object.getOwnPropertySymbols){var Se=Object.getOwnPropertySymbols(fe);ce&&(Se=Se.filter(function(se){return Object.getOwnPropertyDescriptor(fe,se).enumerable})),Ce.push.apply(Ce,Se)}return Ce}function De(fe){for(var ce=1;ce<arguments.length;ce++){var Ce=null!=arguments[ce]?arguments[ce]:{};ce%2?ee(Object(Ce),!0).forEach(function(Se){U()(fe,Se,Ce[Se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(Ce)):ee(Object(Ce)).forEach(function(Se){Object.defineProperty(fe,Se,Object.getOwnPropertyDescriptor(Ce,Se))})}return fe}oe.default=function(){var fe,ce,Ce,Se={};return{Selectors:j.a,name:"CssComposer",getConfig:function(){return Se},storageKey:function(){var se=[],ue=Se.stm&&Se.stm.getConfig()||{};return ue.storeCss&&se.push("css"),ue.storeStyles&&se.push("styles"),se},init:function(se){for(var ue in Se=se||{},c)ue in Se||(Se[ue]=c[ue]);var xe=Se.pStylePrefix;return xe&&(Se.stylePrefix=xe+Se.stylePrefix),Se.rules=Se.em&&Se.em.config.style||Se.rules,fe=Se.em,ce=new g([],Se),this},onLoad:function(){ce.add(Se.rules,{silent:1})},postLoad:function(){var se=fe&&fe.get("UndoManager");se&&se.add(this.getAll())},load:function(se){var ue=se||"";!ue&&Se.stm&&(ue=Se.em.getCacheLoad());var xe=ue.styles||"";if(ue.styles)try{xe=JSON.parse(ue.styles)}catch(re){}else ue.css&&(xe=Se.em.get("Parser").parseCss(ue.css));return Object(M.isArray)(xe)?xe.length&&ce.reset(xe):xe&&ce.reset(xe),xe},store:function(se){if(Se.stm){var ue={},xe=this.storageKey(),re=fe&&fe.get("hasPages");return xe.indexOf("css")>=0&&!re&&(ue.css=Se.em.getCss()),xe.indexOf("styles")>=0&&(ue.styles=JSON.stringify(ce)),se||Se.stm.store(ue),ue}},add:function(se,ue,xe){var re=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},J=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},$=ue||"",V=xe||"",S=De({},re),O=this.get(se,$,V,S);return O&&O.config&&!O.config.singleAtRule||(S.state=$,S.mediaText=V,S.selectors=[],V&&(S.atRuleType="media"),(O=new l(S,Se)).get("selectors").add(se,J),ce.add(O,J)),O},get:function(se,ue,xe,re){var J=se;if(Object(M.isString)(se)){var $=fe.get("SelectorManager"),V=se.split(",")[0].trim(),S=fe.get("Parser").parserCss.checkNode({selectors:V})[0];J=$.get(S.selectors)}return ce.find(function(O){return O.compare(J,ue,xe,re)})||null},getAll:function(){return ce},addCollection:function(se){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},re=[];Object(M.isString)(se)&&(se=fe.get("Parser").parseCss(se));for(var J=se instanceof Array?se:[se],$=0,V=J.length;$<V;$++){var S=J[$]||{};if(S.selectors){var O=Se.em&&Se.em.get("SelectorManager");O||console.warn("Selector Manager not found");for(var z=S.selectors,n=z instanceof Array?z:[z],m=[],s=0,E=n.length;s<E;s++){var W=O.add(n[s]);m.push(W)}var pe=this.get(m,S.state,S.mediaText,S),Ee=this.add(m,S.state,S.mediaText,S,ue),be=!pe||!ue.avoidUpdateStyle,de=S.style||{};if(Object(x.isObject)(xe)&&Ee.set(xe,ue),be){var _e=ue.extend?De(De({},Ee.get("style")),de):de;Ee.set("style",_e,ue)}re.push(Ee)}}return re},addRules:function(se){return this.addCollection(se)},setRule:function(se,ue){var xe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},re=xe.atRuleType,J=xe.atRuleParams,$=fe.get("Parser").parserCss.checkNode({selectors:se,style:ue})[0],V=$.state,S=$.selectorsAdd,O=fe.get("SelectorManager"),z=O.add($.selectors),n=this.add(z,V,J,{selectorsAdd:S,atRule:re});return n.setStyle(ue,xe),n},getRule:function(se){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xe=fe.get("SelectorManager"),re=fe.get("Parser").parserCss.checkNode({selectors:se})[0],J=xe.get(re.selectors),$=re.state,V=re.selectorsAdd,S=ue.atRuleType,O=ue.atRuleParams;return J&&this.get(J,$,O,{selectorsAdd:V,atRule:S})},getRules:function(se){var ue=this.getAll();return se?ue.filter(function(xe){return xe.getSelectors().getFullString()===se}):ne()(ue.models)},setIdRule:function(se){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},re=xe.addOpts,J=void 0===re?{}:re,$=xe.mediaText,V=xe.state||"",S=Object(M.isUndefined)($)?fe.getCurrentMedia():$,O=fe.get("SelectorManager"),z=O.add({name:se,type:K.a.TYPE_ID},J),n=this.add(z,V,S,{},J);return n.setStyle(ue,De(De({},xe),J)),n},getIdRule:function(se){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xe=ue.mediaText,re=ue.state||"",J=Object(M.isUndefined)(xe)?fe.getCurrentMedia():xe,$=fe.get("SelectorManager").get(se,K.a.TYPE_ID);return $&&this.get($,re,J)},setClassRule:function(se){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xe=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},re=xe.state||"",J=xe.mediaText||fe.getCurrentMedia(),$=fe.get("SelectorManager"),V=$.add({name:se,type:K.a.TYPE_CLASS}),S=this.add(V,re,J);return S.setStyle(ue,xe),S},getClassRule:function(se){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xe=ue.state||"",re=ue.mediaText||fe.getCurrentMedia(),J=fe.get("SelectorManager").get(se,K.a.TYPE_CLASS);return J&&this.get(J,xe,re)},remove:function(se){var ue=Object(M.isString)(se)?this.getRules(se):se,xe=this.getAll().remove(ue);return Object(M.isArray)(xe)?xe:[xe]},clear:function(){var se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.getAll().reset(null,se),this},getComponentRules:function(se){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},xe=ue.state,re=ue.mediaText,J=ue.current;J&&(xe=fe.get("state")||"",re=fe.getCurrentMedia());var $=se.getId(),V=this.getAll().filter(function(S){if((Object(M.isUndefined)(xe)||S.get("state")===xe)&&(Object(M.isUndefined)(re)||S.get("mediaText")===re))return S.getSelectorsString()==="#".concat($)});return V},render:function(){return Ce&&Ce.remove(),(Ce=new L.a({collection:ce,config:Se})).render().el},destroy:function(){ce.reset(),ce.stopListening(),Ce&&Ce.remove(),[fe,ce,Ce].forEach(function(se){return null}),Se={}}}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(3),ne=i.n(Z),Y=i(24),U=i(2),M=i.n(U),x=i(0),c=i(1);function h(v,d){var l=Object.keys(v);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(v);d&&(y=y.filter(function(g){return Object.getOwnPropertyDescriptor(v,g).enumerable})),l.push.apply(l,y)}return l}function u(v){for(var d=1;d<arguments.length;d++){var l=null!=arguments[d]?arguments[d]:{};d%2?h(Object(l),!0).forEach(function(y){ne()(v,y,l[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(l)):h(Object(l)).forEach(function(y){Object.defineProperty(v,y,Object.getOwnPropertyDescriptor(l,y))})}return v}var p=M.a.$,f=M.a.View.extend({initialize:function(v){this.opt=v||{},Object(x.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var d=v||{};this.elT=0,this.elL=0,this.borderOffset=d.borderOffset||10;var l=d.container;this.el="string"==typeof l?document.querySelector(l):l,this.$el=p(this.el),this.containerSel=d.containerSel||"div",this.itemSel=d.itemSel||"div",this.draggable=d.draggable||!0,this.nested=d.nested||0,this.pfx=d.pfx||"",this.ppfx=d.ppfx||"",this.freezeClass=d.freezeClass||this.pfx+"freezed",this.onStart=d.onStart||"",this.onEndMove=d.onEndMove||"",this.customTarget=d.customTarget,this.onEnd=d.onEnd,this.direction=d.direction||"v",this.onMoveClb=d.onMove||"",this.relative=d.relative||0,this.ignoreViewChildren=d.ignoreViewChildren||0,this.ignoreModels=d.ignoreModels||0,this.plh=d.placer||"",this.wmargin=d.wmargin||0,this.offTop=d.offsetTop||0,this.offLeft=d.offsetLeft||0,this.document=d.document||document,this.$document=p(this.document),this.dropContent=null,this.em=d.em||"",this.dragHelper=null,this.canvasRelative=d.canvasRelative||0,this.selectOnEnd=!d.avoidSelectOnEnd,this.scale=d.scale,this.activeTextModel=null,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},getScale:function(){return Object(x.result)(this,scale)||1},getContainerEl:function(v){if(v&&(this.el=v),!this.el){var d=this.opt.container;this.el="string"==typeof d?document.querySelector(d):d,this.$el=p(this.el)}return this.el},getDocuments:function(v){var d=this.em,l=v?v.ownerDocument:d&&d.get("Canvas").getBody().ownerDocument,y=[document];return l&&y.push(l),y},updateOffset:function(){var v=this.em.get("canvasOffset")||{};this.offTop=v.top,this.offLeft=v.left},setDropContent:function(v){this.dropModel=null,this.dropContent=v},updateTextViewCursorPosition:function(v){var d=this.em.get("Canvas"),l=d.getDocument(),y=null;if(l.caretRangeFromPoint){var g=Object(c.getPointerEvent)(v);y=l.caretRangeFromPoint(g.clientX,g.clientY)}else v.rangeParent&&(y=l.createRange()).setStart(v.rangeParent,v.rangeOffset);var L=d.getWindow().getSelection();d.getFrameEl().focus(),L.removeAllRanges(),y&&L.addRange(y)},setContentEditable:function(v,d){if(v){var l=v.getEl();l.contentEditable!=d&&(l.contentEditable=d)}},toggleSortCursor:function(v){var d=this.em,l=d&&d.get("Canvas");l&&(v?l.startAutoscroll():l.stopAutoscroll())},setDragHelper:function(v,d){for(var l=d||"",y=v.cloneNode(1),g=v.getBoundingClientRect(),L=getComputedStyle(v),K="",ee=0;ee<L.length;ee++){var De=L[ee];K+="".concat(De,":").concat(L.getPropertyValue(De),";")}document.body.appendChild(y),y.className+=" ".concat(this.pfx,"bdrag"),y.setAttribute("style",K),this.dragHelper=y,y.style.width="".concat(g.width,"px"),y.style.height="".concat(g.height,"px"),l&&this.moveDragHelper(l),this.em&&p(this.em.get("Canvas").getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),p(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},moveDragHelper:function(v){var d=v.target.ownerDocument;if(this.dragHelper&&d){var l=v.pageY,y=v.pageX,g=0,L=0,K=(d.defaultView||d.parentWindow).frameElement,ee=this.dragHelper.style;if(K){var De=K.getBoundingClientRect();g=De.top+document.documentElement.scrollTop,L=De.left+document.documentElement.scrollLeft,l=v.clientY,y=v.clientX}ee.top=l+g+"px",ee.left=y+L+"px"}},matches:function(v,d,l){return c.matches.call(v,d)},closest:function(v,d){if(v){for(var l=v.parentNode;l&&1===l.nodeType;){if(this.matches(l,d))return l;l=l.parentNode}return null}},offset:function(v){var d=v.getBoundingClientRect();return{top:d.top+document.body.scrollTop,left:d.left+document.body.scrollLeft}},createPlaceholder:function(){var v=this.pfx,d=document.createElement("div"),l=document.createElement("div");return d.className=v+"placeholder",d.style.display="none",d.style["pointer-events"]="none",l.className=v+"placeholder-int",d.appendChild(l),d},startSort:function(v){var d,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=this.em,g=this.itemSel,L=this.containerSel,K=this.getContainerEl(l.container),ee=this.getDocuments(v),De=this.onStart,fe=this.plh;this.dropModel=null,this.target=null,this.prevTarget=null,this.moved=0,v&&!this.matches(v,"".concat(g,", ").concat(L))&&(v=this.closest(v,g)),this.eV=v,fe||(fe=this.createPlaceholder(),K.appendChild(fe),this.plh=fe),v&&((d=this.getSourceModel(v))&&d.set&&d.set("status","freezed"),this.srcModel=d),Object(c.on)(K,"mousemove dragover",this.onMove),Object(c.on)(ee,"mouseup dragend touchend",this.endMove),Object(c.on)(ee,"keydown",this.rollback),De&&De({sorter:this,target:d,parent:d&&d.parent(),index:d&&d.index()}),y&&y.clearSelection(),this.toggleSortCursor(1),y&&y.trigger("sorter:drag:start",v,d)},getTargetModel:function(v){return p(v||this.target).data("model")},getSourceModel:function(v){var d=this,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=l.target,g=l.avoidChildren,L=void 0===g?1:g,K=this.em,ee=this.eV,De=v||ee,fe=this.dropModel,ce=this.dropContent,Ce=function(xe){return xe&&y&&xe.opt&&xe.opt.avoidChildren&&d.isTextableActive(xe,y)};if(ce&&K){if(Ce(fe)&&(fe=null),!fe){var Se=K.get("DomComponents").getComponents(),se={avoidChildren:L,avoidStore:1,avoidUpdateStyle:1},ue=Se.add(ce,u(u({},se),{},{temporary:1}));if(fe=(fe=Se.remove(ue,se))instanceof Array?fe[0]:fe,this.dropModel=fe,Ce(fe))return this.getSourceModel(De,{target:y,avoidChildren:0})}return fe}return De&&p(De).data("model")},selectTargetModel:function(v,d){if(!(v instanceof M.a.Collection||d&&d===v)){var l=this.targetModel;l&&l!==this.srcModel&&l.set("status",""),v&&v.set&&(v.set("status","selected-parent"),this.targetModel=v)}},onMove:function(v){var d=v,l=this.em,y=this.onMoveClb,g=this.plh,L=this.customTarget;this.moved=1;var K=g.style.display;K&&"none"!==K||(g.style.display="block");var ee=this.offset(this.el);this.elT=this.wmargin?Math.abs(ee.top):ee.top,this.elL=this.wmargin?Math.abs(ee.left):ee.left;var De=v.pageY-this.elT+this.el.scrollTop,fe=v.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&l){var ce=l.get("Canvas").getMouseRelativeCanvas(v,{noScroll:1});fe=ce.x,De=ce.y}this.rX=fe,this.rY=De,this.eventMove=v;var Ce=this.getSourceModel(),Se=L?L({sorter:this,event:v}):v.target,se=this.dimsFromTarget(Se,fe,De),ue=this.target,xe=ue&&this.getTargetModel(ue);if(this.selectTargetModel(xe,Ce),xe||(g.style.display="none"),ue){this.lastDims=se;var re=this.findPosition(se,fe,De);this.isTextableActive(Ce,xe)?(this.activeTextModel=xe,this.setContentEditable(xe,!0),g.style.display="none",this.lastPos=re,this.updateTextViewCursorPosition(d)):(this.disableTextable(),this.activeTextModel=null,this.lastPos&&this.lastPos.index==re.index&&this.lastPos.method==re.method||(this.movePlaceholder(this.plh,se,re,this.prevTargetDim),this.$plh||(this.$plh=p(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=re)),Object(x.isFunction)(y)&&y({event:v,target:Ce,parent:xe,index:re.index+("after"==re.method?1:0)}),l&&l.trigger("sorter:drag",{target:ue,targetModel:xe,sourceModel:Ce,dims:se,pos:re,x:fe,y:De})}},isTextableActive:function(v,d){return v&&v.get&&v.get("textable")&&d&&d.is("text")},disableTextable:function(){var v=this.activeTextModel;v&&v.getView().disableEditing()},isInFlow:function(v,d){return!!v&&(d=d||document.body,!!this.styleInFlow(v,d))},styleInFlow:function(v,d){if(!Object(c.isTextNode)(v)){var l=v.style||{},y=p(v),g=d&&p(d);if(!l.overflow||"visible"===l.overflow){var L=y.css("float");if(!(L&&"none"!==L||g&&"flex"==g.css("display")&&"column"!==g.css("flex-direction"))){switch(l.position){case"static":case"relative":case"":break;default:return}switch(v.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(y.css("display")){case"block":case"list-item":case"table":case"flex":return!0}}}}},validTarget:function(v,d){var l=this.getTargetModel(v),y=this.getSourceModel(d,{target:l}),g={valid:!0,src:d=y&&y.view&&y.view.el,srcModel:y,trg:v=l&&l.view&&l.view.el,trgModel:l};if(!d||!v)return g.valid=!1,g;var L=y.get("draggable");L=L instanceof Array?L.join(", "):L,g.dragInfo=L,L=Object(x.isString)(L)?this.matches(v,L):L,g.draggable=L;var K=l.get("droppable");if(Object(x.isFunction)(K)){var ee=K(y,l);g.droppable=ee,g.dropInfo=ee,K=ee}else K=(K=K instanceof M.a.Collection?1:K)instanceof Array?K.join(", "):K,g.dropInfo=K,K=Object(x.isString)(K)?this.matches(d,K):K,K=L&&this.isTextableActive(y,l)?1:K,g.droppable=K;return K&&L||(g.valid=!1),g},dimsFromTarget:function(v,d,l){var y=this.em,g=[];if(!v||(this.matches(v,"".concat(this.itemSel,", ").concat(this.containerSel))||(v=this.closest(v,this.itemSel)),this.draggable instanceof Array&&(v=this.closest(v,this.draggable.join(","))),!v))return g;if(this.prevTarget&&this.prevTarget!=v&&(this.prevTarget=null),!this.prevTarget){this.targetP=this.closest(v,this.containerSel);var L=this.validTarget(v);if(y&&y.trigger("sorter:drag:validation",L),!L.valid&&this.targetP)return this.dimsFromTarget(this.targetP,d,l);this.prevTarget=v,this.prevTargetDim=this.getDim(v),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(v)}if(this.prevTarget==v&&(g=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,d,l)||!this.nested&&!this.cacheDims.length){var K=this.targetP;K&&this.validTarget(K).valid&&(g=this.cacheDimsP,this.target=K)}return this.lastPos=null,g},getTargetFromEl:function(v){var d,l=v,y=this.targetPrev,g=this.em,L=this.containerSel,K=this.itemSel;if(this.matches(l,"".concat(K,", ").concat(L))||(l=this.closest(l,K)),this.draggable instanceof Array&&(l=this.closest(l,this.draggable.join(","))),y&&y!=l&&(this.targetPrev=""),!this.targetPrev){d=this.closest(l,L);var ee=this.validTarget(l);if(g&&g.trigger("sorter:drag:validation",ee),!ee.valid&&d)return this.getTargetFromEl(d);this.targetPrev=l}return this.nearElBorders(l)&&(d=this.closest(l,L))&&this.validTarget(d).valid&&(l=d),l},nearElBorders:function(v){var l=v.getBoundingClientRect(),y=v.ownerDocument.body,g=this.getCurrentPos(),L=g.x,K=g.y,ee=l.top+y.scrollTop,De=l.left+y.scrollLeft;if(K<ee+10||K>ee+l.height-10||L<De+10||L>De+l.width-10)return 1},getCurrentPos:function(){var v=this.eventMove;return{x:v.pageX||0,y:v.pageY||0}},getDim:function(v){var d,l,y,g,L=this.em,K=this.canvasRelative,ee=L&&L.get("Canvas"),De=ee?ee.getElementOffsets(v):{};if(K&&L){var fe=ee.getElementPos(v,{noScroll:1});d=fe.top,l=fe.left,y=fe.height,g=fe.width}else{var ce=this.offset(v);d=this.relative?v.offsetTop:ce.top-(this.wmargin?-1:1)*this.elT,l=this.relative?v.offsetLeft:ce.left-(this.wmargin?-1:1)*this.elL,y=v.offsetHeight,g=v.offsetWidth}return{top:d,left:l,height:y,width:g,offsets:De}},getChildrenDim:function(v){var d=this,l=[];if(!v)return l;var y=this.getTargetModel(v);if(y&&y.view&&!this.ignoreViewChildren){var g=y.getCurrentView?y.getCurrentView():y.view;v=g.getChildrenContainer()}return Object(x.each)(v.children,function(L,K){var ee=Object(c.getModel)(L,p),De=ee&&ee.index?ee.index():K;if(Object(c.isTextNode)(L)||d.matches(L,d.itemSel)){var fe=d.getDim(L),ce=d.direction;ce="v"==ce||"h"!=ce&&d.isInFlow(L,v),fe.dir=ce,fe.el=L,fe.indexEl=De,l.push(fe)}}),l},nearBorders:function(v,d,l){var y=0,g=this.borderOffset,L=d||0,K=l||0,ee=v.top,De=v.left;return(ee+g>K||K>ee+v.height-g||De+g>L||L>De+v.width-g)&&(y=1),!!y},findPosition:function(v,d,l){for(var y={index:0,indexEl:0,method:"before"},g=0,L=0,K=0,ee=0,De=0,fe=0,ce=0,Ce=0,Se=v.length;Ce<Se;Ce++){var se=ce=v[Ce],ue=se.top,xe=se.left,re=se.height,J=se.width;if(fe=ue+re,ee=xe+J/2,De=ue+re/2,!(L&&xe>L||K&&De>=K||g&&xe+J<g))if(y.index=Ce,y.indexEl=ce.indexEl,ce.dir){if(l<De){y.method="before";break}y.method="after"}else l<fe&&(K=fe),d<ee?(L=ee,y.method="before"):(g=ee,y.method="after")}return y},movePlaceholder:function(v,d,l,y){var L=0,K=0,ee=0,De=0,fe="px",Ce=l.method,Se=d[l.index];if(v.classList.remove("vertical"),v.classList.add("horizontal"),Se){var se=Se.top,ue=Se.left,xe=Se.height,re=Se.width;Se.dir?(ee=re+fe,De="auto",L="before"==Ce?se-0:se+xe-0,K=ue):(ee="auto",De=xe-0+fe,L=se+0,K="before"==Ce?ue-0:ue+re-0,v.classList.remove("horizontal"),v.classList.add("vertical"))}else{if(!this.nested)return void(v.style.display="none");if(y){var J=y.offsets||{},V=J.paddingLeft||5;L=y.top+(J.paddingTop||5),K=y.left+V,ee=parseInt(y.width)-2*V+fe,De="auto"}}v.style.top=L+fe,v.style.left=K+fe,ee&&(v.style.width=ee),De&&(v.style.height=De)},endMove:function(v){var d,l=this,y=this.eV,g=[],L=this.getDocuments(),K=this.getContainerEl(),ee=this.onEndMove,De=this.onEnd,fe=this.target,ce=this.lastPos;if(Object(c.off)(K,"mousemove dragover",this.onMove),Object(c.off)(L,"mouseup dragend touchend",this.endMove),Object(c.off)(L,"keydown",this.rollback),this.plh.style.display="none",y&&(d=this.getSourceModel(),this.selectOnEnd&&d&&d.set&&(d.set("status",""),d.set("status","selected"))),this.moved&&fe){var Ce=this.toMove;(Object(x.isArray)(Ce)?Ce:Ce?[Ce]:[y]).forEach(function(ue){g.push(l.move(fe,ue,ce))})}this.plh&&(this.plh.style.display="none");var Se=this.dragHelper;if(Se&&(Se.parentNode.removeChild(Se),this.dragHelper=null),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),this.toMove=null,this.eventMove=0,this.dropModel=null,Object(x.isFunction)(ee)){var se={target:d,parent:d&&d.parent(),index:d&&d.index()};g.length?g.forEach(function(ue){return ee(ue,l,se)}):ee(null,this,u(u({},se),{},{cancelled:1}))}Object(x.isFunction)(De)&&De({sorter:this})},move:function(v,d,l){var y=this.em,g=this.activeTextModel,L=this.dropContent,K=Object(c.getElement)(d);y&&y.trigger("component:dragEnd:before",v,K,l);var ee,De,fe,ce=l.indexEl,Ce=[],Se=this.validTarget(v,K),se=p(v).data("collection"),ue=Se.srcModel,xe=Se.droppable,re=Se.trgModel,J=Se.draggable,$=Se.dropInfo||re&&re.get("droppable"),V=Se.dragInfo||ue&&ue.get("draggable");xe=re instanceof M.a.Collection?1:xe;var S=this.isTextableActive(ue,re);if(se&&xe&&J){var O={at:ce="after"===l.method?ce+1:ce,noIncrement:1};if(L?(ee=Object(x.isFunction)(L)?L():L,O.silent=!1,O.avoidUpdateStyle=1):(O.temporary=1,De=se.add({},u({},O)),ue.collection&&(ee=ue.collection.remove(ue,{temporary:1}))),S){var z=g.getView();g.trigger("active");var n=z.activeRte,m=ue.getEl();delete ue.opt.temporary,ue.getView().render(),m.setAttribute("data-gjs-textable","true"),n.insertHTML&&n.insertHTML(m.outerHTML)}else fe=se.add(ee,O);L?this.dropContent=null:se.remove(De),this.prevTarget=null}else y&&(!se&&Ce.push("Target collection not found"),!xe&&$&&Ce.push("Target is not droppable, accepts [".concat($,"]")),!J&&V&&Ce.push("Component not draggable, acceptable by [".concat(V,"]")),y.logWarning("Invalid target position",{errors:Ce,model:ue,context:"sorter",target:re}));return y&&(y.trigger("component:dragEnd",se,ee,Ce),y.trigger("sorter:drag:end",{targetCollection:se,modelToDrop:ee,warns:Ce,validResult:Se,dst:v,srcEl:K})),fe},rollback:function(v){Object(c.off)(this.getDocuments(),"keydown",this.rollback),27==(v.which||v.keyCode)&&(this.moved=0,this.endMove())}}),P=i(5),w=i.n(P),b=i(6),A=i.n(b);function R(v,d){var l=Object.keys(v);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(v);d&&(y=y.filter(function(g){return Object.getOwnPropertyDescriptor(v,g).enumerable})),l.push.apply(l,y)}return l}function _(v){for(var d=1;d<arguments.length;d++){var l=null!=arguments[d]?arguments[d]:{};d%2?R(Object(l),!0).forEach(function(y){ne()(v,y,l[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(l)):R(Object(l)).forEach(function(y){Object.defineProperty(v,y,Object.getOwnPropertyDescriptor(l,y))})}return v}var k={mousePosFetcher:null,updateTarget:null,ratioDefault:0,posFetcher:null,onStart:null,onMove:null,onEnd:null,onUpdateContainer:function(){},step:1,minDim:10,maxDim:"",unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:1,silentFrames:0,avoidContainerUpdate:0,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:1,tc:1,tr:1,cl:1,cr:1,bl:1,bc:1,br:1},T=function(v,d){var l=d||window,y=v.getBoundingClientRect();return{left:y.left+l.pageXOffset,top:y.top+l.pageYOffset,width:y.width,height:y.height}},C=function(){function v(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w()(this,v),this.setOptions(d),Object(x.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop"),this}return A()(v,[{key:"getConfig",value:function(){return this.opts}},{key:"setOptions",value:function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.opts=Object(x.defaults)(d,k),this.setup()}},{key:"setup",value:function(){var d=this.opts,l=d.prefix||"",y=d.appendTo||document.body,g=this.container;for(g||((g=document.createElement("div")).className="".concat(l,"resizer-c"),y.appendChild(g),this.container=g);g.firstChild;)g.removeChild(g.firstChild);var L={};for(var K in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(De){return L[De]=d[De]?(fe=De,Ce=d.prefix||"",(Se=document.createElement("i")).className=Ce+"resizer-h "+Ce+"resizer-h-"+fe,Se.setAttribute("data-"+Ce+"handler",fe),Se):"";var fe,Ce,Se}),L){var ee=L[K];ee&&g.appendChild(ee)}this.handlers=L,this.mousePosFetcher=d.mousePosFetcher,this.updateTarget=d.updateTarget,this.posFetcher=d.posFetcher,this.onStart=d.onStart,this.onMove=d.onMove,this.onEnd=d.onEnd,this.onUpdateContainer=d.onUpdateContainer}},{key:"toggleFrames",value:function(d){if(this.opts.silentFrames){var l=document.querySelectorAll("iframe");Object(x.each)(l,function(y){return y.style.pointerEvents=d?"none":""})}}},{key:"isHandler",value:function(d){var l=this.handlers;for(var y in l)if(l[y]===d)return!0;return!1}},{key:"getFocusedEl",value:function(){return this.el}},{key:"getParentEl",value:function(){return this.el.parentElement}},{key:"getDocumentEl",value:function(){return[this.el.ownerDocument,document]}},{key:"getElementPos",value:function(d){var l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=this.posFetcher||"";return y?y(d,l):T(d)}},{key:"focus",value:function(d){d&&d===this.el||(this.el=d,this.updateContainer({forceShow:1}),Object(c.on)(this.getDocumentEl(),"mousedown",this.handleMouseDown))}},{key:"blur",value:function(){this.container.style.display="none",this.el&&(Object(c.off)(this.getDocumentEl(),"mousedown",this.handleMouseDown),this.el=null)}},{key:"start",value:function(d){if(0===d.button){d.preventDefault(),d.stopPropagation();var l=this.el,y=this.getParentEl(),g=this.opts||{},L="data-"+g.prefix+"handler",K=this.getElementPos(l,{target:"el"}),ee=this.getElementPos(y);this.handlerAttr=d.target.getAttribute(L),this.clickedHandler=d.target,this.startDim={t:K.top,l:K.left,w:K.width,h:K.height},this.rectDim={t:K.top,l:K.left,w:K.width,h:K.height},this.startPos={x:d.clientX,y:d.clientY},this.parentDim={t:ee.top,l:ee.left,w:ee.width,h:ee.height};var De=this.getDocumentEl();Object(c.on)(De,"mousemove",this.move),Object(c.on)(De,"keydown",this.handleKeyDown),Object(c.on)(De,"mouseup",this.stop),Object(x.isFunction)(this.onStart)&&this.onStart(d,{docs:De,config:g,el:l,resizer:this}),this.toggleFrames(1),this.move(d)}}},{key:"move",value:function(d){var l=this.onMove,y=this.mousePosFetcher,g=y?y(d):{x:d.clientX,y:d.clientY};this.currentPos=g,this.delta={x:g.x-this.startPos.x,y:g.y-this.startPos.y},this.keys={shift:d.shiftKey,ctrl:d.ctrlKey,alt:d.altKey},this.rectDim=this.calc(this),this.updateRect(0),l&&l(d),0===d.which&&this.stop(d)}},{key:"stop",value:function(d){var l=this.opts,y=this.getDocumentEl();Object(c.off)(y,"mousemove",this.move),Object(c.off)(y,"keydown",this.handleKeyDown),Object(c.off)(y,"mouseup",this.stop),this.updateRect(1),this.toggleFrames(),Object(x.isFunction)(this.onEnd)&&this.onEnd(d,{docs:y,config:l})}},{key:"updateRect",value:function(d){var l=this.el,y=this.opts,g=this.rectDim,L=this.updateTarget,K=this.getSelectedHandler(),ee=y.unitHeight,De=y.unitWidth,fe=y.keyWidth,ce=y.keyHeight;if(Object(x.isFunction)(L))L(l,g,{store:d,selectedHandler:K,resizer:this,config:y});else{var Ce=l.style;Ce[fe]=g.w+De,Ce[ce]=g.h+ee}this.updateContainer()}},{key:"updateContainer",value:function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},l=this.opts,y=this.container,g=this.el,L=y.style;!l.avoidContainerUpdate&&g&&d.forceShow&&(L.display="block"),this.onUpdateContainer({el:y,resizer:this,opts:_(_({},l),d)})}},{key:"getSelectedHandler",value:function(){var d=this.handlers;if(this.selectedHandler)for(var l in d)if(d[l]===this.selectedHandler)return l}},{key:"handleKeyDown",value:function(d){27===d.keyCode&&(this.rectDim=this.startDim,this.stop(d))}},{key:"handleMouseDown",value:function(d){var l=d.target;this.isHandler(l)?(this.selectedHandler=l,this.start(d)):l!==this.el&&(this.selectedHandler="",this.blur())}},{key:"calc",value:function(d){var l,y=this.opts||{},g=y.step,L=this.startDim,K=y.minDim,ee=y.maxDim,De=d.delta.x,fe=d.delta.y,ce=this.parentDim.w,Ce=this.parentDim.h,Se=this.opts.unitWidth,se=this.opts.unitHeight,ue="%"===Se?L.w/100*ce:L.w,xe="%"===se?L.h/100*Ce:L.h,re={t:0,l:0,w:ue,h:xe};if(d){var J=d.handlerAttr;~J.indexOf("r")&&(l="%"===Se?Object(c.normalizeFloat)((ue+De*g)/ce*100,.01):Object(c.normalizeFloat)(ue+De*g,g),l=Math.max(K,l),ee&&(l=Math.min(ee,l)),re.w=l),~J.indexOf("b")&&(l="%"===se?Object(c.normalizeFloat)((xe+fe*g)/Ce*100,.01):Object(c.normalizeFloat)(xe+fe*g,g),l=Math.max(K,l),ee&&(l=Math.min(ee,l)),re.h=l),~J.indexOf("l")&&(l="%"===Se?Object(c.normalizeFloat)((ue-De*g)/ce*100,.01):Object(c.normalizeFloat)(ue-De*g,g),l=Math.max(K,l),ee&&(l=Math.min(ee,l)),re.w=l),~J.indexOf("t")&&(l="%"===se?Object(c.normalizeFloat)((xe-fe*g)/Ce*100,.01):Object(c.normalizeFloat)(xe-fe*g,g),l=Math.max(K,l),ee&&(l=Math.min(ee,l)),re.h=l);var $=y.ratioDefault?!d.keys.shift:d.keys.shift;if(J.indexOf("c")<0&&$){var V=L.w/L.h;re.w/re.h>V?re.h=Math.round(re.w/V):re.w=Math.round(re.h*V)}return~J.indexOf("l")&&(re.l=L.w-re.w),~J.indexOf("t")&&(re.t=L.h-re.h),re}}}]),v}(),j={init:function(v){return new C(v)}};function N(v,d){var l=Object.keys(v);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(v);d&&(y=y.filter(function(g){return Object.getOwnPropertyDescriptor(v,g).enumerable})),l.push.apply(l,y)}return l}function H(v){for(var d=1;d<arguments.length;d++){var l=null!=arguments[d]?arguments[d]:{};d%2?N(Object(l),!0).forEach(function(y){ne()(v,y,l[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(v,Object.getOwnPropertyDescriptors(l)):N(Object(l)).forEach(function(y){Object.defineProperty(v,y,Object.getOwnPropertyDescriptor(l,y))})}return v}oe.default=function(){return{name:"Utils",init:function(){return this},destroy:function(){},Sorter:f,Resizer:j,Dragger:Y.a,helpers:H({},c)}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(3),ne=i.n(Z),Y=i(14),U=i.n(Y),M=i(0),x=i(1),c={placeholder:"eg. Text here"},h={locale:"en",localeFallback:"en",detectLocale:1,debug:0,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:c,alt:c,title:c,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}}}}};function u(P,w){var b=Object.keys(P);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(P);w&&(A=A.filter(function(R){return Object.getOwnPropertyDescriptor(P,R).enumerable})),b.push.apply(b,A)}return b}function p(P){for(var w=1;w<arguments.length;w++){var b=null!=arguments[w]?arguments[w]:{};w%2?u(Object(b),!0).forEach(function(A){ne()(P,A,b[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(A){Object.defineProperty(P,A,Object.getOwnPropertyDescriptor(b,A))})}return P}var f=function(P){return!Array.isArray(P)&&null!==P&&"object"===U()(P)};oe.default=function(){return{name:"I18n",config:h,init:function(){var P=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.config=p(p(p({},h),P),{},{messages:p(p({},h.messages),P.messages||{})}),this.config.detectLocale&&(this.config.locale=this._localLang()),this.em=P.em,this},getConfig:function(){return this.config},setLocale:function(P){var w=this.em,b=this.config;return w&&w.trigger("i18n:locale",{value:P,valuePrev:b.locale}),b.locale=P,this},getLocale:function(){return this.config.locale},getMessages:function(P){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=this.config.messages;return P&&!b[P]&&this._debug("'".concat(P,"' i18n lang not found"),w),P?b[P]:b},setMessages:function(P){var w=this.em;return this.config.messages=P,w&&w.trigger("i18n:update",P),this},addMessages:function(P){var w=this.em,b=this.config.messages;return w&&w.trigger("i18n:add",P),this.setMessages(function A(){for(var R=p({},arguments.length<=0?void 0:arguments[0]),_=1;_<arguments.length;_++){var k=p({},_<0||arguments.length<=_?void 0:arguments[_]);for(var T in k){var C=R[T],j=k[T];R[T]=f(C)&&f(j)?A(C,j):j}}return R}(b,P)),this},t:function(P){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=this.config,A=w.params||{},R=w.l||this.getLocale(),_=w.lFlb||b.localeFallback,k=this._getMsg(P,R,w);return k||(k=this._getMsg(P,_,w)),!k&&this._debug("'".concat(P,"' i18n key not found in '").concat(R,"' lang"),w),k&&Object(M.isString)(k)?this._addParams(k,A):k},_localLang:function(){var P=Object(x.hasWin)()&&window.navigator||{},w=P.language||P.userLanguage;return w?w.split("-")[0]:"en"},_addParams:function(P,w){var b=new RegExp("{([\\w\\d-]*)}","g");return P.replace(b,function(A,R){return w[R]||""}).trim()},_getMsg:function(P,w){var b=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},A=this.getMessages(w,b);if(A){var R=A[P];return!R&&P.indexOf(".")>0&&(R=P.split(".").reduce(function(_,k){if(!Object(M.isUndefined)(_))return _[k]},A)),R}},_debug:function(P){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},b=this.em,A=this.config;(w.debug||A.debug)&&b&&b.logWarning(P)},destroy:function(){this.config=h,this.em={}}}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(34),ne=i.n(Z),Y=i(11),U=i.n(Y),M=i(3),x=i.n(M),c=i(26),h=i.n(c),u=i(5),p=i.n(u),f=i(6),P=i.n(f),w=i(1);function b(l,y){var g=Object.keys(l);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(l);y&&(L=L.filter(function(K){return Object.getOwnPropertyDescriptor(l,K).enumerable})),g.push.apply(g,L)}return g}function A(l){for(var y=1;y<arguments.length;y++){var g=null!=arguments[y]?arguments[y]:{};y%2?b(Object(g),!0).forEach(function(L){x()(l,L,g[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(g)):b(Object(g)).forEach(function(L){Object.defineProperty(l,L,Object.getOwnPropertyDescriptor(g,L))})}return l}var R="_rte",C=function(l){var y=l.selection().anchorNode,g=y&&y.parentNode,L=y&&y.nextSibling;return g&&"A"==g.nodeName||L&&"A"==L.nodeName},j={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(l){return l.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(l){return l.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(l){return l.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(l){return l.exec("strikeThrough")}},link:{icon:'<span style="transform:rotate(45deg)">&supdsub;</span>',name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(l,y){return l&&l.selection()&&C(l)?1:0},result:function(l){C(l)?l.exec("unlink"):l.insertHTML('<a class="link" href="">'.concat(l.selection(),"</a>"))}}},N=function(){function l(){var y=this,g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};p()(this,l);var L=g.el;if(L[R])return L[R];L[R]=this,this.setEl(L),this.updateActiveActions=this.updateActiveActions.bind(this);var K=(g.actions||[]).map(function(Ce){var Se=Ce;return"string"==typeof Ce?Se=A({},j[Ce]):j[Ce.name]&&(Se=A(A({},j[Ce.name]),Ce)),Se}),ee=K.length?K:Object.keys(j).map(function(Ce){return j[Ce]});g.classes=A(A({},{actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"}),g.classes);var De=g.classes,fe=g.actionbar;if(this.actionbar=fe,this.settings=g,this.classes=De,this.actions=ee,!fe){var ce=g.actionbarContainer;(fe=document.createElement("div")).className=De.actionbar,ce.appendChild(fe),this.actionbar=fe,ee.forEach(function(Ce){return y.addAction(Ce)})}return g.styleWithCSS&&this.exec("styleWithCSS"),this.syncActions(),this}return P()(l,[{key:"destroy",value:function(){this.el=0,this.doc=0,this.actionbar=0,this.settings={},this.classes={},this.actions=[]}},{key:"setEl",value:function(y){this.el=y,this.doc=y.ownerDocument}},{key:"updateActiveActions",value:function(){var y=this;this.getActions().forEach(function(g){var L=g.btn,K=g.update,ee=A({},y.classes),De=ee.active,fe=ee.inactive,ce=ee.disabled,Ce=g.state,Se=g.name,se=y.doc;if(L.className=L.className.replace(De,"").trim(),L.className=L.className.replace(fe,"").trim(),L.className=L.className.replace(ce,"").trim(),Ce)switch(Ce(y,se)){case 1:L.className+=" ".concat(De);break;case 0:L.className+=" ".concat(fe);break;case-1:L.className+=" ".concat(ce)}else se.queryCommandSupported(Se)&&se.queryCommandState(Se)&&(L.className+=" ".concat(De));K&&K(y,g)})}},{key:"enable",value:function(){return this.enabled||(this.actionbarEl().style.display="",this.el.contentEditable=!0,Object(w.on)(this.el,"mouseup keyup",this.updateActiveActions),this.syncActions(),this.updateActiveActions(),this.el.focus(),this.enabled=1),this}},{key:"disable",value:function(){return this.actionbarEl().style.display="none",this.el.contentEditable=!1,Object(w.off)(this.el,"mouseup keyup",this.updateActiveActions),this.enabled=0,this}},{key:"syncActions",value:function(){var y=this;this.getActions().forEach(function(g){y.settings.actionbar&&(!g.state||g.state&&g.state(y,y.doc)>=0)&&(g.btn["on".concat(g.event||"click")]=function(K){g.result(y,g),y.updateActiveActions()})})}},{key:"addAction",value:function(y){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},L=g.sync,K=document.createElement("span"),ee=y.icon,De=y.attributes||{};for(var fe in K.className=this.classes.button,y.btn=K,De)K.setAttribute(fe,De[fe]);"string"==typeof ee?K.innerHTML=ee:K.appendChild(ee),this.actionbarEl().appendChild(K),L&&(this.actions.push(y),this.syncActions())}},{key:"getActions",value:function(){return this.actions}},{key:"selection",value:function(){return this.doc.getSelection()}},{key:"exec",value:function(y){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.doc.execCommand(y,!1,g)}},{key:"actionbarEl",value:function(){return this.actionbar}},{key:"insertHTML",value:function(y){var g=this.doc,L=g.getSelection();if(L&&L.rangeCount){var K=g.createElement("div"),ee=L.getRangeAt(0);ee.deleteContents(),K.innerHTML=y,Array.prototype.slice.call(K.childNodes).forEach(function(De){ee.insertNode(De)}),L.removeAllRanges(),L.addRange(ee),this.el.focus()}}}]),l}(),H={stylePrefix:"rte-",adjustToolbar:1,actions:["bold","italic","underline","strikethrough","link"]};function v(l,y){var g=Object.keys(l);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(l);y&&(L=L.filter(function(K){return Object.getOwnPropertyDescriptor(l,K).enumerable})),g.push.apply(g,L)}return g}function d(l){for(var y=1;y<arguments.length;y++){var g=null!=arguments[y]?arguments[y]:{};y%2?v(Object(g),!0).forEach(function(L){x()(l,L,g[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(g)):v(Object(g)).forEach(function(L){Object.defineProperty(l,L,Object.getOwnPropertyDescriptor(g,L))})}return l}oe.default=function(){var l,y,g,L,K,ee={},De="change:canvasOffset canvasScroll frame:scroll component:update",fe=function(){var ce=l.style,Ce="-1000px";ce.top=Ce,ce.left=Ce,ce.display="none"};return{customRte:null,name:"RichTextEditor",getConfig:function(){return ee},init:function(){var ce=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},Ce=(ee=d(d({},H),ce)).pStylePrefix;return Ce&&(ee.stylePrefix=Ce+ee.stylePrefix),this.pfx=ee.stylePrefix,y=ee.actions||[],Object(w.hasWin)()?((l=document.createElement("div")).className="".concat(Ce,"rte-toolbar ").concat(Ce,"one-bg"),K=this.initRte(document.createElement("div")),Object(w.on)(l,"mousedown",function(Se){return Se.stopPropagation()}),this):this},destroy:function(){var ce=this.customRte;K&&K.destroy(),ce&&ce.destroy&&ce.destroy(),this.actionbar=0,this.actions=0,[ee,l,y,g,L,K].forEach(function(Ce){return{}})},postRender:function(ce){var Ce=ce.model.get("Canvas");l.style.pointerEvents="all",fe(),Ce.getToolsEl().appendChild(l)},initRte:function(ce){var Ce=this.pfx,Se=l,se=this.actionbar,ue=this.actions||U()(ee.actions),xe={actionbar:"".concat(Ce,"actionbar"),button:"".concat(Ce,"action"),active:"".concat(Ce,"active"),inactive:"".concat(Ce,"inactive"),disabled:"".concat(Ce,"disabled")},re=new N({el:ce,classes:xe,actions:ue,actionbar:se,actionbarContainer:Se});return K&&K.setEl(ce),re.actionbar&&(this.actionbar=re.actionbar),re.actions&&(this.actions=re.actions),re},add:function(ce){var Ce=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Ce.name=ce,K.addAction(Ce,{sync:1})},get:function(ce){var Ce;return K.getActions().forEach(function(Se){Se.name==ce&&(Ce=Se)}),Ce},getAll:function(){return K.getActions()},remove:function(ce){var Ce=this.getAll(),Se=this.get(ce);if(Se){var se=Se.btn,ue=Ce.indexOf(Se);se.parentNode.removeChild(se),Ce.splice(ue,1)}return Se},getToolbarEl:function(){return l},updatePosition:function(){var Ce=ee.em.get("Canvas"),Se=l.style,se=Ce.getTargetToElementFixed(g,l,{event:"rteToolbarPosUpdate",left:0});Se.top=(se.top||0)+"px",Se.left=(se.left||0)+"px"},enable:function(ce,Ce){var Se=this;return ne()(h.a.mark(function se(){var ue,xe,re,J,$;return h.a.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return g=ce.el,ue=Se.customRte,xe=ee.em.get("Canvas"),re=ee.em,J=ce.getChildrenContainer(),L=xe.getElementPos(g),l.style.display="",V.next=9,ue?ue.enable(J,Ce):Se.initRte(J).enable();case 9:return $=V.sent,re&&(setTimeout(Se.updatePosition.bind(Se),0),re.off(De,Se.updatePosition,Se),re.on(De,Se.updatePosition,Se),re.trigger("rte:enable",ce,$)),V.abrupt("return",$);case 12:case"end":return V.stop()}},se)}))()},disable:function(ce,Ce){var Se=ee.em,se=this.customRte,ue=ce.getChildrenContainer();se?se.disable(ue,Ce):Ce&&Ce.disable(),fe(),Se&&(Se.off(De,this.updatePosition,this),Se.trigger("rte:disable",ce,Ce))}}}},function($e,oe,i){"use strict";i.r(oe);var Z,ne=i(3),Y=i.n(ne),U={stylePrefix:"",appendTo:"",sortable:1,hidable:1,hideTextnode:1,root:"",showWrapper:1,showHover:1,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:1,onInit:function(){},onRender:function(){},extend:{}},M=i(0),x=i(1),c=i(2),h=i.n(c),u=i(12),p=i(10),f="contentEditable",P={mediaText:""},w=h.a.$,b=h.a.View.extend({events:{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"},template:function(_){var k=this.pfx,T=this.ppfx,j=this.clsNoEdit,N=this.config.hidable,H=this.countChildren(_),v=H?"":this.clsNoChild,d="".concat(this.clsTitle," ").concat(v),l="".concat(this.clsTitleC," ").concat(T,"one-bg"),y="".concat(this.clsCaret," fa fa-chevron-right"),g="".concat(this.inputNameCls," ").concat(j," ").concat(T,"no-app"),K="".concat(30+10*(this.level+1),"px"),ee=_.getName(),De=_.getIcon(),fe="".concat(k,"layer");return"\n      ".concat(N?'<i class="'.concat(k,"layer-vis fa fa-eye ").concat(this.isVisible()?"":"fa-eye-slash",'" data-toggle-visible></i>'):"",'\n      <div class="').concat(l,'">\n        <div class="').concat(d,'" style="padding-left: ').concat(K,'" data-toggle-select>\n          <div class="').concat(k,'layer-title-inn" title="').concat(ee,'">\n            <i class="').concat(y,'" data-toggle-open></i>\n            ').concat(De?'<span class="'.concat(fe,'__icon">').concat(De,"</span>"):"",'\n            <span class="').concat(g,'" data-name>').concat(ee,'</span>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(this.clsCount,'" data-count>').concat(H||"",'</div>\n      <div class="').concat(this.clsMove,'" data-toggle-move>\n        <i class="fa fa-arrows"></i>\n      </div>\n      <div class="').concat(this.clsChildren,'"></div>')},initialize:function(){var _=this,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(M.bindAll)(this,"__render"),this.opt=k,this.level=k.level;var T=k.config||{},C=T.onInit;this.config=T,this.em=k.config.em,this.ppfx=this.em.get("Config").stylePrefix,this.sorter=k.sorter||"",this.pfx=this.config.stylePrefix,this.parentView=k.parentView;var j=this.pfx,N=this.ppfx,H=this.model,v=H.get("components"),d=H.get("type")||"default";H.set("open",!1),this.listenTo(v,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["rerender:layer",this.render]].forEach(function(l){return _.listenTo(H,l[0],l[1])}),this.className="".concat(j,"layer ").concat(j,"layer__t-").concat(d," no-select ").concat(N,"two-color"),this.inputNameCls="".concat(N,"layer-name"),this.clsTitleC="".concat(j,"layer-title-c"),this.clsTitle="".concat(j,"layer-title"),this.clsCaret="".concat(j,"layer-caret"),this.clsCount="".concat(j,"layer-count"),this.clsMove="".concat(j,"layer-move"),this.clsChildren="".concat(j,"layer-children"),this.clsNoChild="".concat(j,"layer-no-chld"),this.clsEdit="".concat(this.inputNameCls,"--edit"),this.clsNoEdit="".concat(this.inputNameCls,"--no-edit"),this.$el.data("model",H),this.$el.data("collection",v),H.viewLayer=this,C.bind(this)({component:H,render:this.__render,listenTo:this.listenTo})},getVisibilityEl:function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},updateVisibility:function(){var k=this.model,T="".concat(this.pfx,"layer-hidden"),C="none"===k.getStyle(P).display?"addClass":"removeClass";this.$el[C](T),this.getVisibilityEl()[C]("fa-eye-slash")},toggleVisibility:function(_){_&&_.stopPropagation();var k=this.model,T=this.em,C="__prev-display",j=k.get(C),N=k.getStyle(P),H=N.display;"none"==H?(delete N.display,j&&(N.display=j,k.unset(C))):(H&&k.set(C,H),N.display="none"),k.setStyle(N,P),T&&T.trigger("component:toggled")},handleEdit:function(_){_&&_.stopPropagation();var k=this.em,T=this.$el,C=this.clsNoEdit,j=this.clsEdit,N=this.getInputName();N[f]=!0,N.focus(),document.execCommand("selectAll",!1,null),k&&k.setEditing(1),T.find(".".concat(this.inputNameCls)).removeClass(C).addClass(j)},handleEditKey:function(_){_.stopPropagation(),(Object(x.isEscKey)(_)||Object(x.isEnterKey)(_))&&this.handleEditEnd(_)},handleEditEnd:function(_){_&&_.stopPropagation();var k=this.em,T=this.$el,C=this.clsNoEdit,j=this.clsEdit,N=this.getInputName(),H=N.textContent;N.scrollLeft=0,N[f]=!1,this.setName(H,{component:this.model,propName:"custom-name"}),k&&k.setEditing(0),T.find(".".concat(this.inputNameCls)).addClass(C).removeClass(j)},setName:function(_,k){this.model.set(k.propName,_)},getInputName:function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},updateOpening:function(){var _=this.opt.opened||{},k=this.model,T="fa-chevron-down";k.get("open")?(this.$el.addClass("open"),this.getCaret().addClass(T),_[k.cid]=k):(this.$el.removeClass("open"),this.getCaret().removeClass(T),delete _[k.cid])},toggleOpening:function(_){var k=this.model;_.stopImmediatePropagation(),k.get("components").length&&k.set("open",!k.get("open"))},handleSelect:function(_){_.stopPropagation();var k=this.em,T=this.config,C=this.model;if(k){k.setSelected(C,{fromLayers:1,event:_});var j=T.scrollCanvas;j&&C.views.forEach(function(N){return N.scrollIntoView(j)})}},handleHover:function(_){_.stopPropagation();var k=this.em;k&&this.config.showHover&&k.setHovered(this.model,{fromLayers:1})},handleHoverOut:function(_){_.stopPropagation();var k=this.em;k&&this.config.showHover&&k.setHovered(0,{fromLayers:1})},startSort:function(_){_.stopPropagation();var k=this.em,T=this.sorter;_.button&&0!==_.button||T&&(T.onStart=function(C){return k.trigger("".concat(p.b,":start"),C)},T.onMoveClb=function(C){return k.trigger(p.b,C)},T.startSort(_.target))},freeze:function(){this.$el.addClass(this.pfx+"opac50"),this.model.set("open",0)},unfreeze:function(){this.$el.removeClass(this.pfx+"opac50")},updateStatus:function(_){u.default.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:1}])},isVisible:function(){var _=this.model.getStyle().display;return!(_&&"none"===_)},checkChildren:function(){var _=this.model,k=this.clsNoChild,T=this.countChildren(_),C=this.$el.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),j=this.cnt;j||(j=this.$el.children("[data-count]").get(0),this.cnt=j),C[T?"removeClass":"addClass"](k),j&&(j.innerHTML=T||""),!T&&_.set("open",0)},countChildren:function(_){var k=0;return _.get("components").each(function(T){var C=this.opt.isCountable;C&&!C(T,this.config.hideTextnode)||k++},this),k},getCaret:function(){return(!this.caret||!this.caret.length)&&(this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},setRoot:function(_){_=Object(M.isString)(_)?this.em.getWrapper().find(_)[0]:_;var k=Object(x.getModel)(_,w);k&&(this.stopListening(),this.model=k,this.initialize(this.opt),this._rendered&&this.render())},updateLayerable:function(){(this.parentView||this).render()},__clearItems:function(){var _=this.items;_&&_.remove()},remove:function(){h.a.View.prototype.remove.apply(this,arguments),this.__clearItems()},render:function(){var _=this.model,k=this.config,T=this.pfx,C=this.ppfx,j=this.opt;this.__clearItems();var N=j.isCountable,H=N&&!N(_,k.hideTextnode),v=this.isVisible(),d=this.$el.empty(),l=this.level+1;this.inputName=0,Object(M.isUndefined)(Z)&&(Z=i(97).default),this.items=new Z({ItemView:j.ItemView,collection:_.get("components"),config:this.config,sorter:this.sorter,opened:this.opt.opened,parentView:this,parent:_,level:l});var y=this.items.render().$el;return this.config.showWrapper||1!==l?(d.html(this.template(_)),d.find(".".concat(this.clsChildren)).append(y)):d.append(y),_.get("draggable")&&this.config.sortable||d.children(".".concat(this.clsMove)).remove(),!v&&(this.className+=" ".concat(T,"hide")),H&&(this.className+=" ".concat(C,"hidden")),d.attr("class",this.className),this.updateOpening(),this.updateStatus(),this.updateVisibility(),this.__render(),this._rendered=1,this},__render:function(){var T={component:this.model,el:this.el};this.config.onRender.bind(this)(T),this.em.trigger("layer:render",T)}});function A(_,k){var T=Object.keys(_);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(_);k&&(C=C.filter(function(j){return Object.getOwnPropertyDescriptor(_,j).enumerable})),T.push.apply(T,C)}return T}function R(_){for(var k=1;k<arguments.length;k++){var T=null!=arguments[k]?arguments[k]:{};k%2?A(Object(T),!0).forEach(function(C){Y()(_,C,T[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(T)):A(Object(T)).forEach(function(C){Object.defineProperty(_,C,Object.getOwnPropertyDescriptor(T,C))})}return _}oe.default=function(){var _,k,T={};return{name:"LayerManager",init:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(T=R(R({},U),C)).stylePrefix=C.pStylePrefix,_=T.em,this},getConfig:function(){return T},onLoad:function(){_&&_.on("component:selected",this.componentChanged),this.componentChanged()},postRender:function(){var C=T.appendTo,j=T.root;j&&this.setRoot(j),C&&(Object(M.isElement)(C)?C:document.querySelector(C)).appendChild(this.render())},setRoot:function(C){return k&&k.setRoot(C),this},getRoot:function(){return k&&k.model},getAll:function(){return k},componentChanged:function(C){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!j.fromLayers){var N=_.get("opened"),H=_.getSelected(),v=T.scrollLayers,d=H&&H.collection?H.collection.parent:null;for(var l in N)N[l].set("open",0);for(;d;)d.set("open",1),N[d.cid]=d,d=d.collection?d.collection.parent:null;if(H&&v){var y=H.viewLayer&&H.viewLayer.el;y&&y.scrollIntoView(v)}}},render:function(){var C=b.extend(T.extend);return k&&k.remove(),(k=new C({ItemView:C,level:0,config:T,opened:T.opened||{},model:_.get("DomComponents").getWrapper()})).render().el},destroy:function(){k&&k.remove(),[_,k,T].forEach(function(C){return{}})}}}},function($e,oe,i){"use strict";i.r(oe);var Z,ne=i(14),Y=i.n(ne),U=i(3),M=i.n(U),x=i(0),c=i(1),h={},u={16:!1,18:!1,17:!1,91:!1},p="all",f={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},P={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},w=function(L){return P[L]||L.toUpperCase().charCodeAt(0)},b=[];for(Z=1;Z<20;Z++)P["f"+Z]=111+Z;function A(L,K){for(var ee=L.length;ee--;)if(L[ee]===K)return ee;return-1}function R(L,K){if(L.length!=K.length)return!1;for(var ee=0;ee<L.length;ee++)if(L[ee]!==K[ee])return!1;return!0}var _={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function T(L){var K,ee=L.keyCode,De=A(b,ee);if(De>=0&&b.splice(De,1),93!=ee&&224!=ee||(ee=91),ee in u)for(K in u[ee]=!1,f)f[K]==ee&&(j[K]=!1)}function C(){for(Z in u)u[Z]=!1;for(Z in f)j[Z]=!1}function j(L,K,ee){var De,fe;De=H(L),void 0===ee&&(ee=K,K="all");for(var ce=0;ce<De.length;ce++)fe=[],(L=De[ce].split("+")).length>1&&(fe=v(L),L=[L[L.length-1]]),(L=w(L=L[0]))in h||(h[L]=[]),h[L].push({shortcut:De[ce],scope:K,method:ee,key:De[ce],mods:fe})}for(Z in f)j[Z]=!1;function N(){return p||"all"}function H(L){var K;return""==(K=(L=L.replace(/\s/g,"")).split(","))[K.length-1]&&(K[K.length-2]+=","),K}function v(L){for(var K=L.slice(0,L.length-1),ee=0;ee<K.length;ee++)K[ee]=f[K[ee]];return K}function d(L,K,ee){L.addEventListener?L.addEventListener(K,ee,!1):L.attachEvent&&L.attachEvent("on"+K,function(){ee(window.event)})}j.setScope=function(L){p=L||"all"},j.getScope=N,j.deleteScope=function(L){var K,ee,De;for(K in h)for(ee=h[K],De=0;De<ee.length;)ee[De].scope===L?ee.splice(De,1):De++},j.filter=function(L){var K=(L.target||L.srcElement).tagName;return!("INPUT"==K||"SELECT"==K||"TEXTAREA"==K)},j.isPressed=function(L){return"string"==typeof L&&(L=w(L)),-1!=A(b,L)},j.getPressedKeyCodes=function(){return b.slice(0)},j.unbind=function(L,K){var ee,De,fe,ce,Ce,Se=[];for(ee=H(L),ce=0;ce<ee.length;ce++){if((De=ee[ce].split("+")).length>1&&(Se=v(De)),L=w(L=De[De.length-1]),void 0===K&&(K=N()),!h[L])return;for(fe=0;fe<h[L].length;fe++)(Ce=h[L][fe]).scope===K&&R(Ce.mods,Se)&&(h[L][fe]={})}},j.init=function(L){d(L.document,"keydown",function(K){!function k(L){var K,ee,De,fe,ce,Ce;if(-1==A(b,K=L.keyCode)&&b.push(K),93!=K&&224!=K||(K=91),K in u)for(De in u[K]=!0,f)f[De]==K&&(j[De]=!0);else if(function(Se){for(Z in u)u[Z]=Se[_[Z]]}(L),j.filter.call(this,L)&&K in h)for(Ce=N(),fe=0;fe<h[K].length;fe++)if((ee=h[K][fe]).scope==Ce||"all"==ee.scope){for(De in ce=ee.mods.length>0,u)(!u[De]&&A(ee.mods,+De)>-1||u[De]&&-1==A(ee.mods,+De))&&(ce=!1);(0!=ee.mods.length||u[16]||u[18]||u[17]||u[91])&&!ce||!1===ee.method(L,ee)&&(L.preventDefault?L.preventDefault():L.returnValue=!1,L.stopPropagation&&L.stopPropagation(),L.cancelBubble&&(L.cancelBubble=!0))}}(K)}),d(L.document,"keyup",T),d(L,"focus",C)};var l=j;function y(L,K){var ee=Object.keys(L);if(Object.getOwnPropertySymbols){var De=Object.getOwnPropertySymbols(L);K&&(De=De.filter(function(fe){return Object.getOwnPropertyDescriptor(L,fe).enumerable})),ee.push.apply(ee,De)}return ee}function g(L){for(var K=1;K<arguments.length;K++){var ee=null!=arguments[K]?arguments[K]:{};K%2?y(Object(ee),!0).forEach(function(De){M()(L,De,ee[De])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(ee)):y(Object(ee)).forEach(function(De){Object.defineProperty(L,De,Object.getOwnPropertyDescriptor(ee,De))})}return L}Object(c.hasWin)()&&l.init(window),oe.default=function(){var L,K,ee={},De={defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:1}}}};return{keymaster:l,name:"Keymaps",getConfig:function(){return K},init:function(){var fe=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return K=g(g({},De),fe),this.em=L=K.em,this},onLoad:function(){var fe=K.defaults;for(var ce in fe){var Ce=fe[ce];this.add(ce,Ce.keys,Ce.handler,Ce.opts||{})}},add:function(fe,ce,Ce){var Se=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},se=this.em,ue=se.get("Commands"),xe=se.getEditor(),re=se.get("Canvas"),J={id:fe,keys:ce,handler:Ce},$=ee[fe];return $&&this.remove(fe),ee[fe]=J,l(ce,function(V,S){var O={event:V,h:S};if(Ce=Object(x.isString)(Ce)?ue.get(Ce):Ce,!se.isEditing()&&!xe.Canvas.isInputFocused()||Se.force){Se.prevent&&re.getCanvasView().preventDefault(V),"object"==Y()(Ce)?ue.runCommand(Ce,O):Ce(xe,0,O);var z=[fe,S.shortcut,V];se.trigger.apply(se,["keymap:emit"].concat(z)),se.trigger.apply(se,["keymap:emit:".concat(fe)].concat(z))}}),se.trigger("keymap:add",J),J},get:function(fe){return ee[fe]},getAll:function(){return ee},remove:function(fe){var ce=this.em,Ce=this.get(fe);if(Ce)return delete ee[fe],Ce.keys.split(", ").forEach(function(Se){return l.unbind(Se.trim())}),ce&&ce.trigger("keymap:remove",Ce),Ce},removeAll:function(){var fe=this;return Object.keys(ee).forEach(function(ce){return fe.remove(ce)}),this},destroy:function(){this.removeAll(),[L,K,ee].forEach(function(fe){return{}}),this.em={}}}}},function($e,oe,i){"use strict";i.r(oe);var Z=i(11),ne=i.n(Z),Y=i(3),U=i.n(Y),M=i(0),x=i(31),c={stylePrefix:"com-",defaults:[],strict:1},h=i(10);function u(P,w){var b=Object.keys(P);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(P);w&&(A=A.filter(function(R){return Object.getOwnPropertyDescriptor(P,R).enumerable})),b.push.apply(b,A)}return b}function p(P){for(var w=1;w<arguments.length;w++){var b=null!=arguments[w]?arguments[w]:{};w%2?u(Object(b),!0).forEach(function(A){U()(P,A,b[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(b)):u(Object(b)).forEach(function(A){Object.defineProperty(P,A,Object.getOwnPropertyDescriptor(b,A))})}return P}var f=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]];oe.default=function(){var P,w={},b={},A={},R={};return{CommandAbstract:x.default,name:"Commands",init:function(){var _=this,k=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};w=p(p({},c),k),P=w.em;var T=w.pStylePrefix;return T&&(w.stylePrefix=T+w.stylePrefix),Object.keys(w.defaults).forEach(function(C){var j=w.defaults[C];j.id&&_.add(j.id,j)}),A["tlb-delete"]={run:function(C){return C.runCommand("core:component-delete")}},A["tlb-clone"]={run:function(C){C.runCommand("core:copy"),C.runCommand("core:paste")}},A["tlb-move"]={run:function(C,j){var N=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},H=C.getModel(),v=N&&N.event,d=N.target,l=d||C.getSelected(),y=d?[d]:ne()(C.getSelectedAll()),g=v&&"dragstart"==v.type,L={preserveSelected:1},K=["absolute","translate"];if(!l||!l.get("draggable"))return H.logWarning("The element is not draggable");var ee=l.get("dmode")||H.get("dmode"),De=function(){return H.stopDefault(L)},fe=Object(M.includes)(K,ee);y.forEach(function(ue){return ue.trigger("disable")}),g?setTimeout(De,0):De();var ce=function(ue){H.trigger("".concat(h.b,":start"),ue)},Ce=function(ue){H.trigger(h.b,ue)},Se=function(ue,xe,re){y.forEach(function(J){return J.set("status","selected")}),C.select(y),l.emitUpdate(),H.trigger("".concat(h.b,":end"),re),setTimeout(function(){return H.runDefault(L)}),(fe||re.cancelled)&&H.set("_cmpDrag",1)};if(fe)C.runCommand("core:component-drag",{guidesInfo:1,mode:ee,target:l,onStart:ce,onDrag:Ce,onEnd:Se,event:v});else{g&&v.dataTransfer.setDragImage(l.view.el,0,0);var se=C.Commands.get("move-comp");se.onStart=ce,se.onDrag=Ce,se.onEndMoveFromModel=Se,se.initSorterFromModels(y)}y.forEach(function(ue){return ue.set("status","freezed-selected")})}},A["core:undo"]=function(C){return C.UndoManager.undo()},A["core:redo"]=function(C){return C.UndoManager.redo()},f.forEach(function(C){var j=C[2],N=i(98)("./".concat(C[1])).default,H="core:".concat(C[0]);A[H]=N,j&&(A[j]=N,["run","stop"].forEach(function(v){P.on("".concat(v,":").concat(j),function(){for(var d,l=arguments.length,y=new Array(l),g=0;g<l;g++)y[g]=arguments[g];return(d=P).trigger.apply(d,["".concat(v,":").concat(H)].concat(y))})}))}),w.em&&(w.model=w.em.get("Canvas")),this.loadDefaultCommands(),this},add:function(_,k){return Object(M.isFunction)(k)&&(k={run:k}),k.stop||(k.noStop=1),delete k.initialize,k.id=_,b[_]=x.default.extend(k),this},get:function(_){var k=b[_];return Object(M.isFunction)(k)?(k=new k(w),b[_]=k):k||P.logWarning("'".concat(_,"' command not found")),k},extend:function(_){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},T=this.get(_);if(T){var C=p(p({},T.constructor.prototype),k);this.add(_,C);var j=f.filter(function(N){return"core:".concat(N[0])===_&&N[2]})[0];j&&this.add(j[2],C)}return this},has:function(_){return!!b[_]},getAll:function(){return b},run:function(_){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.runCommand(this.get(_),k)},stop:function(_){var k=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.stopCommand(this.get(_),k)},isActive:function(_){return this.getActive().hasOwnProperty(_)},getActive:function(){return R},loadDefaultCommands:function(){for(var _ in A)this.add(_,A[_]);return this},runCommand:function(_){var k,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_&&_.run){var C=_.id,j=P.get("Editor");this.isActive(C)&&!T.force&&w.strict||(k=j&&_.callRun(j,T),C&&_.stop&&!_.noStop&&!T.abort&&(R[C]=k))}return k},stopCommand:function(_){var k,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(_&&_.run){var C=_.id,j=P.get("Editor");(this.isActive(C)||T.force||!w.strict)&&(C&&delete R[C],k=_.callStop(j,T))}return k},create:function(_){return _.stop||(_.noStop=1),new(x.default.extend(_))(w)},destroy:function(){[P,w,b,A,R].forEach(function(_){return{}})}}}}]).default}),function($e,oe){"object"==typeof exports&&"object"==typeof module?module.exports=oe(require("grapesjs")):"function"==typeof define&&define.amd?define(["grapesjs"],oe):"object"==typeof exports?exports["grapesjs-preset-webpage"]=oe(require("grapesjs")):$e["grapesjs-preset-webpage"]=oe($e.grapesjs)}("undefined"!=typeof self?self:this,function($e){return function(oe){function i(ne){if(Z[ne])return Z[ne].exports;var Y=Z[ne]={i:ne,l:!1,exports:{}};return oe[ne].call(Y.exports,Y,Y.exports,i),Y.l=!0,Y.exports}var Z={};return i.m=oe,i.c=Z,i.d=function(ne,Y,U){i.o(ne,Y)||Object.defineProperty(ne,Y,{configurable:!1,enumerable:!0,get:U})},i.n=function(ne){var Y=ne&&ne.__esModule?function(){return ne.default}:function(){return ne};return i.d(Y,"a",Y),Y},i.o=function(ne,Y){return Object.prototype.hasOwnProperty.call(ne,Y)},i.p="",i(i.s=4)}([function(oe,i){oe.exports=$e},function(oe,i,Z){(function(ne){function Y(M,x){this._id=M,this._clearFn=x}var U=Function.prototype.apply;i.setTimeout=function(){return new Y(U.call(setTimeout,window,arguments),clearTimeout)},i.setInterval=function(){return new Y(U.call(setInterval,window,arguments),clearInterval)},i.clearTimeout=i.clearInterval=function(M){M&&M.close()},Y.prototype.unref=Y.prototype.ref=function(){},Y.prototype.close=function(){this._clearFn.call(window,this._id)},i.enroll=function(M,x){clearTimeout(M._idleTimeoutId),M._idleTimeout=x},i.unenroll=function(M){clearTimeout(M._idleTimeoutId),M._idleTimeout=-1},i._unrefActive=i.active=function(M){clearTimeout(M._idleTimeoutId);var x=M._idleTimeout;x>=0&&(M._idleTimeoutId=setTimeout(function(){M._onTimeout&&M._onTimeout()},x))},Z(10),i.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==ne&&ne.setImmediate||this&&this.setImmediate,i.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==ne&&ne.clearImmediate||this&&this.clearImmediate}).call(i,Z(2))},function(oe,i){var Z;Z=function(){return this}();try{Z=Z||Function("return this")()||(0,eval)("this")}catch(ne){"object"==typeof window&&(Z=window)}oe.exports=Z},function(oe,i,Z){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.cmdImport="gjs-open-import-webpage",i.cmdDeviceDesktop="set-device-desktop",i.cmdDeviceTablet="set-device-tablet",i.cmdDeviceMobile="set-device-mobile",i.cmdClear="canvas-clear"},function(oe,i,Z){"use strict";function ne(L){return L&&L.__esModule?L:{default:L}}Object.defineProperty(i,"__esModule",{value:!0});var U=ne(Z(0)),x=ne(Z(5)),h=ne(Z(6)),p=ne(Z(7)),P=ne(Z(8)),b=ne(Z(9)),R=ne(Z(12)),k=ne(Z(13)),C=ne(Z(14)),N=ne(Z(16)),v=ne(Z(17)),l=ne(Z(18)),g=ne(Z(19));i.default=U.default.plugins.add("gjs-preset-webpage",function(L){var K=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ee=K,De={blocks:["link-block","quote","text-basic"],modalImportTitle:"Import",modalImportButton:"Import",modalImportLabel:"",modalImportContent:"",importViewerOptions:{},textCleanCanvas:"Are you sure to clean the canvas?",showStylesOnChange:1,textGeneral:"General",textLayout:"Layout",textTypography:"Typography",textDecorations:"Decorations",textExtra:"Extra",customStyleManager:[],blocksBasicOpts:{},navbarOpts:{},countdownOpts:{},formsOpts:{},exportOpts:{},aviaryOpts:0,filestackOpts:0};for(var fe in De)fe in ee||(ee[fe]=De[fe]);var ce=ee.blocksBasicOpts,Ce=ee.navbarOpts,Se=ee.countdownOpts,se=ee.formsOpts,ue=ee.exportOpts,xe=ee.aviaryOpts,re=ee.filestackOpts;ce&&(0,x.default)(L,ce),Ce&&(0,h.default)(L,Ce),Se&&(0,p.default)(L,Se),se&&(0,P.default)(L,se),ue&&(0,b.default)(L,ue),xe&&(0,R.default)(L,xe),re&&(0,k.default)(L,re),(0,v.default)(L,ee),(0,N.default)(L,ee),(0,C.default)(L,ee),(0,l.default)(L,ee),(0,g.default)(L,ee)})},function(oe,i,Z){var ne;oe.exports=(ne=Z(0),function(Y){function U(x){if(M[x])return M[x].exports;var c=M[x]={i:x,l:!1,exports:{}};return Y[x].call(c.exports,c,c.exports,U),c.l=!0,c.exports}var M={};return U.m=Y,U.c=M,U.d=function(x,c,h){U.o(x,c)||Object.defineProperty(x,c,{configurable:!1,enumerable:!0,get:h})},U.n=function(x){var c=x&&x.__esModule?function(){return x.default}:function(){return x};return U.d(c,"a",c),c},U.o=function(x,c){return Object.prototype.hasOwnProperty.call(x,c)},U.p="",U(U.s=0)}([function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var u,x=Object.assign||function(u){for(var p=1;p<arguments.length;p++){var f=arguments[p];for(var P in f)Object.prototype.hasOwnProperty.call(f,P)&&(u[P]=f[P])}return u},h=(u=M(1))&&u.__esModule?u:{default:u};U.default=h.default.plugins.add("gjs-blocks-basic",function(u){var f=x({blocks:["column1","column2","column3","column3-7","text","link","image","video","map"],flexGrid:0,stylePrefix:"",addBasicStyle:!0,category:"Basic",labelColumn1:"1 Column",labelColumn2:"2 Columns",labelColumn3:"3 Columns",labelColumn37:"2 Columns 3/7",labelText:"Text",labelLink:"Link",labelImage:"Image",labelVideo:"Video",labelMap:"Map"},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});M(2).default(u,f)})},function(Y,U){Y.exports=ne},function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var x=Object.assign||function(c){for(var h=1;h<arguments.length;h++){var u=arguments[h];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(c[p]=u[p])}return c};U.default=function(c){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=c.BlockManager,f=u.blocks,P=u.stylePrefix,w=u.flexGrid,b=u.addBasicStyle,A=P+"row",R=P+"cell",_=w?"\n    ."+A+" {\n      display: flex;\n      justify-content: flex-start;\n      align-items: stretch;\n      flex-wrap: nowrap;\n      padding: 10px;\n    }\n    @media (max-width: 768px) {\n      ."+A+" {\n        flex-wrap: wrap;\n      }\n    }":"\n    ."+A+" {\n      display: table;\n      padding: 10px;\n      width: 100%;\n    }\n    @media (max-width: 768px) {\n      ."+P+"cell, ."+P+"cell30, ."+P+"cell70 {\n        width: 100%;\n        display: block;\n      }\n    }",k=w?"\n    ."+R+" {\n      min-height: 75px;\n      flex-grow: 1;\n      flex-basis: 100%;\n    }":"\n    ."+R+" {\n      width: 8%;\n      display: table-cell;\n      height: 75px;\n    }",T="\n  ."+P+"cell30 {\n    width: 30%;\n  }",C="\n  ."+P+"cell70 {\n    width: 70%;\n  }",j={tl:0,tc:0,tr:0,cl:0,cr:0,bl:0,br:0,minDim:1},N=x({},j,{cr:1,bc:0,currentUnit:1,minDim:1,step:.2});w&&(N.keyWidth="flex-basis");var H={class:A,"data-gjs-droppable":"."+R,"data-gjs-resizable":j,"data-gjs-name":"Row"},v={class:R,"data-gjs-draggable":"."+A,"data-gjs-resizable":N,"data-gjs-name":"Cell"};w&&(v["data-gjs-unstylable"]=["width"],v["data-gjs-stylable-require"]=["flex-basis"]);var d=["."+A,"."+R];c.on("selector:add",function(K){return d.indexOf(K.getFullName())>=0&&K.set("private",1)});var l=function(K){var ee=[];for(var De in K){var fe=K[De],ce=fe instanceof Array||fe instanceof Object;fe=ce?JSON.stringify(fe):fe,ee.push(De+"="+(ce?"'"+fe+"'":'"'+fe+'"'))}return ee.length?" "+ee.join(" "):""},y=function(K){return f.indexOf(K)>=0},g=l(H),L=l(v);y("column1")&&p.add("column1",{label:u.labelColumn1,category:u.category,attributes:{class:"gjs-fonts gjs-f-b1"},content:"<div "+g+">\n        <div "+L+"></div>\n      </div>\n      "+(b?"<style>\n          "+_+"\n          "+k+"\n        </style>":"")}),y("column2")&&p.add("column2",{label:u.labelColumn2,attributes:{class:"gjs-fonts gjs-f-b2"},category:u.category,content:"<div "+g+">\n        <div "+L+"></div>\n        <div "+L+"></div>\n      </div>\n      "+(b?"<style>\n          "+_+"\n          "+k+"\n        </style>":"")}),y("column3")&&p.add("column3",{label:u.labelColumn3,category:u.category,attributes:{class:"gjs-fonts gjs-f-b3"},content:"<div "+g+">\n        <div "+L+"></div>\n        <div "+L+"></div>\n        <div "+L+"></div>\n      </div>\n      "+(b?"<style>\n          "+_+"\n          "+k+"\n        </style>":"")}),y("column3-7")&&p.add("column3-7",{label:u.labelColumn37,category:u.category,attributes:{class:"gjs-fonts gjs-f-b37"},content:"<div "+g+">\n        <div "+L+' style="'+(w?"flex-basis":"width")+': 30%;"></div>\n        <div '+L+' style="'+(w?"flex-basis":"width")+': 70%;"></div>\n      </div>\n      '+(b?"<style>\n          "+_+"\n          "+k+"\n          "+T+"\n          "+C+"\n        </style>":"")}),y("text")&&p.add("text",{label:u.labelText,category:u.category,attributes:{class:"gjs-fonts gjs-f-text"},content:{type:"text",content:"Insert your text here",style:{padding:"10px"},activeOnRender:1}}),y("link")&&p.add("link",{label:u.labelLink,category:u.category,attributes:{class:"fa fa-link"},content:{type:"link",content:"Link",style:{color:"#d983a6"}}}),y("image")&&p.add("image",{label:u.labelImage,category:u.category,attributes:{class:"gjs-fonts gjs-f-image"},content:{style:{color:"black"},type:"image",activeOnRender:1}}),y("video")&&p.add("video",{label:u.labelVideo,category:u.category,attributes:{class:"fa fa-youtube-play"},content:{type:"video",src:"img/video2.webm",style:{height:"350px",width:"615px"}}}),y("map")&&p.add("map",{label:u.labelMap,category:u.category,attributes:{class:"fa fa-map-o"},content:{type:"map",style:{height:"350px"}}})}}]))},function(oe,i,Z){var ne;oe.exports=(ne=Z(0),function(Y){function U(x){if(M[x])return M[x].exports;var c=M[x]={i:x,l:!1,exports:{}};return Y[x].call(c.exports,c,c.exports,U),c.l=!0,c.exports}var M={};return U.m=Y,U.c=M,U.d=function(x,c,h){U.o(x,c)||Object.defineProperty(x,c,{configurable:!1,enumerable:!0,get:h})},U.n=function(x){var c=x&&x.__esModule?function(){return x.default}:function(){return x};return U.d(c,"a",c),c},U.o=function(x,c){return Object.prototype.hasOwnProperty.call(x,c)},U.p="",U(U.s=1)}([function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.hNavbarRef="h-navbar",U.navbarRef="navbar",U.navbarItemsRef="navbar-items",U.menuRef="navbar-menu"},function(Y,U,M){"use strict";function x(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(U,"__esModule",{value:!0});var h=x(M(2)),p=x(M(3)),P=x(M(4)),w=M(0);U.default=h.default.plugins.add("gjs-navbar",function(b){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_={blocks:[w.hNavbarRef],defaultStyle:1,navbarClsPfx:"navbar",labelNavbar:"Navbar",labelNavbarContainer:"Navbar Container",labelMenu:"Navbar Menu",labelMenuLink:"Menu link",labelBurger:"Burger",labelBurgerLine:"Burger Line",labelNavbarBlock:"Navbar",labelNavbarCategory:"Extra",labelHome:"Home",labelAbout:"About",labelContact:"Contact"};for(var k in _)k in R||(R[k]=_[k]);(0,p.default)(b,R),(0,P.default)(b,R)})},function(Y,U){Y.exports=ne},function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var x=M(0);U.default=function(c){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=c.BlockManager,f=u.navbarClsPfx||"navbar",P=u.defaultStyle?"\n  <style>\n    ."+f+"-items-c {\n      display: inline-block;\n      float: right;\n    }\n\n    ."+f+" {\n      background-color: #222;\n      color: #ddd;\n      min-height: 50px;\n      width: 100%;\n    }\n\n    ."+f+"-container {\n      max-width: 950px;\n      margin: 0 auto;\n      width: 95%;\n    }\n\n    ."+f+'-container::after {\n      content: "";\n      clear: both;\n      display: block;\n    }\n\n    .'+f+"-brand {\n      vertical-align: top;\n      display: inline-block;\n      padding: 5px;\n      min-height: 50px;\n      min-width: 50px;\n      color: inherit;\n      text-decoration: none;\n    }\n\n    ."+f+"-menu {\n      padding: 10px 0;\n      display: block;\n      float: right;\n      margin: 0;\n    }\n\n    ."+f+"-menu-link {\n      margin: 0;\n      color: inherit;\n      text-decoration: none;\n      display: inline-block;\n      padding: 10px 15px;\n    }\n\n    ."+f+"-burger {\n      margin: 10px 0;\n      width: 45px;\n      padding: 5px 10px;\n      display: none;\n      float: right;\n      cursor: pointer;\n    }\n\n    ."+f+"-burger-line {\n      padding: 1px;\n      background-color: white;\n      margin: 5px 0;\n    }\n\n    @media (max-width: 768px) {\n      ."+f+"-burger {\n        display: block;\n      }\n\n      ."+f+"-items-c {\n        display: none;\n        width: 100%;\n      }\n\n      ."+f+"-menu {\n        width: 100%;\n      }\n\n      ."+f+"-menu-link {\n        display: block;\n      }\n    }\n  </style>\n  ":"";u.blocks.indexOf(x.hNavbarRef)>=0&&p.add(x.hNavbarRef,{label:'\n        <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n          <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n          <rect class="gjs-block-svg-path" x="15" y="10" width="5" height="1"></rect>\n          <rect class="gjs-block-svg-path" x="15" y="13" width="5" height="1"></rect>\n          <rect class="gjs-block-svg-path" x="15" y="11.5" width="5" height="1"></rect>\n        </svg>\n        <div class="gjs-block-label">'+u.labelNavbarBlock+"</div>",category:u.labelNavbarCategory,content:'\n        <div class="'+f+'" data-gjs-droppable="false" data-gjs-custom-name="'+u.labelNavbar+'" data-gjs="'+x.navbarRef+'">\n          <div class="'+f+'-container" data-gjs-droppable="false" data-gjs-draggable="false"\n            data-gjs-removable="false" data-gjs-copyable="false" data-gjs-highlightable="false"\n            data-gjs-custom-name="'+u.labelNavbarContainer+'">\n\n            <a href="/" class="'+f+'-brand" data-gjs-droppable="true"></a>\n\n            <div class="'+f+'-burger" data-gjs-type="burger-menu">\n              <div class="'+f+'-burger-line" data-gjs-custom-name="'+u.labelBurgerLine+'" data-gjs-droppable="false" data-gjs-draggable="false"></div>\n              <div class="'+f+'-burger-line" data-gjs-custom-name="'+u.labelBurgerLine+'" data-gjs-droppable="false" data-gjs-draggable="false"></div>\n              <div class="'+f+'-burger-line" data-gjs-custom-name="'+u.labelBurgerLine+'" data-gjs-droppable="false" data-gjs-draggable="false"></div>\n            </div>\n\n            <div class="'+f+'-items-c" data-gjs="'+x.navbarItemsRef+'">\n              <nav class="'+f+'-menu" data-gjs="'+x.menuRef+'" data-gjs-custom-name="'+u.labelMenu+'">\n                <a href="#" class="'+f+'-menu-link" data-gjs-custom-name="'+u.labelMenuLink+'" data-gjs-draggable="[data-gjs='+x.menuRef+']">'+u.labelHome+'</a>\n                <a href="#" class="'+f+'-menu-link" data-gjs-custom-name="'+u.labelMenuLink+'" data-gjs-draggable="[data-gjs='+x.menuRef+']">'+u.labelAbout+'</a>\n                <a href="#" class="'+f+'-menu-link" data-gjs-custom-name="'+u.labelMenuLink+'" data-gjs-draggable="[data-gjs='+x.menuRef+']">'+u.labelContact+"</a>\n              </nav>\n            </div>\n\n          </div>\n        </div>\n        "+P+"\n      "})}},function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var x=Object.assign||function(c){for(var h=1;h<arguments.length;h++){var u=arguments[h];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(c[p]=u[p])}return c};U.default=function(c){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=c.DomComponents,f=p.getType("default"),P=f.model;p.addType("burger-menu",{model:P.extend({defaults:x({},P.prototype.defaults,{"custom-name":u.labelBurger,draggable:!1,droppable:!1,copyable:!1,removable:!1,script:function(){var w,b=0,A=function(){var T,C=document.createElement("void"),j={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(T in j)if(void 0!==C.style[T])return j[T]}(),_=function(T){b=1;var C=function(T){var C=window.getComputedStyle(T),j=C.display,N=parseInt(C["max-height"]);if("none"!==j&&"0"!==N)return T.offsetHeight;T.style.height="auto",T.style.display="block",T.style.position="absolute",T.style.visibility="hidden";var H=T.offsetHeight;return T.style.height="",T.style.display="",T.style.position="",T.style.visibility="",H}(T),j=T.style;j.display="block",j.transition="max-height 0.25s ease-in-out",j.overflowY="hidden",""==j["max-height"]&&(j["max-height"]=0),0==parseInt(j["max-height"])?(j["max-height"]="0",setTimeout(function(){j["max-height"]=C+"px"},10)):j["max-height"]="0"};"gjs-collapse"in this||this.addEventListener("click",function(T){if(T.preventDefault(),!b){var j=this.closest("[data-gjs=navbar]").querySelector("[data-gjs=navbar-items]");_(j),w||(j.addEventListener(A,function(){b=0;var N=j.style;0==parseInt(N["max-height"])&&(N.display="",N["max-height"]="")}),w=1)}}),this["gjs-collapse"]=1}})},{isComponent:function(w){if(w.getAttribute&&"burger-menu"==w.getAttribute("data-gjs-type"))return{type:"burger-menu"}}}),view:f.view})}}]))},function(oe,i,Z){var ne;oe.exports=(ne=Z(0),function(Y){function U(x){if(M[x])return M[x].exports;var c=M[x]={i:x,l:!1,exports:{}};return Y[x].call(c.exports,c,c.exports,U),c.l=!0,c.exports}var M={};return U.m=Y,U.c=M,U.d=function(x,c,h){U.o(x,c)||Object.defineProperty(x,c,{configurable:!1,enumerable:!0,get:h})},U.n=function(x){var c=x&&x.__esModule?function(){return x.default}:function(){return x};return U.d(c,"a",c),c},U.o=function(x,c){return Object.prototype.hasOwnProperty.call(x,c)},U.p="",U(U.s=1)}([function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.countdownRef="countdown"},function(Y,U,M){"use strict";function x(b){return b&&b.__esModule?b:{default:b}}Object.defineProperty(U,"__esModule",{value:!0});var h=x(M(2)),p=x(M(3)),P=x(M(4)),w=M(0);U.default=h.default.plugins.add("gjs-component-countdown",function(b){var R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},_={blocks:[w.countdownRef],defaultStyle:!0,startTime:"",endText:"EXPIRED",dateInputType:"date",countdownClsPfx:"countdown",labelCountdown:"Countdown",labelCountdownCategory:"Extra",labelDays:"days",labelHours:"hours",labelMinutes:"minutes",labelSeconds:"seconds"};for(var k in _)k in R||(R[k]=_[k]);(0,p.default)(b,R),(0,P.default)(b,R)})},function(Y,U){Y.exports=ne},function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var x=Object.assign||function(c){for(var h=1;h<arguments.length;h++){var u=arguments[h];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(c[p]=u[p])}return c};U.default=function(c){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=c.DomComponents,f=p.getType("default"),w=(p.getType("text"),f.model),b=f.view,A=u.countdownClsPfx;p.addType("countdown",{model:w.extend({defaults:x({},w.prototype.defaults,{startfrom:u.startTime,endText:u.endText,droppable:!1,traits:[{label:"Start",name:"startfrom",changeProp:1,type:u.dateInputType},{label:"End text",name:"endText",changeProp:1}],script:function(){var R=new Date("{[ startfrom ]}").getTime(),_=this.querySelector("[data-js=countdown]"),k=this.querySelector("[data-js=countdown-endtext]"),T=this.querySelector("[data-js=countdown-day]"),C=this.querySelector("[data-js=countdown-hour]"),j=this.querySelector("[data-js=countdown-minute]"),N=this.querySelector("[data-js=countdown-second]"),H=this.gjs_countdown_interval;H&&H&&clearInterval(H);var v=function(y,g,L,K){T.innerHTML=y<10?"0"+y:y,C.innerHTML=g<10?"0"+g:g,j.innerHTML=L<10?"0"+L:L,N.innerHTML=K<10?"0"+K:K},d=function(){var y=(new Date).getTime(),g=R-y,L=Math.floor(g/864e5),K=Math.floor(g%864e5/36e5),ee=Math.floor(g%36e4/6e4),De=Math.floor(g%6e4/1e3);v(L,K,ee,De),g<0&&(clearInterval(l),k.innerHTML="{[ endText ]}",_.style.display="none",k.style.display="")};if(R){var l=setInterval(d,1e3);this.gjs_countdown_interval=l,k.style.display="none",_.style.display="",d()}else v(0,0,0,0)}})},{isComponent:function(R){if(R.getAttribute&&"countdown"==R.getAttribute("data-gjs-type"))return{type:"countdown"}}}),view:b.extend({init:function(){this.listenTo(this.model,"change:startfrom change:endText",this.updateScript);var R=this.model.get("components");R.length||(R.reset(),R.add('\n            <span data-js="countdown" class="'+A+'-cont">\n              <div class="'+A+'-block">\n                <div data-js="countdown-day" class="'+A+'-digit"></div>\n                <div class="'+A+'-label">'+u.labelDays+'</div>\n              </div>\n              <div class="'+A+'-block">\n                <div data-js="countdown-hour" class="'+A+'-digit"></div>\n                <div class="'+A+'-label">'+u.labelHours+'</div>\n              </div>\n              <div class="'+A+'-block">\n                <div data-js="countdown-minute" class="'+A+'-digit"></div>\n                <div class="'+A+'-label">'+u.labelMinutes+'</div>\n              </div>\n              <div class="'+A+'-block">\n                <div data-js="countdown-second" class="'+A+'-digit"></div>\n                <div class="'+A+'-label">'+u.labelSeconds+'</div>\n              </div>\n            </span>\n            <span data-js="countdown-endtext" class="'+A+'-endtext"></span>\n          '))}})})}},function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.default=function(c){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=c.BlockManager,f=u.countdownClsPfx,P=u.defaultStyle?"<style>\n    ."+f+" {\n      text-align: center;\n      font-family: Helvetica, serif;\n    }\n\n    ."+f+"-block {\n      display: inline-block;\n      margin: 0 10px;\n      padding: 10px;\n    }\n\n    ."+f+"-digit {\n      font-size: 5rem;\n    }\n\n    ."+f+"-endtext {\n      font-size: 5rem;\n    }\n\n    ."+f+"-cont,\n    ."+f+"-block {\n      display: inline-block;\n    }\n  </style>":"";u.blocks.indexOf(x.countdownRef)>=0&&p.add(x.countdownRef,{label:u.labelCountdown,category:u.labelCountdownCategory,attributes:{class:"fa fa-clock-o"},content:'\n        <div class="'+f+'" data-gjs-type="countdown"></div>\n        '+P+"\n      "})};var x=M(0)}]))},function(oe,i,Z){var ne;oe.exports=(ne=Z(0),function(Y){function U(x){if(M[x])return M[x].exports;var c=M[x]={i:x,l:!1,exports:{}};return Y[x].call(c.exports,c,c.exports,U),c.l=!0,c.exports}var M={};return U.m=Y,U.c=M,U.d=function(x,c,h){U.o(x,c)||Object.defineProperty(x,c,{configurable:!1,enumerable:!0,get:h})},U.n=function(x){var c=x&&x.__esModule?function(){return x.default}:function(){return x};return U.d(c,"a",c),c},U.o=function(x,c){return Object.prototype.hasOwnProperty.call(x,c)},U.p="",U(U.s=0)}([function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var h,c=(h=M(1))&&h.__esModule?h:{default:h};U.default=c.default.plugins.add("gjs-plugin-forms",function(h,u){var p=u||{},P=(h.getConfig(),{blocks:["form","input","textarea","select","button","label","checkbox","radio"],labelTraitMethod:"Method",labelTraitAction:"Action",labelTraitState:"State",labelTraitId:"ID",labelTraitFor:"For",labelInputName:"Input",labelTextareaName:"Textarea",labelSelectName:"Select",labelCheckboxName:"Checkbox",labelRadioName:"Radio",labelButtonName:"Button",labelTraitName:"Name",labelTraitPlaceholder:"Placeholder",labelTraitValue:"Value",labelTraitRequired:"Required",labelTraitType:"Type",labelTraitOptions:"Options",labelTraitChecked:"Checked",labelTypeText:"Text",labelTypeEmail:"Email",labelTypePassword:"Password",labelTypeNumber:"Number",labelTypeSubmit:"Submit",labelTypeReset:"Reset",labelTypeButton:"Button",labelNameLabel:"Label",labelForm:"Form",labelSelectOption:"- Select option -",labelOption:"Option",labelStateNormal:"Normal",labelStateSuccess:"Success",labelStateError:"Error"});for(var w in P)w in p||(p[w]=P[w]);M(2).default(h,p),M(3).default(h,p),M(4).default(h,p)})},function(Y,U){Y.exports=ne},function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var x=Object.assign||function(c){for(var h=1;h<arguments.length;h++){var u=arguments[h];for(var p in u)Object.prototype.hasOwnProperty.call(u,p)&&(c[p]=u[p])}return c};U.default=function(c){var u=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=c.DomComponents,f=p.getType("default"),P=p.getType("text"),w=f.model,b=f.view,A=P.model,R=P.view,_={name:"id",label:u.labelTraitId},k={name:"for",label:u.labelTraitFor},T={name:"name",label:u.labelTraitName},C={name:"placeholder",label:u.labelTraitPlaceholder},j={name:"value",label:u.labelTraitValue},N={type:"checkbox",name:"required",label:u.labelTraitRequired},H={label:u.labelTraitChecked,type:"checkbox",name:"checked",changeProp:1};p.addType("form",{model:w.extend({defaults:x({},w.prototype.defaults,{droppable:":not(form)",draggable:":not(form)",traits:[{type:"select",label:u.labelTraitMethod,name:"method",options:[{value:"post",name:"POST"},{value:"get",name:"GET"}]},{label:u.labelTraitAction,name:"action"}]}),init:function(){this.listenTo(this,"change:formState",this.updateFormState)},updateFormState:function(){switch(this.get("formState")){case"success":this.showState("success");break;case"error":this.showState("error");break;default:this.showState("normal")}},showState:function(y){var g,L,K=y||"normal";"success"==K?(g="none",L="block"):"error"==K?(g="block",L="none"):(g="none",L="none");var ee=this.getStateModel("success"),De=this.getStateModel("error"),fe=ee.getStyle(),ce=De.getStyle();fe.display=L,ce.display=g,ee.setStyle(fe),De.setStyle(ce)},getStateModel:function(y){for(var g,L=y||"success",K=this.get("components"),ee=0;ee<K.length;ee++){var De=K.models[ee];if(De.get("form-state-type")==L){g=De;break}}if(!g){var fe=formMsgSuccess;"error"==L&&(fe=formMsgError),g=K.add({"form-state-type":L,type:"text",removable:!1,copyable:!1,draggable:!1,attributes:{"data-form-state":L},content:fe})}return g}},{isComponent:function(y){if("FORM"==y.tagName)return{type:"form"}}}),view:b.extend({events:{submit:function(y){y.preventDefault()}}})}),p.addType("input",{model:w.extend({defaults:x({},w.prototype.defaults,{"custom-name":u.labelInputName,tagName:"input",draggable:"form, form *",droppable:!1,traits:[T,C,{label:u.labelTraitType,type:"select",name:"type",options:[{value:"text",name:u.labelTypeText},{value:"email",name:u.labelTypeEmail},{value:"password",name:u.labelTypePassword},{value:"number",name:u.labelTypeNumber}]},N]})},{isComponent:function(y){if("INPUT"==y.tagName)return{type:"input"}}}),view:b});var v=p.getType("input"),d=v.model;p.addType("textarea",{model:v.model.extend({defaults:x({},d.prototype.defaults,{"custom-name":u.labelTextareaName,tagName:"textarea",traits:[T,C,N]})},{isComponent:function(y){if("TEXTAREA"==y.tagName)return{type:"textarea"}}}),view:b}),p.addType("select",{model:w.extend({defaults:x({},d.prototype.defaults,{"custom-name":u.labelSelectName,tagName:"select",traits:[T,{label:u.labelTraitOptions,type:"select-options"},N]})},{isComponent:function(y){if("SELECT"==y.tagName)return{type:"select"}}}),view:f.view.extend({events:{mousedown:"handleClick"},handleClick:function(y){y.preventDefault()}})}),p.addType("checkbox",{model:w.extend({defaults:x({},d.prototype.defaults,{"custom-name":u.labelCheckboxName,copyable:!1,attributes:{type:"checkbox"},traits:[_,T,j,N,H]}),init:function(){this.listenTo(this,"change:checked",this.handleChecked)},handleChecked:function(){var y=this.get("checked"),g=this.get("attributes"),L=this.view;y?g.checked="checked":delete g.checked,L&&(L.el.checked=y),this.set("attributes",x({},g))}},{isComponent:function(y){if("INPUT"==y.tagName&&"checkbox"==y.type)return{type:"checkbox"}}}),view:b.extend({events:{click:"handleClick"},handleClick:function(y){y.preventDefault()}})});var l=p.getType("checkbox");p.addType("radio",{model:l.model.extend({defaults:x({},l.model.prototype.defaults,{"custom-name":u.labelRadioName,attributes:{type:"radio"}})},{isComponent:function(y){if("INPUT"==y.tagName&&"radio"==y.type)return{type:"radio"}}}),view:l.view}),p.addType("button",{model:w.extend({defaults:x({},d.prototype.defaults,{"custom-name":u.labelButtonName,tagName:"button",traits:[{type:"content",label:"Text"},{label:u.labelTraitType,type:"select",name:"type",options:[{value:"submit",name:u.labelTypeSubmit},{value:"reset",name:u.labelTypeReset},{value:"button",name:u.labelTypeButton}]}]})},{isComponent:function(y){if("BUTTON"==y.tagName)return{type:"button"}}}),view:b.extend({events:{click:"handleClick"},init:function(){this.listenTo(this.model,"change:content",this.updateContent)},updateContent:function(){this.el.innerHTML=this.model.get("content")},handleClick:function(y){y.preventDefault()}})}),p.addType("label",{model:A.extend({defaults:x({},A.prototype.defaults,{"custom-name":u.labelNameLabel,tagName:"label",traits:[k]})},{isComponent:function(y){if("LABEL"==y.tagName)return{type:"label"}}}),view:R})}},function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.default=function(x){var c=x.TraitManager,h=c.getType("text");c.addType("content",{events:{keyup:"onChange"},onValueChange:function(){var u=this.model;u.target.set("content",u.get("value"))},getInputEl:function(){return this.inputEl||(this.inputEl=h.prototype.getInputEl.bind(this)(),this.inputEl.value=this.target.get("content")),this.inputEl}}),c.addType("select-options",{events:{keyup:"onChange"},onValueChange:function(){for(var p=this.model.get("value").trim().split("\n"),f=[],P=0;P<p.length;P++){var b=p[P].split("::"),A={tagName:"option",attributes:{}};b[1]?(A.content=b[1],A.attributes.value=b[0]):(A.content=b[0],A.attributes.value=b[0]),f.push(A)}this.target.get("components").reset(f),this.target.view.render()},getInputEl:function(){if(!this.$input){for(var p=this.target,f=(this.model.get("name"),""),P=p.get("components"),w=0;w<P.length;w++){var b=P.models[w];f+=(b.get("attributes").value||"")+"::"+b.get("content")+"\n"}this.$input=document.createElement("textarea"),this.$input.value=f}return this.$input}})}},function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0}),U.default=function(x){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=x.BlockManager;h.blocks.indexOf("form")>=0&&u.add("form",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,5.5 C22,5.2 21.5,5 20.75,5 L3.25,5 C2.5,5 2,5.2 2,5.5 L2,8.5 C2,8.8 2.5,9 3.25,9 L20.75,9 C21.5,9 22,8.8 22,8.5 L22,5.5 Z M21,8 L3,8 L3,6 L21,6 L21,8 Z" fill-rule="nonzero"></path>\n        <path class="gjs-block-svg-path" d="M22,10.5 C22,10.2 21.5,10 20.75,10 L3.25,10 C2.5,10 2,10.2 2,10.5 L2,13.5 C2,13.8 2.5,14 3.25,14 L20.75,14 C21.5,14 22,13.8 22,13.5 L22,10.5 Z M21,13 L3,13 L3,11 L21,11 L21,13 Z" fill-rule="nonzero"></path>\n        <rect class="gjs-block-svg-path" x="2" y="15" width="10" height="3" rx="0.5"></rect>\n      </svg>\n      <div class="gjs-block-label">'+h.labelForm+"</div>",category:"Forms",content:'\n        <form class="form">\n          <div class="form-group">\n            <label class="label">Name</label>\n            <input placeholder="Type here your name" class="input"/>\n          </div>\n          <div class="form-group">\n            <label class="label">Email</label>\n            <input type="email" placeholder="Type here your email" class="input"/>\n          </div>\n          <div class="form-group">\n            <label class="label">Gender</label>\n            <input type="checkbox" class="checkbox" value="M">\n            <label class="checkbox-label">M</label>\n            <input type="checkbox" class="checkbox" value="F">\n            <label class="checkbox-label">F</label>\n          </div>\n          <div class="form-group">\n            <label class="label">Message</label>\n            <textarea class="textarea"></textarea>\n          </div>\n          <div class="form-group">\n            <button type="submit" class="button">Send</button>\n          </div>\n        </form>\n      '}),h.blocks.indexOf("input")>=0&&u.add("input",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z"></path>\n        <polygon class="gjs-block-svg-path" points="4 10 5 10 5 14 4 14"></polygon>\n      </svg>\n      <div class="gjs-block-label">'+h.labelInputName+"</div>",category:"Forms",content:'<input class="input"/>'}),h.blocks.indexOf("textarea")>=0&&u.add("textarea",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,7.5 C22,6.6 21.5,6 20.75,6 L3.25,6 C2.5,6 2,6.6 2,7.5 L2,16.5 C2,17.4 2.5,18 3.25,18 L20.75,18 C21.5,18 22,17.4 22,16.5 L22,7.5 Z M21,17 L3,17 L3,7 L21,7 L21,17 Z"></path>\n        <polygon class="gjs-block-svg-path" points="4 8 5 8 5 12 4 12"></polygon>\n        <polygon class="gjs-block-svg-path" points="19 7 20 7 20 17 19 17"></polygon>\n        <polygon class="gjs-block-svg-path" points="20 8 21 8 21 9 20 9"></polygon>\n        <polygon class="gjs-block-svg-path" points="20 15 21 15 21 16 20 16"></polygon>\n      </svg>\n      <div class="gjs-block-label">'+h.labelTextareaName+"</div>",category:"Forms",content:'<textarea class="textarea"></textarea>'}),h.blocks.indexOf("select")>=0&&u.add("select",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n        <polygon class="gjs-block-svg-path" transform="translate(18.500000, 12.000000) scale(1, -1) translate(-18.500000, -12.000000) " points="18.5 11 20 13 17 13"></polygon>\n        <rect class="gjs-block-svg-path" x="4" y="11.5" width="11" height="1"></rect>\n      </svg>\n      <div class="gjs-block-label">'+h.labelSelectName+"</div>",category:"Forms",content:'<select class="select">\n        '+(h.labelSelectOption?'<option value="">'+h.labelSelectOption+"</option>":"")+'\n        <option value="1">'+h.labelOption+" 1</option>\n        </select>"}),h.blocks.indexOf("button")>=0&&u.add("button",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,9 C22,8.4 21.5,8 20.75,8 L3.25,8 C2.5,8 2,8.4 2,9 L2,15 C2,15.6 2.5,16 3.25,16 L20.75,16 C21.5,16 22,15.6 22,15 L22,9 Z M21,15 L3,15 L3,9 L21,9 L21,15 Z" fill-rule="nonzero"></path>\n        <rect class="gjs-block-svg-path" x="4" y="11.5" width="16" height="1"></rect>\n      </svg>\n      <div class="gjs-block-label">'+h.labelButtonName+"</div>",category:"Forms",content:'<button class="button">Send</button>'}),h.blocks.indexOf("label")>=0&&u.add("label",{label:'\n      <svg class="gjs-block-svg" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">\n        <path class="gjs-block-svg-path" d="M22,11.875 C22,11.35 21.5,11 20.75,11 L3.25,11 C2.5,11 2,11.35 2,11.875 L2,17.125 C2,17.65 2.5,18 3.25,18 L20.75,18 C21.5,18 22,17.65 22,17.125 L22,11.875 Z M21,17 L3,17 L3,12 L21,12 L21,17 Z" fill-rule="nonzero"></path>\n        <rect class="gjs-block-svg-path" x="2" y="5" width="14" height="5" rx="0.5"></rect>\n        <polygon class="gjs-block-svg-path" fill-rule="nonzero" points="4 13 5 13 5 16 4 16"></polygon>\n      </svg>\n      <div class="gjs-block-label">'+h.labelNameLabel+"</div>",category:"Forms",content:'<label class="label">Label</label>'}),h.blocks.indexOf("checkbox")>=0&&u.add("checkbox",{label:h.labelCheckboxName,attributes:{class:"fa fa-check-square"},category:"Forms",content:'<input type="checkbox" class="checkbox"/>'}),h.blocks.indexOf("radio")>=0&&u.add("radio",{label:h.labelRadioName,attributes:{class:"fa fa-dot-circle-o"},category:"Forms",content:'<input type="radio" class="radio"/>'})}}]))},function(oe,i,Z){(function(ne,Y){var U;oe.exports=(U=Z(0),function(M){function x(h){if(c[h])return c[h].exports;var u=c[h]={i:h,l:!1,exports:{}};return M[h].call(u.exports,u,u.exports,x),u.l=!0,u.exports}var c={};return x.m=M,x.c=c,x.d=function(h,u,p){x.o(h,u)||Object.defineProperty(h,u,{configurable:!1,enumerable:!0,get:p})},x.n=function(h){var u=h&&h.__esModule?function(){return h.default}:function(){return h};return x.d(u,"a",u),u},x.o=function(h,u){return Object.prototype.hasOwnProperty.call(h,u)},x.p="",x(x.s=50)}([function(M,x,c){"use strict";function u(C){return C}function p(C,j){for(var N=0;N<C.length;++N)j[N]=255&C.charCodeAt(N);return j}function f(C){var j=65536,N=x.getTypeOf(C),H=!0;if("uint8array"===N?H=k.applyCanBeUsed.uint8array:"nodebuffer"===N&&(H=k.applyCanBeUsed.nodebuffer),H)for(;j>1;)try{return k.stringifyByChunk(C,N,j)}catch(v){j=Math.floor(j/2)}return k.stringifyByChar(C)}function P(C,j){for(var N=0;N<C.length;N++)j[N]=C[N];return j}var w=c(3),b=c(29),A=c(14),R=c(66),_=c(9);x.newBlob=function(C,j){x.checkSupport("blob");try{return new Blob([C],{type:j})}catch(v){try{var H=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return H.append(C),H.getBlob(j)}catch(d){throw new Error("Bug : can't construct the Blob.")}}};var k={stringifyByChunk:function(C,j,N){var H=[],v=0,d=C.length;if(d<=N)return String.fromCharCode.apply(null,C);for(;v<d;)H.push(String.fromCharCode.apply(null,"array"===j||"nodebuffer"===j?C.slice(v,Math.min(v+N,d)):C.subarray(v,Math.min(v+N,d)))),v+=N;return H.join("")},stringifyByChar:function(C){for(var j="",N=0;N<C.length;N++)j+=String.fromCharCode(C[N]);return j},applyCanBeUsed:{uint8array:function(){try{return w.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(C){return!1}}(),nodebuffer:function(){try{return w.nodebuffer&&1===String.fromCharCode.apply(null,A.allocBuffer(1)).length}catch(C){return!1}}()}};x.applyFromCharCode=f;var T={};T.string={string:u,array:function(C){return p(C,new Array(C.length))},arraybuffer:function(C){return T.string.uint8array(C).buffer},uint8array:function(C){return p(C,new Uint8Array(C.length))},nodebuffer:function(C){return p(C,A.allocBuffer(C.length))}},T.array={string:f,array:u,arraybuffer:function(C){return new Uint8Array(C).buffer},uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return A.newBufferFrom(C)}},T.arraybuffer={string:function(C){return f(new Uint8Array(C))},array:function(C){return P(new Uint8Array(C),new Array(C.byteLength))},arraybuffer:u,uint8array:function(C){return new Uint8Array(C)},nodebuffer:function(C){return A.newBufferFrom(new Uint8Array(C))}},T.uint8array={string:f,array:function(C){return P(C,new Array(C.length))},arraybuffer:function(C){return C.buffer},uint8array:u,nodebuffer:function(C){return A.newBufferFrom(C)}},T.nodebuffer={string:f,array:function(C){return P(C,new Array(C.length))},arraybuffer:function(C){return T.nodebuffer.uint8array(C).buffer},uint8array:function(C){return P(C,new Uint8Array(C.length))},nodebuffer:u},x.transformTo=function(C,j){if(j||(j=""),!C)return j;x.checkSupport(C);var N=x.getTypeOf(j);return T[N][C](j)},x.getTypeOf=function(C){return"string"==typeof C?"string":"[object Array]"===Object.prototype.toString.call(C)?"array":w.nodebuffer&&A.isBuffer(C)?"nodebuffer":w.uint8array&&C instanceof Uint8Array?"uint8array":w.arraybuffer&&C instanceof ArrayBuffer?"arraybuffer":void 0},x.checkSupport=function(C){if(!w[C.toLowerCase()])throw new Error(C+" is not supported by this platform")},x.MAX_VALUE_16BITS=65535,x.MAX_VALUE_32BITS=-1,x.pretty=function(C){var j,N,H="";for(N=0;N<(C||"").length;N++)H+="\\x"+((j=C.charCodeAt(N))<16?"0":"")+j.toString(16).toUpperCase();return H},x.delay=function(C,j,N){R(function(){C.apply(N||null,j||[])})},x.inherits=function(C,j){var N=function(){};N.prototype=j.prototype,C.prototype=new N},x.extend=function(){var C,j,N={};for(C=0;C<arguments.length;C++)for(j in arguments[C])arguments[C].hasOwnProperty(j)&&void 0===N[j]&&(N[j]=arguments[C][j]);return N},x.prepareContent=function(C,j,N,H,v){return _.Promise.resolve(j).then(function(d){return w.blob&&(d instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(d)))&&"undefined"!=typeof FileReader?new _.Promise(function(l,y){var g=new FileReader;g.onload=function(L){l(L.target.result)},g.onerror=function(L){y(L.target.error)},g.readAsArrayBuffer(d)}):d}).then(function(d){var l=x.getTypeOf(d);return l?("arraybuffer"===l?d=x.transformTo("uint8array",d):"string"===l&&(v?d=b.decode(d):N&&!0!==H&&(d=function h(C){return p(C,w.uint8array?new Uint8Array(C.length):new Array(C.length))}(d))),d):_.Promise.reject(new Error("Can't read the data of '"+C+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},function(M,x,c){"use strict";function h(u){this.name=u||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}h.prototype={push:function(u){this.emit("data",u)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(u){this.emit("error",u)}return!0},error:function(u){return!this.isFinished&&(this.isPaused?this.generatedError=u:(this.isFinished=!0,this.emit("error",u),this.previous&&this.previous.error(u),this.cleanUp()),!0)},on:function(u,p){return this._listeners[u].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(u,p){if(this._listeners[u])for(var f=0;f<this._listeners[u].length;f++)this._listeners[u][f].call(this,p)},pipe:function(u){return u.registerPrevious(this)},registerPrevious:function(u){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=u.streamInfo,this.mergeStreamInfo(),this.previous=u;var p=this;return u.on("data",function(f){p.processChunk(f)}),u.on("end",function(){p.end()}),u.on("error",function(f){p.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var u=!1;return this.generatedError&&(this.error(this.generatedError),u=!0),this.previous&&this.previous.resume(),!u},flush:function(){},processChunk:function(u){this.push(u)},withStreamInfo:function(u,p){return this.extraStreamInfo[u]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var u in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(u)&&(this.streamInfo[u]=this.extraStreamInfo[u])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var u="Worker "+this.name;return this.previous?this.previous+" -> "+u:u}},M.exports=h},function(M,x,c){"use strict";(function(h){function u(){return f.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function p(G,ae){if(u()<ae)throw new RangeError("Invalid typed array length");return f.TYPED_ARRAY_SUPPORT?(G=new Uint8Array(ae)).__proto__=f.prototype:(null===G&&(G=new f(ae)),G.length=ae),G}function f(G,ae,Oe){if(!(f.TYPED_ARRAY_SUPPORT||this instanceof f))return new f(G,ae,Oe);if("number"==typeof G){if("string"==typeof ae)throw new Error("If encoding is specified then the first argument must be a string");return A(this,G)}return P(this,G,ae,Oe)}function P(G,ae,Oe,ze){if("number"==typeof ae)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&ae instanceof ArrayBuffer?function k(G,ae,Oe,ze){if(Oe<0||ae.byteLength<Oe)throw new RangeError("'offset' is out of bounds");if(ae.byteLength<Oe+(ze||0))throw new RangeError("'length' is out of bounds");return ae=void 0===Oe&&void 0===ze?new Uint8Array(ae):void 0===ze?new Uint8Array(ae,Oe):new Uint8Array(ae,Oe,ze),f.TYPED_ARRAY_SUPPORT?(G=ae).__proto__=f.prototype:G=_(G,ae),G}(G,ae,Oe,ze):"string"==typeof ae?function R(G,ae,Oe){if("string"==typeof Oe&&""!==Oe||(Oe="utf8"),!f.isEncoding(Oe))throw new TypeError('"encoding" must be a valid string encoding');var ze=0|N(ae,Oe),qe=(G=p(G,ze)).write(ae,Oe);return qe!==ze&&(G=G.slice(0,qe)),G}(G,ae,Oe):function T(G,ae){if(f.isBuffer(ae)){var Oe=0|C(ae.length);return 0===(G=p(G,Oe)).length||ae.copy(G,0,0,Oe),G}if(ae){if("undefined"!=typeof ArrayBuffer&&ae.buffer instanceof ArrayBuffer||"length"in ae)return"number"!=typeof ae.length||function de(G){return G!=G}(ae.length)?p(G,0):_(G,ae);if("Buffer"===ae.type&&He(ae.data))return _(G,ae.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(G,ae)}function w(G){if("number"!=typeof G)throw new TypeError('"size" argument must be a number');if(G<0)throw new RangeError('"size" argument must not be negative')}function A(G,ae){if(w(ae),G=p(G,ae<0?0:0|C(ae)),!f.TYPED_ARRAY_SUPPORT)for(var Oe=0;Oe<ae;++Oe)G[Oe]=0;return G}function _(G,ae){var Oe=ae.length<0?0:0|C(ae.length);G=p(G,Oe);for(var ze=0;ze<Oe;ze+=1)G[ze]=255&ae[ze];return G}function C(G){if(G>=u())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u().toString(16)+" bytes");return 0|G}function N(G,ae){if(f.isBuffer(G))return G.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(G)||G instanceof ArrayBuffer))return G.byteLength;"string"!=typeof G&&(G=""+G);var Oe=G.length;if(0===Oe)return 0;for(var ze=!1;;)switch(ae){case"ascii":case"latin1":case"binary":return Oe;case"utf8":case"utf-8":case void 0:return E(G).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*Oe;case"hex":return Oe>>>1;case"base64":return Ee(G).length;default:if(ze)return E(G).length;ae=(""+ae).toLowerCase(),ze=!0}}function H(G,ae,Oe){var ze=!1;if((void 0===ae||ae<0)&&(ae=0),ae>this.length||((void 0===Oe||Oe>this.length)&&(Oe=this.length),Oe<=0)||(Oe>>>=0)<=(ae>>>=0))return"";for(G||(G="utf8");;)switch(G){case"hex":return ue(this,ae,Oe);case"utf8":case"utf-8":return ce(this,ae,Oe);case"ascii":return Se(this,ae,Oe);case"latin1":case"binary":return se(this,ae,Oe);case"base64":return fe(this,ae,Oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return xe(this,ae,Oe);default:if(ze)throw new TypeError("Unknown encoding: "+G);G=(G+"").toLowerCase(),ze=!0}}function v(G,ae,Oe){var ze=G[ae];G[ae]=G[Oe],G[Oe]=ze}function d(G,ae,Oe,ze,qe){if(0===G.length)return-1;if("string"==typeof Oe?(ze=Oe,Oe=0):Oe>2147483647?Oe=2147483647:Oe<-2147483648&&(Oe=-2147483648),Oe=+Oe,isNaN(Oe)&&(Oe=qe?0:G.length-1),Oe<0&&(Oe=G.length+Oe),Oe>=G.length){if(qe)return-1;Oe=G.length-1}else if(Oe<0){if(!qe)return-1;Oe=0}if("string"==typeof ae&&(ae=f.from(ae,ze)),f.isBuffer(ae))return 0===ae.length?-1:l(G,ae,Oe,ze,qe);if("number"==typeof ae)return ae&=255,f.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?qe?Uint8Array.prototype.indexOf.call(G,ae,Oe):Uint8Array.prototype.lastIndexOf.call(G,ae,Oe):l(G,[ae],Oe,ze,qe);throw new TypeError("val must be string, number or Buffer")}function l(G,ae,Oe,ze,qe){function Je(Ve,tt){return 1===ot?Ve[tt]:Ve.readUInt16BE(tt*ot)}var Ae,ot=1,X=G.length,ke=ae.length;if(void 0!==ze&&("ucs2"===(ze=String(ze).toLowerCase())||"ucs-2"===ze||"utf16le"===ze||"utf-16le"===ze)){if(G.length<2||ae.length<2)return-1;ot=2,X/=2,ke/=2,Oe/=2}if(qe){var Ne=-1;for(Ae=Oe;Ae<X;Ae++)if(Je(G,Ae)===Je(ae,-1===Ne?0:Ae-Ne)){if(-1===Ne&&(Ne=Ae),Ae-Ne+1===ke)return Ne*ot}else-1!==Ne&&(Ae-=Ae-Ne),Ne=-1}else for(Oe+ke>X&&(Oe=X-ke),Ae=Oe;Ae>=0;Ae--){for(var he=!0,Be=0;Be<ke;Be++)if(Je(G,Ae+Be)!==Je(ae,Be)){he=!1;break}if(he)return Ae}return-1}function y(G,ae,Oe,ze){Oe=Number(Oe)||0;var qe=G.length-Oe;ze?(ze=Number(ze))>qe&&(ze=qe):ze=qe;var Je=ae.length;if(Je%2!=0)throw new TypeError("Invalid hex string");ze>Je/2&&(ze=Je/2);for(var ot=0;ot<ze;++ot){var X=parseInt(ae.substr(2*ot,2),16);if(isNaN(X))return ot;G[Oe+ot]=X}return ot}function g(G,ae,Oe,ze){return be(E(ae,G.length-Oe),G,Oe,ze)}function L(G,ae,Oe,ze){return be(function W(G){for(var ae=[],Oe=0;Oe<G.length;++Oe)ae.push(255&G.charCodeAt(Oe));return ae}(ae),G,Oe,ze)}function K(G,ae,Oe,ze){return L(G,ae,Oe,ze)}function ee(G,ae,Oe,ze){return be(Ee(ae),G,Oe,ze)}function De(G,ae,Oe,ze){return be(function pe(G,ae){for(var Oe,ze,Je=[],ot=0;ot<G.length&&!((ae-=2)<0);++ot)ze=(Oe=G.charCodeAt(ot))>>8,Je.push(Oe%256),Je.push(ze);return Je}(ae,G.length-Oe),G,Oe,ze)}function fe(G,ae,Oe){return _e.fromByteArray(0===ae&&Oe===G.length?G:G.slice(ae,Oe))}function ce(G,ae,Oe){Oe=Math.min(G.length,Oe);for(var ze=[],qe=ae;qe<Oe;){var ke,Ae,Ne,he,Je=G[qe],ot=null,X=Je>239?4:Je>223?3:Je>191?2:1;if(qe+X<=Oe)switch(X){case 1:Je<128&&(ot=Je);break;case 2:128==(192&(ke=G[qe+1]))&&(he=(31&Je)<<6|63&ke)>127&&(ot=he);break;case 3:Ae=G[qe+2],128==(192&(ke=G[qe+1]))&&128==(192&Ae)&&(he=(15&Je)<<12|(63&ke)<<6|63&Ae)>2047&&(he<55296||he>57343)&&(ot=he);break;case 4:Ae=G[qe+2],Ne=G[qe+3],128==(192&(ke=G[qe+1]))&&128==(192&Ae)&&128==(192&Ne)&&(he=(15&Je)<<18|(63&ke)<<12|(63&Ae)<<6|63&Ne)>65535&&he<1114112&&(ot=he)}null===ot?(ot=65533,X=1):ot>65535&&(ze.push((ot-=65536)>>>10&1023|55296),ot=56320|1023&ot),ze.push(ot),qe+=X}return function Ce(G){var ae=G.length;if(ae<=ut)return String.fromCharCode.apply(String,G);for(var Oe="",ze=0;ze<ae;)Oe+=String.fromCharCode.apply(String,G.slice(ze,ze+=ut));return Oe}(ze)}function Se(G,ae,Oe){var ze="";Oe=Math.min(G.length,Oe);for(var qe=ae;qe<Oe;++qe)ze+=String.fromCharCode(127&G[qe]);return ze}function se(G,ae,Oe){var ze="";Oe=Math.min(G.length,Oe);for(var qe=ae;qe<Oe;++qe)ze+=String.fromCharCode(G[qe]);return ze}function ue(G,ae,Oe){var ze=G.length;(!ae||ae<0)&&(ae=0),(!Oe||Oe<0||Oe>ze)&&(Oe=ze);for(var qe="",Je=ae;Je<Oe;++Je)qe+=s(G[Je]);return qe}function xe(G,ae,Oe){for(var ze=G.slice(ae,Oe),qe="",Je=0;Je<ze.length;Je+=2)qe+=String.fromCharCode(ze[Je]+256*ze[Je+1]);return qe}function re(G,ae,Oe){if(G%1!=0||G<0)throw new RangeError("offset is not uint");if(G+ae>Oe)throw new RangeError("Trying to access beyond buffer length")}function J(G,ae,Oe,ze,qe,Je){if(!f.isBuffer(G))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae>qe||ae<Je)throw new RangeError('"value" argument is out of bounds');if(Oe+ze>G.length)throw new RangeError("Index out of range")}function $(G,ae,Oe,ze){ae<0&&(ae=65535+ae+1);for(var qe=0,Je=Math.min(G.length-Oe,2);qe<Je;++qe)G[Oe+qe]=(ae&255<<8*(ze?qe:1-qe))>>>8*(ze?qe:1-qe)}function V(G,ae,Oe,ze){ae<0&&(ae=4294967295+ae+1);for(var qe=0,Je=Math.min(G.length-Oe,4);qe<Je;++qe)G[Oe+qe]=ae>>>8*(ze?qe:3-qe)&255}function S(G,ae,Oe,ze,qe,Je){if(Oe+ze>G.length)throw new RangeError("Index out of range");if(Oe<0)throw new RangeError("Index out of range")}function O(G,ae,Oe,ze,qe){return qe||S(G,0,Oe,4),Pe.write(G,ae,Oe,ze,23,4),Oe+4}function z(G,ae,Oe,ze,qe){return qe||S(G,0,Oe,8),Pe.write(G,ae,Oe,ze,52,8),Oe+8}function s(G){return G<16?"0"+G.toString(16):G.toString(16)}function E(G,ae){ae=ae||1/0;for(var Oe,ze=G.length,qe=null,Je=[],ot=0;ot<ze;++ot){if((Oe=G.charCodeAt(ot))>55295&&Oe<57344){if(!qe){if(Oe>56319){(ae-=3)>-1&&Je.push(239,191,189);continue}if(ot+1===ze){(ae-=3)>-1&&Je.push(239,191,189);continue}qe=Oe;continue}if(Oe<56320){(ae-=3)>-1&&Je.push(239,191,189),qe=Oe;continue}Oe=65536+(qe-55296<<10|Oe-56320)}else qe&&(ae-=3)>-1&&Je.push(239,191,189);if(qe=null,Oe<128){if((ae-=1)<0)break;Je.push(Oe)}else if(Oe<2048){if((ae-=2)<0)break;Je.push(Oe>>6|192,63&Oe|128)}else if(Oe<65536){if((ae-=3)<0)break;Je.push(Oe>>12|224,Oe>>6&63|128,63&Oe|128)}else{if(!(Oe<1114112))throw new Error("Invalid code point");if((ae-=4)<0)break;Je.push(Oe>>18|240,Oe>>12&63|128,Oe>>6&63|128,63&Oe|128)}}return Je}function Ee(G){return _e.toByteArray(function n(G){if((G=function m(G){return G.trim?G.trim():G.replace(/^\s+|\s+$/g,"")}(G).replace(rt,"")).length<2)return"";for(;G.length%4!=0;)G+="=";return G}(G))}function be(G,ae,Oe,ze){for(var qe=0;qe<ze&&!(qe+Oe>=ae.length||qe>=G.length);++qe)ae[qe+Oe]=G[qe];return qe}var _e=c(54),Pe=c(55),He=c(24);x.Buffer=f,x.SlowBuffer=function j(G){return+G!=G&&(G=0),f.alloc(+G)},x.INSPECT_MAX_BYTES=50,f.TYPED_ARRAY_SUPPORT=void 0!==h.TYPED_ARRAY_SUPPORT?h.TYPED_ARRAY_SUPPORT:function(){try{var G=new Uint8Array(1);return G.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===G.foo()&&"function"==typeof G.subarray&&0===G.subarray(1,1).byteLength}catch(ae){return!1}}(),x.kMaxLength=u(),f.poolSize=8192,f._augment=function(G){return G.__proto__=f.prototype,G},f.from=function(G,ae,Oe){return P(null,G,ae,Oe)},f.TYPED_ARRAY_SUPPORT&&(f.prototype.__proto__=Uint8Array.prototype,f.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&f[Symbol.species]===f&&Object.defineProperty(f,Symbol.species,{value:null,configurable:!0})),f.alloc=function(G,ae,Oe){return function b(G,ae,Oe,ze){return w(ae),ae<=0?p(G,ae):void 0!==Oe?"string"==typeof ze?p(G,ae).fill(Oe,ze):p(G,ae).fill(Oe):p(G,ae)}(null,G,ae,Oe)},f.allocUnsafe=function(G){return A(null,G)},f.allocUnsafeSlow=function(G){return A(null,G)},f.isBuffer=function(G){return!(null==G||!G._isBuffer)},f.compare=function(G,ae){if(!f.isBuffer(G)||!f.isBuffer(ae))throw new TypeError("Arguments must be Buffers");if(G===ae)return 0;for(var Oe=G.length,ze=ae.length,qe=0,Je=Math.min(Oe,ze);qe<Je;++qe)if(G[qe]!==ae[qe]){Oe=G[qe],ze=ae[qe];break}return Oe<ze?-1:ze<Oe?1:0},f.isEncoding=function(G){switch(String(G).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(G,ae){if(!He(G))throw new TypeError('"list" argument must be an Array of Buffers');if(0===G.length)return f.alloc(0);var Oe;if(void 0===ae)for(ae=0,Oe=0;Oe<G.length;++Oe)ae+=G[Oe].length;var ze=f.allocUnsafe(ae),qe=0;for(Oe=0;Oe<G.length;++Oe){var Je=G[Oe];if(!f.isBuffer(Je))throw new TypeError('"list" argument must be an Array of Buffers');Je.copy(ze,qe),qe+=Je.length}return ze},f.byteLength=N,f.prototype._isBuffer=!0,f.prototype.swap16=function(){var G=this.length;if(G%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var ae=0;ae<G;ae+=2)v(this,ae,ae+1);return this},f.prototype.swap32=function(){var G=this.length;if(G%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var ae=0;ae<G;ae+=4)v(this,ae,ae+3),v(this,ae+1,ae+2);return this},f.prototype.swap64=function(){var G=this.length;if(G%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var ae=0;ae<G;ae+=8)v(this,ae,ae+7),v(this,ae+1,ae+6),v(this,ae+2,ae+5),v(this,ae+3,ae+4);return this},f.prototype.toString=function(){var G=0|this.length;return 0===G?"":0===arguments.length?ce(this,0,G):H.apply(this,arguments)},f.prototype.equals=function(G){if(!f.isBuffer(G))throw new TypeError("Argument must be a Buffer");return this===G||0===f.compare(this,G)},f.prototype.inspect=function(){var G="",ae=x.INSPECT_MAX_BYTES;return this.length>0&&(G=this.toString("hex",0,ae).match(/.{2}/g).join(" "),this.length>ae&&(G+=" ... ")),"<Buffer "+G+">"},f.prototype.compare=function(G,ae,Oe,ze,qe){if(!f.isBuffer(G))throw new TypeError("Argument must be a Buffer");if(void 0===ae&&(ae=0),void 0===Oe&&(Oe=G?G.length:0),void 0===ze&&(ze=0),void 0===qe&&(qe=this.length),ae<0||Oe>G.length||ze<0||qe>this.length)throw new RangeError("out of range index");if(ze>=qe&&ae>=Oe)return 0;if(ze>=qe)return-1;if(ae>=Oe)return 1;if(this===G)return 0;for(var Je=(qe>>>=0)-(ze>>>=0),ot=(Oe>>>=0)-(ae>>>=0),X=Math.min(Je,ot),ke=this.slice(ze,qe),Ae=G.slice(ae,Oe),Ne=0;Ne<X;++Ne)if(ke[Ne]!==Ae[Ne]){Je=ke[Ne],ot=Ae[Ne];break}return Je<ot?-1:ot<Je?1:0},f.prototype.includes=function(G,ae,Oe){return-1!==this.indexOf(G,ae,Oe)},f.prototype.indexOf=function(G,ae,Oe){return d(this,G,ae,Oe,!0)},f.prototype.lastIndexOf=function(G,ae,Oe){return d(this,G,ae,Oe,!1)},f.prototype.write=function(G,ae,Oe,ze){if(void 0===ae)ze="utf8",Oe=this.length,ae=0;else if(void 0===Oe&&"string"==typeof ae)ze=ae,Oe=this.length,ae=0;else{if(!isFinite(ae))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");ae|=0,isFinite(Oe)?(Oe|=0,void 0===ze&&(ze="utf8")):(ze=Oe,Oe=void 0)}var qe=this.length-ae;if((void 0===Oe||Oe>qe)&&(Oe=qe),G.length>0&&(Oe<0||ae<0)||ae>this.length)throw new RangeError("Attempt to write outside buffer bounds");ze||(ze="utf8");for(var Je=!1;;)switch(ze){case"hex":return y(this,G,ae,Oe);case"utf8":case"utf-8":return g(this,G,ae,Oe);case"ascii":return L(this,G,ae,Oe);case"latin1":case"binary":return K(this,G,ae,Oe);case"base64":return ee(this,G,ae,Oe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return De(this,G,ae,Oe);default:if(Je)throw new TypeError("Unknown encoding: "+ze);ze=(""+ze).toLowerCase(),Je=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var ut=4096;f.prototype.slice=function(G,ae){var ze,Oe=this.length;if((G=~~G)<0?(G+=Oe)<0&&(G=0):G>Oe&&(G=Oe),(ae=void 0===ae?Oe:~~ae)<0?(ae+=Oe)<0&&(ae=0):ae>Oe&&(ae=Oe),ae<G&&(ae=G),f.TYPED_ARRAY_SUPPORT)(ze=this.subarray(G,ae)).__proto__=f.prototype;else{var qe=ae-G;ze=new f(qe,void 0);for(var Je=0;Je<qe;++Je)ze[Je]=this[Je+G]}return ze},f.prototype.readUIntLE=function(G,ae,Oe){G|=0,ae|=0,Oe||re(G,ae,this.length);for(var ze=this[G],qe=1,Je=0;++Je<ae&&(qe*=256);)ze+=this[G+Je]*qe;return ze},f.prototype.readUIntBE=function(G,ae,Oe){G|=0,ae|=0,Oe||re(G,ae,this.length);for(var ze=this[G+--ae],qe=1;ae>0&&(qe*=256);)ze+=this[G+--ae]*qe;return ze},f.prototype.readUInt8=function(G,ae){return ae||re(G,1,this.length),this[G]},f.prototype.readUInt16LE=function(G,ae){return ae||re(G,2,this.length),this[G]|this[G+1]<<8},f.prototype.readUInt16BE=function(G,ae){return ae||re(G,2,this.length),this[G]<<8|this[G+1]},f.prototype.readUInt32LE=function(G,ae){return ae||re(G,4,this.length),(this[G]|this[G+1]<<8|this[G+2]<<16)+16777216*this[G+3]},f.prototype.readUInt32BE=function(G,ae){return ae||re(G,4,this.length),16777216*this[G]+(this[G+1]<<16|this[G+2]<<8|this[G+3])},f.prototype.readIntLE=function(G,ae,Oe){G|=0,ae|=0,Oe||re(G,ae,this.length);for(var ze=this[G],qe=1,Je=0;++Je<ae&&(qe*=256);)ze+=this[G+Je]*qe;return ze>=(qe*=128)&&(ze-=Math.pow(2,8*ae)),ze},f.prototype.readIntBE=function(G,ae,Oe){G|=0,ae|=0,Oe||re(G,ae,this.length);for(var ze=ae,qe=1,Je=this[G+--ze];ze>0&&(qe*=256);)Je+=this[G+--ze]*qe;return Je>=(qe*=128)&&(Je-=Math.pow(2,8*ae)),Je},f.prototype.readInt8=function(G,ae){return ae||re(G,1,this.length),128&this[G]?-1*(255-this[G]+1):this[G]},f.prototype.readInt16LE=function(G,ae){ae||re(G,2,this.length);var Oe=this[G]|this[G+1]<<8;return 32768&Oe?4294901760|Oe:Oe},f.prototype.readInt16BE=function(G,ae){ae||re(G,2,this.length);var Oe=this[G+1]|this[G]<<8;return 32768&Oe?4294901760|Oe:Oe},f.prototype.readInt32LE=function(G,ae){return ae||re(G,4,this.length),this[G]|this[G+1]<<8|this[G+2]<<16|this[G+3]<<24},f.prototype.readInt32BE=function(G,ae){return ae||re(G,4,this.length),this[G]<<24|this[G+1]<<16|this[G+2]<<8|this[G+3]},f.prototype.readFloatLE=function(G,ae){return ae||re(G,4,this.length),Pe.read(this,G,!0,23,4)},f.prototype.readFloatBE=function(G,ae){return ae||re(G,4,this.length),Pe.read(this,G,!1,23,4)},f.prototype.readDoubleLE=function(G,ae){return ae||re(G,8,this.length),Pe.read(this,G,!0,52,8)},f.prototype.readDoubleBE=function(G,ae){return ae||re(G,8,this.length),Pe.read(this,G,!1,52,8)},f.prototype.writeUIntLE=function(G,ae,Oe,ze){G=+G,ae|=0,Oe|=0,ze||J(this,G,ae,Oe,Math.pow(2,8*Oe)-1,0);var qe=1,Je=0;for(this[ae]=255&G;++Je<Oe&&(qe*=256);)this[ae+Je]=G/qe&255;return ae+Oe},f.prototype.writeUIntBE=function(G,ae,Oe,ze){G=+G,ae|=0,Oe|=0,ze||J(this,G,ae,Oe,Math.pow(2,8*Oe)-1,0);var qe=Oe-1,Je=1;for(this[ae+qe]=255&G;--qe>=0&&(Je*=256);)this[ae+qe]=G/Je&255;return ae+Oe},f.prototype.writeUInt8=function(G,ae,Oe){return G=+G,ae|=0,Oe||J(this,G,ae,1,255,0),f.TYPED_ARRAY_SUPPORT||(G=Math.floor(G)),this[ae]=255&G,ae+1},f.prototype.writeUInt16LE=function(G,ae,Oe){return G=+G,ae|=0,Oe||J(this,G,ae,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[ae]=255&G,this[ae+1]=G>>>8):$(this,G,ae,!0),ae+2},f.prototype.writeUInt16BE=function(G,ae,Oe){return G=+G,ae|=0,Oe||J(this,G,ae,2,65535,0),f.TYPED_ARRAY_SUPPORT?(this[ae]=G>>>8,this[ae+1]=255&G):$(this,G,ae,!1),ae+2},f.prototype.writeUInt32LE=function(G,ae,Oe){return G=+G,ae|=0,Oe||J(this,G,ae,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[ae+3]=G>>>24,this[ae+2]=G>>>16,this[ae+1]=G>>>8,this[ae]=255&G):V(this,G,ae,!0),ae+4},f.prototype.writeUInt32BE=function(G,ae,Oe){return G=+G,ae|=0,Oe||J(this,G,ae,4,4294967295,0),f.TYPED_ARRAY_SUPPORT?(this[ae]=G>>>24,this[ae+1]=G>>>16,this[ae+2]=G>>>8,this[ae+3]=255&G):V(this,G,ae,!1),ae+4},f.prototype.writeIntLE=function(G,ae,Oe,ze){if(G=+G,ae|=0,!ze){var qe=Math.pow(2,8*Oe-1);J(this,G,ae,Oe,qe-1,-qe)}var Je=0,ot=1,X=0;for(this[ae]=255&G;++Je<Oe&&(ot*=256);)G<0&&0===X&&0!==this[ae+Je-1]&&(X=1),this[ae+Je]=(G/ot>>0)-X&255;return ae+Oe},f.prototype.writeIntBE=function(G,ae,Oe,ze){if(G=+G,ae|=0,!ze){var qe=Math.pow(2,8*Oe-1);J(this,G,ae,Oe,qe-1,-qe)}var Je=Oe-1,ot=1,X=0;for(this[ae+Je]=255&G;--Je>=0&&(ot*=256);)G<0&&0===X&&0!==this[ae+Je+1]&&(X=1),this[ae+Je]=(G/ot>>0)-X&255;return ae+Oe},f.prototype.writeInt8=function(G,ae,Oe){return G=+G,ae|=0,Oe||J(this,G,ae,1,127,-128),f.TYPED_ARRAY_SUPPORT||(G=Math.floor(G)),G<0&&(G=255+G+1),this[ae]=255&G,ae+1},f.prototype.writeInt16LE=function(G,ae,Oe){return G=+G,ae|=0,Oe||J(this,G,ae,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[ae]=255&G,this[ae+1]=G>>>8):$(this,G,ae,!0),ae+2},f.prototype.writeInt16BE=function(G,ae,Oe){return G=+G,ae|=0,Oe||J(this,G,ae,2,32767,-32768),f.TYPED_ARRAY_SUPPORT?(this[ae]=G>>>8,this[ae+1]=255&G):$(this,G,ae,!1),ae+2},f.prototype.writeInt32LE=function(G,ae,Oe){return G=+G,ae|=0,Oe||J(this,G,ae,4,2147483647,-2147483648),f.TYPED_ARRAY_SUPPORT?(this[ae]=255&G,this[ae+1]=G>>>8,this[ae+2]=G>>>16,this[ae+3]=G>>>24):V(this,G,ae,!0),ae+4},f.prototype.writeInt32BE=function(G,ae,Oe){return G=+G,ae|=0,Oe||J(this,G,ae,4,2147483647,-2147483648),G<0&&(G=4294967295+G+1),f.TYPED_ARRAY_SUPPORT?(this[ae]=G>>>24,this[ae+1]=G>>>16,this[ae+2]=G>>>8,this[ae+3]=255&G):V(this,G,ae,!1),ae+4},f.prototype.writeFloatLE=function(G,ae,Oe){return O(this,G,ae,!0,Oe)},f.prototype.writeFloatBE=function(G,ae,Oe){return O(this,G,ae,!1,Oe)},f.prototype.writeDoubleLE=function(G,ae,Oe){return z(this,G,ae,!0,Oe)},f.prototype.writeDoubleBE=function(G,ae,Oe){return z(this,G,ae,!1,Oe)},f.prototype.copy=function(G,ae,Oe,ze){if(Oe||(Oe=0),ze||0===ze||(ze=this.length),ae>=G.length&&(ae=G.length),ae||(ae=0),ze>0&&ze<Oe&&(ze=Oe),ze===Oe||0===G.length||0===this.length)return 0;if(ae<0)throw new RangeError("targetStart out of bounds");if(Oe<0||Oe>=this.length)throw new RangeError("sourceStart out of bounds");if(ze<0)throw new RangeError("sourceEnd out of bounds");ze>this.length&&(ze=this.length),G.length-ae<ze-Oe&&(ze=G.length-ae+Oe);var qe,Je=ze-Oe;if(this===G&&Oe<ae&&ae<ze)for(qe=Je-1;qe>=0;--qe)G[qe+ae]=this[qe+Oe];else if(Je<1e3||!f.TYPED_ARRAY_SUPPORT)for(qe=0;qe<Je;++qe)G[qe+ae]=this[qe+Oe];else Uint8Array.prototype.set.call(G,this.subarray(Oe,Oe+Je),ae);return Je},f.prototype.fill=function(G,ae,Oe,ze){if("string"==typeof G){if("string"==typeof ae?(ze=ae,ae=0,Oe=this.length):"string"==typeof Oe&&(ze=Oe,Oe=this.length),1===G.length){var qe=G.charCodeAt(0);qe<256&&(G=qe)}if(void 0!==ze&&"string"!=typeof ze)throw new TypeError("encoding must be a string");if("string"==typeof ze&&!f.isEncoding(ze))throw new TypeError("Unknown encoding: "+ze)}else"number"==typeof G&&(G&=255);if(ae<0||this.length<ae||this.length<Oe)throw new RangeError("Out of range index");if(Oe<=ae)return this;var Je;if(ae>>>=0,Oe=void 0===Oe?this.length:Oe>>>0,G||(G=0),"number"==typeof G)for(Je=ae;Je<Oe;++Je)this[Je]=G;else{var ot=f.isBuffer(G)?G:E(new f(G,ze).toString()),X=ot.length;for(Je=0;Je<Oe-ae;++Je)this[Je+ae]=ot[Je%X]}return this};var rt=/[^+\/0-9A-Za-z-_]/g}).call(x,c(10))},function(M,x,c){"use strict";(function(h){if(x.base64=!0,x.array=!0,x.string=!0,x.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,x.nodebuffer=void 0!==h,x.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)x.blob=!1;else{var u=new ArrayBuffer(0);try{x.blob=0===new Blob([u],{type:"application/zip"}).size}catch(P){try{var f=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);f.append(u),x.blob=0===f.getBlob("application/zip").size}catch(w){x.blob=!1}}}try{x.nodestream=!!c(25).Readable}catch(P){x.nodestream=!1}}).call(x,c(2).Buffer)},function(M,x,c){"use strict";function h(P,w){return Object.prototype.hasOwnProperty.call(P,w)}var u="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;x.assign=function(P){for(var w=Array.prototype.slice.call(arguments,1);w.length;){var b=w.shift();if(b){if("object"!=typeof b)throw new TypeError(b+"must be non-object");for(var A in b)h(b,A)&&(P[A]=b[A])}}return P},x.shrinkBuf=function(P,w){return P.length===w?P:P.subarray?P.subarray(0,w):(P.length=w,P)};var p={arraySet:function(P,w,b,A,R){if(w.subarray&&P.subarray)P.set(w.subarray(b,b+A),R);else for(var _=0;_<A;_++)P[R+_]=w[b+_]},flattenChunks:function(P){var w,b,A,R,_,k;for(A=0,w=0,b=P.length;w<b;w++)A+=P[w].length;for(k=new Uint8Array(A),R=0,w=0,b=P.length;w<b;w++)k.set(_=P[w],R),R+=_.length;return k}},f={arraySet:function(P,w,b,A,R){for(var _=0;_<A;_++)P[R+_]=w[b+_]},flattenChunks:function(P){return[].concat.apply([],P)}};x.setTyped=function(P){P?(x.Buf8=Uint8Array,x.Buf16=Uint16Array,x.Buf32=Int32Array,x.assign(x,p)):(x.Buf8=Array,x.Buf16=Array,x.Buf32=Array,x.assign(x,f))},x.setTyped(u)},function(M,x,c){"use strict";function h(T){if(!(this instanceof h))return new h(T);b.call(this,T),A.call(this,T),T&&!1===T.readable&&(this.readable=!1),T&&!1===T.writable&&(this.writable=!1),this.allowHalfOpen=!0,T&&!1===T.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",u)}function u(){this.allowHalfOpen||this._writableState.ended||P(p,this)}function p(T){T.end()}var f=Object.keys||function(T){var C=[];for(var j in T)C.push(j);return C};M.exports=h;var P=c(16),w=c(8);w.inherits=c(7);var b=c(26),A=c(17);w.inherits(h,b);for(var R=f(A.prototype),_=0;_<R.length;_++){var k=R[_];h.prototype[k]||(h.prototype[k]=A.prototype[k])}},function(M,x,c){"use strict";function h(){w.call(this,"utf-8 decode"),this.leftOver=null}function u(){w.call(this,"utf-8 encode")}for(var p=c(0),f=c(3),P=c(14),w=c(1),b=new Array(256),A=0;A<256;A++)b[A]=A>=252?6:A>=248?5:A>=240?4:A>=224?3:A>=192?2:1;b[254]=b[254]=1;x.utf8encode=function(T){return f.nodebuffer?P.newBufferFrom(T,"utf-8"):function(T){var C,j,N,H,v,d=T.length,l=0;for(H=0;H<d;H++)55296==(64512&(j=T.charCodeAt(H)))&&H+1<d&&56320==(64512&(N=T.charCodeAt(H+1)))&&(j=65536+(j-55296<<10)+(N-56320),H++),l+=j<128?1:j<2048?2:j<65536?3:4;for(C=f.uint8array?new Uint8Array(l):new Array(l),v=0,H=0;v<l;H++)55296==(64512&(j=T.charCodeAt(H)))&&H+1<d&&56320==(64512&(N=T.charCodeAt(H+1)))&&(j=65536+(j-55296<<10)+(N-56320),H++),j<128?C[v++]=j:j<2048?(C[v++]=192|j>>>6,C[v++]=128|63&j):j<65536?(C[v++]=224|j>>>12,C[v++]=128|j>>>6&63,C[v++]=128|63&j):(C[v++]=240|j>>>18,C[v++]=128|j>>>12&63,C[v++]=128|j>>>6&63,C[v++]=128|63&j);return C}(T)},x.utf8decode=function(T){return f.nodebuffer?p.transformTo("nodebuffer",T).toString("utf-8"):function(T){var C,j,N,H,v=T.length,d=new Array(2*v);for(j=0,C=0;C<v;)if((N=T[C++])<128)d[j++]=N;else if((H=b[N])>4)d[j++]=65533,C+=H-1;else{for(N&=2===H?31:3===H?15:7;H>1&&C<v;)N=N<<6|63&T[C++],H--;H>1?d[j++]=65533:N<65536?d[j++]=N:(d[j++]=55296|(N-=65536)>>10&1023,d[j++]=56320|1023&N)}return d.length!==j&&(d.subarray?d=d.subarray(0,j):d.length=j),p.applyFromCharCode(d)}(T=p.transformTo(f.uint8array?"uint8array":"array",T))},p.inherits(h,w),h.prototype.processChunk=function(T){var C=p.transformTo(f.uint8array?"uint8array":"array",T.data);if(this.leftOver&&this.leftOver.length){if(f.uint8array){var j=C;(C=new Uint8Array(j.length+this.leftOver.length)).set(this.leftOver,0),C.set(j,this.leftOver.length)}else C=this.leftOver.concat(C);this.leftOver=null}var N=function(T,C){var j;for((C=C||T.length)>T.length&&(C=T.length),j=C-1;j>=0&&128==(192&T[j]);)j--;return j<0||0===j?C:j+b[T[j]]>C?j:C}(C),H=C;N!==C.length&&(f.uint8array?(H=C.subarray(0,N),this.leftOver=C.subarray(N,C.length)):(H=C.slice(0,N),this.leftOver=C.slice(N,C.length))),this.push({data:x.utf8decode(H),meta:T.meta})},h.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:x.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},x.Utf8DecodeWorker=h,p.inherits(u,w),u.prototype.processChunk=function(T){this.push({data:x.utf8encode(T.data),meta:T.meta})},x.Utf8EncodeWorker=u},function(M,x){M.exports="function"==typeof Object.create?function(c,h){c.super_=h,c.prototype=Object.create(h.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}})}:function(c,h){c.super_=h;var u=function(){};u.prototype=h.prototype,c.prototype=new u,c.prototype.constructor=c}},function(M,x,c){(function(h){function H(v){return Object.prototype.toString.call(v)}x.isArray=function u(v){return Array.isArray?Array.isArray(v):"[object Array]"===H(v)},x.isBoolean=function p(v){return"boolean"==typeof v},x.isNull=function f(v){return null===v},x.isNullOrUndefined=function P(v){return null==v},x.isNumber=function w(v){return"number"==typeof v},x.isString=function b(v){return"string"==typeof v},x.isSymbol=function A(v){return"symbol"==typeof v},x.isUndefined=function R(v){return void 0===v},x.isRegExp=function _(v){return"[object RegExp]"===H(v)},x.isObject=function k(v){return"object"==typeof v&&null!==v},x.isDate=function T(v){return"[object Date]"===H(v)},x.isError=function C(v){return"[object Error]"===H(v)||v instanceof Error},x.isFunction=function j(v){return"function"==typeof v},x.isPrimitive=function N(v){return null===v||"boolean"==typeof v||"number"==typeof v||"string"==typeof v||"symbol"==typeof v||void 0===v},x.isBuffer=h.isBuffer}).call(x,c(2).Buffer)},function(M,x,c){"use strict";var h;h="undefined"!=typeof Promise?Promise:c(80),M.exports={Promise:h}},function(M,x){var c;c=function(){return this}();try{c=c||Function("return this")()||(0,eval)("this")}catch(h){"object"==typeof window&&(c=window)}M.exports=c},function(M,x,c){function h(){u.call(this)}M.exports=h;var u=c(12).EventEmitter;c(7)(h,u),h.Readable=c(56),h.Writable=c(62),h.Duplex=c(63),h.Transform=c(64),h.PassThrough=c(65),h.Stream=h,h.prototype.pipe=function(p,f){function P(C){p.writable&&!1===p.write(C)&&k.pause&&k.pause()}function w(){k.readable&&k.resume&&k.resume()}function b(){T||(T=!0,p.end())}function A(){T||(T=!0,"function"==typeof p.destroy&&p.destroy())}function R(C){if(_(),0===u.listenerCount(this,"error"))throw C}function _(){k.removeListener("data",P),p.removeListener("drain",w),k.removeListener("end",b),k.removeListener("close",A),k.removeListener("error",R),p.removeListener("error",R),k.removeListener("end",_),k.removeListener("close",_),p.removeListener("close",_)}var k=this;k.on("data",P),p.on("drain",w),p._isStdio||f&&!1===f.end||(k.on("end",b),k.on("close",A));var T=!1;return k.on("error",R),p.on("error",R),k.on("end",_),k.on("close",_),p.on("close",_),p.emit("pipe",k),p}},function(M,x){function c(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function h(P){return"function"==typeof P}function p(P){return"object"==typeof P&&null!==P}function f(P){return void 0===P}M.exports=c,c.EventEmitter=c,c.prototype._events=void 0,c.prototype._maxListeners=void 0,c.defaultMaxListeners=10,c.prototype.setMaxListeners=function(P){if(!function u(P){return"number"==typeof P}(P)||P<0||isNaN(P))throw TypeError("n must be a positive number");return this._maxListeners=P,this},c.prototype.emit=function(P){var w,b,A,R,_,k;if(this._events||(this._events={}),"error"===P&&(!this._events.error||p(this._events.error)&&!this._events.error.length)){if((w=arguments[1])instanceof Error)throw w;var T=new Error('Uncaught, unspecified "error" event. ('+w+")");throw T.context=w,T}if(f(b=this._events[P]))return!1;if(h(b))switch(arguments.length){case 1:b.call(this);break;case 2:b.call(this,arguments[1]);break;case 3:b.call(this,arguments[1],arguments[2]);break;default:R=Array.prototype.slice.call(arguments,1),b.apply(this,R)}else if(p(b))for(R=Array.prototype.slice.call(arguments,1),A=(k=b.slice()).length,_=0;_<A;_++)k[_].apply(this,R);return!0},c.prototype.on=c.prototype.addListener=function(P,w){var b;if(!h(w))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",P,h(w.listener)?w.listener:w),this._events[P]?p(this._events[P])?this._events[P].push(w):this._events[P]=[this._events[P],w]:this._events[P]=w,p(this._events[P])&&!this._events[P].warned&&(b=f(this._maxListeners)?c.defaultMaxListeners:this._maxListeners)&&b>0&&this._events[P].length>b&&(this._events[P].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[P].length),"function"==typeof console.trace&&console.trace()),this},c.prototype.once=function(P,w){function b(){this.removeListener(P,b),A||(A=!0,w.apply(this,arguments))}if(!h(w))throw TypeError("listener must be a function");var A=!1;return b.listener=w,this.on(P,b),this},c.prototype.removeListener=function(P,w){var b,A,R,_;if(!h(w))throw TypeError("listener must be a function");if(!this._events||!this._events[P])return this;if(R=(b=this._events[P]).length,A=-1,b===w||h(b.listener)&&b.listener===w)delete this._events[P],this._events.removeListener&&this.emit("removeListener",P,w);else if(p(b)){for(_=R;_-- >0;)if(b[_]===w||b[_].listener&&b[_].listener===w){A=_;break}if(A<0)return this;1===b.length?(b.length=0,delete this._events[P]):b.splice(A,1),this._events.removeListener&&this.emit("removeListener",P,w)}return this},c.prototype.removeAllListeners=function(P){var w,b;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[P]&&delete this._events[P],this;if(0===arguments.length){for(w in this._events)"removeListener"!==w&&this.removeAllListeners(w);return this.removeAllListeners("removeListener"),this._events={},this}if(h(b=this._events[P]))this.removeListener(P,b);else if(b)for(;b.length;)this.removeListener(P,b[b.length-1]);return delete this._events[P],this},c.prototype.listeners=function(P){return this._events&&this._events[P]?h(this._events[P])?[this._events[P]]:this._events[P].slice():[]},c.prototype.listenerCount=function(P){if(this._events){var w=this._events[P];if(h(w))return 1;if(w)return w.length}return 0},c.listenerCount=function(P,w){return P.listenerCount(w)}},function(M,x){function c(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function u(N){if(A===setTimeout)return setTimeout(N,0);if((A===c||!A)&&setTimeout)return A=setTimeout,setTimeout(N,0);try{return A(N,0)}catch(H){try{return A.call(null,N,0)}catch(v){return A.call(this,N,0)}}}function f(){C&&k&&(C=!1,k.length?T=k.concat(T):j=-1,T.length&&P())}function P(){if(!C){var N=u(f);C=!0;for(var H=T.length;H;){for(k=T,T=[];++j<H;)k&&k[j].run();j=-1,H=T.length}k=null,C=!1,function p(N){if(R===clearTimeout)return clearTimeout(N);if((R===h||!R)&&clearTimeout)return R=clearTimeout,clearTimeout(N);try{return R(N)}catch(H){try{return R.call(null,N)}catch(v){return R.call(this,N)}}}(N)}}function w(N,H){this.fun=N,this.array=H}function b(){}var A,R,_=M.exports={};!function(){try{A="function"==typeof setTimeout?setTimeout:c}catch(N){A=c}try{R="function"==typeof clearTimeout?clearTimeout:h}catch(N){R=h}}();var k,T=[],C=!1,j=-1;_.nextTick=function(N){var H=new Array(arguments.length-1);if(arguments.length>1)for(var v=1;v<arguments.length;v++)H[v-1]=arguments[v];T.push(new w(N,H)),1!==T.length||C||u(P)},w.prototype.run=function(){this.fun.apply(null,this.array)},_.title="browser",_.browser=!0,_.env={},_.argv=[],_.version="",_.versions={},_.on=b,_.addListener=b,_.once=b,_.off=b,_.removeListener=b,_.removeAllListeners=b,_.emit=b,_.prependListener=b,_.prependOnceListener=b,_.listeners=function(N){return[]},_.binding=function(N){throw new Error("process.binding is not supported")},_.cwd=function(){return"/"},_.chdir=function(N){throw new Error("process.chdir is not supported")},_.umask=function(){return 0}},function(M,x,c){"use strict";(function(h){M.exports={isNode:void 0!==h,newBufferFrom:function(u,p){return new h(u,p)},allocBuffer:function(u){return h.alloc?h.alloc(u):new h(u)},isBuffer:function(u){return h.isBuffer(u)},isStream:function(u){return u&&"function"==typeof u.on&&"function"==typeof u.pause&&"function"==typeof u.resume}}}).call(x,c(2).Buffer)},function(M,x){var c=M.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=c)},function(M,x,c){"use strict";(function(h){M.exports=!h.version||0===h.version.indexOf("v0.")||0===h.version.indexOf("v1.")&&0!==h.version.indexOf("v1.8.")?function u(p,f,P,w){if("function"!=typeof p)throw new TypeError('"callback" argument must be a function');var b,A,R=arguments.length;switch(R){case 0:case 1:return h.nextTick(p);case 2:return h.nextTick(function(){p.call(null,f)});case 3:return h.nextTick(function(){p.call(null,f,P)});case 4:return h.nextTick(function(){p.call(null,f,P,w)});default:for(b=new Array(R-1),A=0;A<b.length;)b[A++]=arguments[A];return h.nextTick(function(){p.apply(null,b)})}}:h.nextTick}).call(x,c(13))},function(M,x,c){"use strict";(function(h,u){function p(){}function f(se,ue,xe){this.chunk=se,this.encoding=ue,this.callback=xe,this.next=null}function P(se,ue){Se=Se||c(5),this.objectMode=!!(se=se||{}).objectMode,ue instanceof Se&&(this.objectMode=this.objectMode||!!se.writableObjectMode);var xe=se.highWaterMark;this.highWaterMark=xe||0===xe?xe:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.decodeStrings=!(!1===se.decodeStrings),this.defaultEncoding=se.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function($){!function j(se,ue){var xe=se._writableState,re=xe.sync,J=xe.writecb;if(function C(se){se.writing=!1,se.writecb=null,se.length-=se.writelen,se.writelen=0}(xe),ue)!function T(se,ue,xe,re,J){--ue.pendingcb,xe?K(J,re):J(re),se._writableState.errorEmitted=!0,se.emit("error",re)}(se,xe,re,ue,J);else{var $=d(xe);$||xe.corked||xe.bufferProcessing||!xe.bufferedRequest||v(se,xe),re?ee(N,se,xe,$,J):N(se,xe,$,J)}}(ue,$)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new L(this),this.corkedRequestsFree.next=new L(this)}function w(se){if(Se=Se||c(5),!(this instanceof w||this instanceof Se))return new w(se);this._writableState=new P(se,this),this.writable=!0,se&&("function"==typeof se.write&&(this._write=se.write),"function"==typeof se.writev&&(this._writev=se.writev)),fe.call(this)}function _(se,ue,xe,re,J){xe=function R(se,ue,xe){return se.objectMode||!1===se.decodeStrings||"string"!=typeof ue||(ue=new Ce(ue,xe)),ue}(ue,xe,re),Ce.isBuffer(xe)&&(re="buffer");var $=ue.objectMode?1:xe.length;ue.length+=$;var V=ue.length<ue.highWaterMark;if(V||(ue.needDrain=!0),ue.writing||ue.corked){var S=ue.lastBufferedRequest;ue.lastBufferedRequest=new f(xe,re,J),S?S.next=ue.lastBufferedRequest:ue.bufferedRequest=ue.lastBufferedRequest,ue.bufferedRequestCount+=1}else k(se,ue,!1,$,xe,re,J);return V}function k(se,ue,xe,re,J,$,V){ue.writelen=re,ue.writecb=V,ue.writing=!0,ue.sync=!0,xe?se._writev(J,ue.onwrite):se._write(J,$,ue.onwrite),ue.sync=!1}function N(se,ue,xe,re){xe||function H(se,ue){0===ue.length&&ue.needDrain&&(ue.needDrain=!1,se.emit("drain"))}(se,ue),ue.pendingcb--,re(),y(se,ue)}function v(se,ue){ue.bufferProcessing=!0;var xe=ue.bufferedRequest;if(se._writev&&xe&&xe.next){var J=new Array(ue.bufferedRequestCount),$=ue.corkedRequestsFree;$.entry=xe;for(var V=0;xe;)J[V]=xe,xe=xe.next,V+=1;k(se,ue,!0,ue.length,J,"",$.finish),ue.pendingcb++,ue.lastBufferedRequest=null,ue.corkedRequestsFree=$.next,$.next=null}else{for(;xe;){var S=xe.chunk;if(k(se,ue,!1,ue.objectMode?1:S.length,S,xe.encoding,xe.callback),xe=xe.next,ue.writing)break}null===xe&&(ue.lastBufferedRequest=null)}ue.bufferedRequestCount=0,ue.bufferedRequest=xe,ue.bufferProcessing=!1}function d(se){return se.ending&&0===se.length&&null===se.bufferedRequest&&!se.finished&&!se.writing}function l(se,ue){ue.prefinished||(ue.prefinished=!0,se.emit("prefinish"))}function y(se,ue){var xe=d(ue);return xe&&(0===ue.pendingcb?(l(se,ue),ue.finished=!0,se.emit("finish")):l(se,ue)),xe}function L(se){var ue=this;this.next=null,this.entry=null,this.finish=function(xe){var re=ue.entry;for(ue.entry=null;re;){var J=re.callback;se.pendingcb--,J(xe),re=re.next}se.corkedRequestsFree?se.corkedRequestsFree.next=ue:se.corkedRequestsFree=ue}}M.exports=w;var K=c(16),ee=!h.browser&&["v0.10","v0.9."].indexOf(h.version.slice(0,5))>-1?u:K,Ce=c(2).Buffer;w.WritableState=P;var De=c(8);De.inherits=c(7);var fe,Se,ce={deprecate:c(60)};!function(){try{fe=c(11)}catch(se){}finally{fe||(fe=c(12).EventEmitter)}}(),Ce=c(2).Buffer,De.inherits(w,fe),P.prototype.getBuffer=function(){for(var se=this.bufferedRequest,ue=[];se;)ue.push(se),se=se.next;return ue},function(){try{Object.defineProperty(P.prototype,"buffer",{get:ce.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.")})}catch(se){}}(),w.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe. Not readable."))},w.prototype.write=function(se,ue,xe){var re=this._writableState,J=!1;return"function"==typeof ue&&(xe=ue,ue=null),Ce.isBuffer(se)?ue="buffer":ue||(ue=re.defaultEncoding),"function"!=typeof xe&&(xe=p),re.ended?function b(se,ue){var xe=new Error("write after end");se.emit("error",xe),K(ue,xe)}(this,xe):function A(se,ue,xe,re){var J=!0;if(!Ce.isBuffer(xe)&&"string"!=typeof xe&&null!=xe&&!ue.objectMode){var $=new TypeError("Invalid non-string/buffer chunk");se.emit("error",$),K(re,$),J=!1}return J}(this,re,se,xe)&&(re.pendingcb++,J=_(this,re,se,ue,xe)),J},w.prototype.cork=function(){this._writableState.corked++},w.prototype.uncork=function(){var se=this._writableState;se.corked&&(se.corked--,se.writing||se.corked||se.finished||se.bufferProcessing||!se.bufferedRequest||v(this,se))},w.prototype.setDefaultEncoding=function(se){if("string"==typeof se&&(se=se.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((se+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+se);this._writableState.defaultEncoding=se},w.prototype._write=function(se,ue,xe){xe(new Error("not implemented"))},w.prototype._writev=null,w.prototype.end=function(se,ue,xe){var re=this._writableState;"function"==typeof se?(xe=se,se=null,ue=null):"function"==typeof ue&&(xe=ue,ue=null),null!=se&&this.write(se,ue),re.corked&&(re.corked=1,this.uncork()),re.ending||re.finished||function g(se,ue,xe){ue.ending=!0,y(se,ue),xe&&(ue.finished?K(xe):se.once("finish",xe)),ue.ended=!0,se.writable=!1}(this,re,xe)}}).call(x,c(13),c(58).setImmediate)},function(M,x,c){"use strict";function h(b){this.afterTransform=function(A,R){return function u(b,A,R){var _=b._transformState;_.transforming=!1;var k=_.writecb;if(!k)return b.emit("error",new Error("no writecb in Transform class"));_.writechunk=null,_.writecb=null,null!=R&&b.push(R),k(A);var T=b._readableState;T.reading=!1,(T.needReadable||T.length<T.highWaterMark)&&b._read(T.highWaterMark)}(b,A,R)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function p(b){if(!(this instanceof p))return new p(b);P.call(this,b),this._transformState=new h(this);var A=this;this._readableState.needReadable=!0,this._readableState.sync=!1,b&&("function"==typeof b.transform&&(this._transform=b.transform),"function"==typeof b.flush&&(this._flush=b.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(R){f(A,R)}):f(A)})}function f(b,A){if(A)return b.emit("error",A);var _=b._transformState;if(b._writableState.length)throw new Error("calling transform done when ws.length != 0");if(_.transforming)throw new Error("calling transform done when still transforming");return b.push(null)}M.exports=p;var P=c(5),w=c(8);w.inherits=c(7),w.inherits(p,P),p.prototype.push=function(b,A){return this._transformState.needTransform=!1,P.prototype.push.call(this,b,A)},p.prototype._transform=function(b,A,R){throw new Error("not implemented")},p.prototype._write=function(b,A,R){var _=this._transformState;if(_.writecb=R,_.writechunk=b,_.writeencoding=A,!_.transforming){var k=this._readableState;(_.needTransform||k.needReadable||k.length<k.highWaterMark)&&this._read(k.highWaterMark)}},p.prototype._read=function(b){var A=this._transformState;null!==A.writechunk&&A.writecb&&!A.transforming?(A.transforming=!0,this._transform(A.writechunk,A.writeencoding,A.afterTransform)):A.needTransform=!0}},function(M,x){M.exports=function(c){return"object"==typeof c?null!==c:"function"==typeof c}},function(M,x,c){M.exports=!c(32)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(M,x,c){"use strict";function h(w,b,A,R,_){this.compressedSize=w,this.uncompressedSize=b,this.crc32=A,this.compression=R,this.compressedContent=_}var u=c(9),p=c(36),P=c(37),f=c(38);P=c(37),h.prototype={getContentWorker:function(){var w=new p(u.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new P("data_length")),b=this;return w.on("end",function(){if(this.streamInfo.data_length!==b.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),w},getCompressedWorker:function(){return new p(u.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(w,b,A){return w.pipe(new f).pipe(new P("uncompressedSize")).pipe(b.compressWorker(A)).pipe(new P("compressedSize")).withStreamInfo("compression",b)},M.exports=h},function(M,x,c){"use strict";var p=c(0),f=function(){for(var P,w=[],b=0;b<256;b++){P=b;for(var A=0;A<8;A++)P=1&P?3988292384^P>>>1:P>>>1;w[b]=P}return w}();M.exports=function(P,w){return void 0!==P&&P.length?"string"!==p.getTypeOf(P)?function h(P,w,b,A){var R=f,_=A+b;P^=-1;for(var k=A;k<_;k++)P=P>>>8^R[255&(P^w[k])];return-1^P}(0|w,P,P.length,0):function u(P,w,b,A){var R=f,_=A+b;P^=-1;for(var k=A;k<_;k++)P=P>>>8^R[255&(P^w.charCodeAt(k))];return-1^P}(0|w,P,P.length,0):0}},function(M,x,c){"use strict";M.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},function(M,x){var c={}.toString;M.exports=Array.isArray||function(h){return"[object Array]"==c.call(h)}},function(M,x,c){M.exports=c(11)},function(M,x,c){"use strict";(function(h){function u($,V){re=re||c(5),this.objectMode=!!($=$||{}).objectMode,V instanceof re&&(this.objectMode=this.objectMode||!!$.readableObjectMode);var S=$.highWaterMark;this.highWaterMark=S||0===S?S:this.objectMode?16:16384,this.highWaterMark=~~this.highWaterMark,this.buffer=[],this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.defaultEncoding=$.defaultEncoding||"utf8",this.ranOut=!1,this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,$.encoding&&(xe||(xe=c(27).StringDecoder),this.decoder=new xe($.encoding),this.encoding=$.encoding)}function p($){if(re=re||c(5),!(this instanceof p))return new p($);this._readableState=new u($,this),this.readable=!0,$&&"function"==typeof $.read&&(this._read=$.read),fe.call(this)}function f($,V,S,O,z){var n=function A($,V){var S=null;return Ce.isBuffer(V)||"string"==typeof V||null==V||$.objectMode||(S=new TypeError("Invalid non-string/buffer chunk")),S}(V,S);if(n)$.emit("error",n);else if(null===S)V.reading=!1,function R($,V){if(!V.ended){if(V.decoder){var S=V.decoder.end();S&&S.length&&(V.buffer.push(S),V.length+=V.objectMode?1:S.length)}V.ended=!0,_($)}}($,V);else if(V.objectMode||S&&S.length>0)if(V.ended&&!z){var m=new Error("stream.push() after EOF");$.emit("error",m)}else if(V.endEmitted&&z)m=new Error("stream.unshift() after end event"),$.emit("error",m);else{var s;!V.decoder||z||O||(S=V.decoder.write(S),s=!V.objectMode&&0===S.length),z||(V.reading=!1),s||(V.flowing&&0===V.length&&!V.sync?($.emit("data",S),$.read(0)):(V.length+=V.objectMode?1:S.length,z?V.buffer.unshift(S):V.buffer.push(S),V.needReadable&&_($))),function T($,V){V.readingMore||(V.readingMore=!0,ee(C,$,V))}($,V)}else z||(V.reading=!1);return function P($){return!$.ended&&($.needReadable||$.length<$.highWaterMark||0===$.length)}(V)}function b($,V){return 0===V.length&&V.ended?0:V.objectMode?0===$?0:1:null===$||isNaN($)?V.flowing&&V.buffer.length?V.buffer[0].length:V.length:$<=0?0:($>V.highWaterMark&&(V.highWaterMark=function w($){return $>=J?$=J:($--,$|=$>>>1,$|=$>>>2,$|=$>>>4,$|=$>>>8,$|=$>>>16,$++),$}($)),$>V.length?V.ended?V.length:(V.needReadable=!0,0):$)}function _($){var V=$._readableState;V.needReadable=!1,V.emittedReadable||(ue("emitReadable",V.flowing),V.emittedReadable=!0,V.sync?ee(k,$):k($))}function k($){ue("emit readable"),$.emit("readable"),d($)}function C($,V){for(var S=V.length;!V.reading&&!V.flowing&&!V.ended&&V.length<V.highWaterMark&&(ue("maybeReadMore read 0"),$.read(0),S!==V.length);)S=V.length;V.readingMore=!1}function N($){ue("readable nexttick read 0"),$.read(0)}function v($,V){V.reading||(ue("resume read 0"),$.read(0)),V.resumeScheduled=!1,$.emit("resume"),d($),V.flowing&&!V.reading&&$.read(0)}function d($){var V=$._readableState;if(ue("flow",V.flowing),V.flowing)do{var S=$.read()}while(null!==S&&V.flowing)}function l($,V){var S,O=V.buffer,z=V.length,n=!!V.decoder;if(0===O.length)return null;if(0===z)S=null;else if(V.objectMode)S=O.shift();else if(!$||$>=z)S=n?O.join(""):1===O.length?O[0]:Ce.concat(O,z),O.length=0;else if($<O[0].length)S=(s=O[0]).slice(0,$),O[0]=s.slice($);else if($===O[0].length)S=O.shift();else{S=n?"":new Ce($);for(var E=0,W=0,pe=O.length;W<pe&&E<$;W++){var s=O[0],Ee=Math.min($-E,s.length);n?S+=s.slice(0,Ee):s.copy(S,E,0,Ee),Ee<s.length?O[0]=s.slice(Ee):O.shift(),E+=Ee}}return S}function y($){var V=$._readableState;if(V.length>0)throw new Error("endReadable called on non-empty stream");V.endEmitted||(V.ended=!0,ee(g,V,$))}function g($,V){$.endEmitted||0!==$.length||($.endEmitted=!0,V.readable=!1,V.emit("end"))}M.exports=p;var ee=c(16),De=c(24),Ce=c(2).Buffer;p.ReadableState=u;var fe,ce=(c(12),function($,V){return $.listeners(V).length});!function(){try{fe=c(11)}catch($){}finally{fe||(fe=c(12).EventEmitter)}}(),Ce=c(2).Buffer;var Se=c(8);Se.inherits=c(7);var xe,re,se=c(57),ue=void 0;ue=se&&se.debuglog?se.debuglog("stream"):function(){},Se.inherits(p,fe),p.prototype.push=function($,V){var S=this._readableState;return S.objectMode||"string"!=typeof $||(V=V||S.defaultEncoding)!==S.encoding&&($=new Ce($,V),V=""),f(this,S,$,V,!1)},p.prototype.unshift=function($){return f(this,this._readableState,$,"",!0)},p.prototype.isPaused=function(){return!1===this._readableState.flowing},p.prototype.setEncoding=function($){return xe||(xe=c(27).StringDecoder),this._readableState.decoder=new xe($),this._readableState.encoding=$,this};var J=8388608;p.prototype.read=function($){ue("read",$);var V=this._readableState,S=$;if(("number"!=typeof $||$>0)&&(V.emittedReadable=!1),0===$&&V.needReadable&&(V.length>=V.highWaterMark||V.ended))return ue("read: emitReadable",V.length,V.ended),0===V.length&&V.ended?y(this):_(this),null;if(0===($=b($,V))&&V.ended)return 0===V.length&&y(this),null;var z,O=V.needReadable;return ue("need readable",O),(0===V.length||V.length-$<V.highWaterMark)&&ue("length less than watermark",O=!0),(V.ended||V.reading)&&ue("reading or ended",O=!1),O&&(ue("do read"),V.reading=!0,V.sync=!0,0===V.length&&(V.needReadable=!0),this._read(V.highWaterMark),V.sync=!1),O&&!V.reading&&($=b(S,V)),null===(z=$>0?l($,V):null)&&(V.needReadable=!0,$=0),V.length-=$,0!==V.length||V.ended||(V.needReadable=!0),S!==$&&V.ended&&0===V.length&&y(this),null!==z&&this.emit("data",z),z},p.prototype._read=function($){this.emit("error",new Error("not implemented"))},p.prototype.pipe=function($,V){function S(He){ue("onunpipe"),He===pe&&z()}function O(){ue("onend"),$.end()}function z(){ue("cleanup"),$.removeListener("close",s),$.removeListener("finish",E),$.removeListener("drain",_e),$.removeListener("error",m),$.removeListener("unpipe",S),pe.removeListener("end",O),pe.removeListener("end",z),pe.removeListener("data",n),Pe=!0,!Ee.awaitDrain||$._writableState&&!$._writableState.needDrain||_e()}function n(He){ue("ondata"),!1===$.write(He)&&(1!==Ee.pipesCount||Ee.pipes[0]!==$||1!==pe.listenerCount("data")||Pe||(ue("false write response, pause",pe._readableState.awaitDrain),pe._readableState.awaitDrain++),pe.pause())}function m(He){ue("onerror",He),W(),$.removeListener("error",m),0===ce($,"error")&&$.emit("error",He)}function s(){$.removeListener("finish",E),W()}function E(){ue("onfinish"),$.removeListener("close",s),W()}function W(){ue("unpipe"),pe.unpipe($)}var pe=this,Ee=this._readableState;switch(Ee.pipesCount){case 0:Ee.pipes=$;break;case 1:Ee.pipes=[Ee.pipes,$];break;default:Ee.pipes.push($)}Ee.pipesCount+=1,ue("pipe count=%d opts=%j",Ee.pipesCount,V);var de=V&&!1===V.end||$===h.stdout||$===h.stderr?z:O;Ee.endEmitted?ee(de):pe.once("end",de),$.on("unpipe",S);var _e=function j($){return function(){var V=$._readableState;ue("pipeOnDrain",V.awaitDrain),V.awaitDrain&&V.awaitDrain--,0===V.awaitDrain&&ce($,"data")&&(V.flowing=!0,d($))}}(pe);$.on("drain",_e);var Pe=!1;return pe.on("data",n),$._events&&$._events.error?De($._events.error)?$._events.error.unshift(m):$._events.error=[m,$._events.error]:$.on("error",m),$.once("close",s),$.once("finish",E),$.emit("pipe",pe),Ee.flowing||(ue("pipe resume"),pe.resume()),$},p.prototype.unpipe=function($){var V=this._readableState;if(0===V.pipesCount)return this;if(1===V.pipesCount)return $&&$!==V.pipes||($||($=V.pipes),V.pipes=null,V.pipesCount=0,V.flowing=!1,$&&$.emit("unpipe",this)),this;if(!$){var S=V.pipes,O=V.pipesCount;V.pipes=null,V.pipesCount=0,V.flowing=!1;for(var z=0;z<O;z++)S[z].emit("unpipe",this);return this}var n=function K($,V){for(var S=0,O=$.length;S<O;S++)if($[S]===V)return S;return-1}(V.pipes,$);return-1===n||(V.pipes.splice(n,1),V.pipesCount-=1,1===V.pipesCount&&(V.pipes=V.pipes[0]),$.emit("unpipe",this)),this},p.prototype.addListener=p.prototype.on=function($,V){var S=fe.prototype.on.call(this,$,V);if("data"===$&&!1!==this._readableState.flowing&&this.resume(),"readable"===$&&!this._readableState.endEmitted){var O=this._readableState;O.readableListening||(O.readableListening=!0,O.emittedReadable=!1,O.needReadable=!0,O.reading?O.length&&_(this):ee(N,this))}return S},p.prototype.resume=function(){var $=this._readableState;return $.flowing||(ue("resume"),$.flowing=!0,function H($,V){V.resumeScheduled||(V.resumeScheduled=!0,ee(v,$,V))}(this,$)),this},p.prototype.pause=function(){return ue("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(ue("pause"),this._readableState.flowing=!1,this.emit("pause")),this},p.prototype.wrap=function($){var V=this._readableState,S=!1,O=this;for(var z in $.on("end",function(){if(ue("wrapped end"),V.decoder&&!V.ended){var n=V.decoder.end();n&&n.length&&O.push(n)}O.push(null)}),$.on("data",function(n){ue("wrapped data"),V.decoder&&(n=V.decoder.write(n)),(!V.objectMode||null!=n)&&(V.objectMode||n&&n.length)&&(O.push(n)||(S=!0,$.pause()))}),$)void 0===this[z]&&"function"==typeof $[z]&&(this[z]=function(n){return function(){return $[n].apply($,arguments)}}(z));return function L($,V){for(var S=0,O=$.length;S<O;S++)V($[S],S)}(["error","close","destroy","pause","resume"],function(n){$.on(n,O.emit.bind(O,n))}),O._read=function(n){ue("wrapped _read",n),S&&(S=!1,$.resume())},O},p._fromList=l}).call(x,c(13))},function(M,x,c){"use strict";function p(d){var l;switch(this.encoding=function u(d){var l=function h(d){if(!d)return"utf8";for(var l;;)switch(d){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return d;default:if(l)return;d=(""+d).toLowerCase(),l=!0}}(d);if("string"!=typeof l&&(H.isEncoding===v||!v(d)))throw new Error("Unknown encoding: "+d);return l||d}(d),this.encoding){case"utf16le":this.text=_,this.end=k,l=4;break;case"utf8":this.fillLast=b,l=4;break;case"base64":this.text=T,this.end=C,l=3;break;default:return this.write=j,void(this.end=N)}this.lastNeed=0,this.lastTotal=0,this.lastChar=H.allocUnsafe(l)}function f(d){return d<=127?0:d>>5==6?2:d>>4==14?3:d>>3==30?4:-1}function b(d){var l=this.lastTotal-this.lastNeed,y=function w(d,l,y){if(128!=(192&l[0]))return d.lastNeed=0,"\ufffd".repeat(y);if(d.lastNeed>1&&l.length>1){if(128!=(192&l[1]))return d.lastNeed=1,"\ufffd".repeat(y+1);if(d.lastNeed>2&&l.length>2&&128!=(192&l[2]))return d.lastNeed=2,"\ufffd".repeat(y+2)}}(this,d,l);return void 0!==y?y:this.lastNeed<=d.length?(d.copy(this.lastChar,l,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(d.copy(this.lastChar,l,0,d.length),void(this.lastNeed-=d.length))}function _(d,l){if((d.length-l)%2==0){var y=d.toString("utf16le",l);if(y){var g=y.charCodeAt(y.length-1);if(g>=55296&&g<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1],y.slice(0,-1)}return y}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=d[d.length-1],d.toString("utf16le",l,d.length-1)}function k(d){var l=d&&d.length?this.write(d):"";return this.lastNeed?l+this.lastChar.toString("utf16le",0,this.lastTotal-this.lastNeed):l}function T(d,l){var y=(d.length-l)%3;return 0===y?d.toString("base64",l):(this.lastNeed=3-y,this.lastTotal=3,1===y?this.lastChar[0]=d[d.length-1]:(this.lastChar[0]=d[d.length-2],this.lastChar[1]=d[d.length-1]),d.toString("base64",l,d.length-y))}function C(d){var l=d&&d.length?this.write(d):"";return this.lastNeed?l+this.lastChar.toString("base64",0,3-this.lastNeed):l}function j(d){return d.toString(this.encoding)}function N(d){return d&&d.length?this.write(d):""}var H=c(61).Buffer,v=H.isEncoding||function(d){switch((d=""+d)&&d.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};x.StringDecoder=p,p.prototype.write=function(d){if(0===d.length)return"";var l,y;if(this.lastNeed){if(void 0===(l=this.fillLast(d)))return"";y=this.lastNeed,this.lastNeed=0}else y=0;return y<d.length?l?l+this.text(d,y):this.text(d,y):l||""},p.prototype.end=function R(d){var l=d&&d.length?this.write(d):"";return this.lastNeed?l+"\ufffd".repeat(this.lastTotal-this.lastNeed):l},p.prototype.text=function A(d,l){var y=function P(d,l,y){var g=l.length-1;if(g<y)return 0;var L=f(l[g]);return L>=0?(L>0&&(d.lastNeed=L-1),L):--g<y?0:(L=f(l[g]))>=0?(L>0&&(d.lastNeed=L-2),L):--g<y?0:(L=f(l[g]))>=0?(L>0&&(2===L?L=0:d.lastNeed=L-3),L):0}(this,d,l);if(!this.lastNeed)return d.toString("utf8",l);this.lastTotal=y;var g=d.length-(y-this.lastNeed);return d.copy(this.lastChar,0,g),d.toString("utf8",l,g)},p.prototype.fillLast=function(d){if(this.lastNeed<=d.length)return d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);d.copy(this.lastChar,this.lastTotal-this.lastNeed,0,d.length),this.lastNeed-=d.length}},function(M,x,c){"use strict";function h(f){if(!(this instanceof h))return new h(f);u.call(this,f)}M.exports=h;var u=c(18),p=c(8);p.inherits=c(7),p.inherits(h,u),h.prototype._transform=function(f,P,w){w(null,f)}},function(M,x,c){"use strict";var h=c(0),u=c(3),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";x.encode=function(f){for(var P,w,b,R,_,k,T=[],C=0,j=f.length,N=j,H="string"!==h.getTypeOf(f);C<f.length;)N=j-C,H?(P=f[C++],w=C<j?f[C++]:0,b=C<j?f[C++]:0):(P=f.charCodeAt(C++),w=C<j?f.charCodeAt(C++):0,b=C<j?f.charCodeAt(C++):0),R=(3&P)<<4|w>>4,_=N>1?(15&w)<<2|b>>6:64,k=N>2?63&b:64,T.push(p.charAt(P>>2)+p.charAt(R)+p.charAt(_)+p.charAt(k));return T.join("")},x.decode=function(f){var w,b,A,R,_,k,T=0,C=0;if("data:"===f.substr(0,5))throw new Error("Invalid base64 input, it looks like a data url.");var N,j=3*(f=f.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(f.charAt(f.length-1)===p.charAt(64)&&j--,f.charAt(f.length-2)===p.charAt(64)&&j--,j%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=u.uint8array?new Uint8Array(0|j):new Array(0|j);T<f.length;)A=p.indexOf(f.charAt(T++)),w=(15&(R=p.indexOf(f.charAt(T++))))<<4|(_=p.indexOf(f.charAt(T++)))>>2,b=(3&_)<<6|(k=p.indexOf(f.charAt(T++))),N[C++]=A<<2|R>>4,64!==_&&(N[C++]=w),64!==k&&(N[C++]=b);return N}},function(M,x){var c=M.exports={version:"2.3.0"};"number"==typeof __e&&(__e=c)},function(M,x,c){var h=c(69);M.exports=function(u,p,f){if(h(u),void 0===p)return u;switch(f){case 1:return function(P){return u.call(p,P)};case 2:return function(P,w){return u.call(p,P,w)};case 3:return function(P,w,b){return u.call(p,P,w,b)}}return function(){return u.apply(p,arguments)}}},function(M,x){M.exports=function(c){try{return!!c()}catch(h){return!0}}},function(M,x,c){var h=c(19),u=c(15).document,p=h(u)&&h(u.createElement);M.exports=function(f){return p?u.createElement(f):{}}},function(M,x,c){"use strict";(function(h){function f(C,j){return new k.Promise(function(N,H){var v=[],d=C._internalType,l=C._outputType,y=C._mimeType;C.on("data",function(g,L){v.push(g),j&&j(L)}).on("error",function(g){v=[],H(g)}).on("end",function(){try{var g=function u(C,j,N){switch(C){case"blob":return w.newBlob(w.transformTo("arraybuffer",j),N);case"base64":return R.encode(j);default:return w.transformTo(C,j)}}(l,function p(C,j){var N,H=0,v=null,d=0;for(N=0;N<j.length;N++)d+=j[N].length;switch(C){case"string":return j.join("");case"array":return Array.prototype.concat.apply([],j);case"uint8array":for(v=new Uint8Array(d),N=0;N<j.length;N++)v.set(j[N],H),H+=j[N].length;return v;case"nodebuffer":return h.concat(j);default:throw new Error("concat : unsupported type '"+C+"'")}}(d,v),y);N(g)}catch(L){H(L)}v=[]}).resume()})}function P(C,j,N){var H=j;switch(j){case"blob":case"arraybuffer":H="uint8array";break;case"base64":H="string"}try{this._internalType=H,this._outputType=j,this._mimeType=N,w.checkSupport(H),this._worker=C.pipe(new b(H)),C.lock()}catch(v){this._worker=new A("error"),this._worker.error(v)}}var w=c(0),b=c(82),A=c(1),R=c(29),_=c(3),k=c(9),T=null;if(_.nodestream)try{T=c(83)}catch(C){}P.prototype={accumulate:function(C){return f(this,C)},on:function(C,j){var N=this;return this._worker.on(C,"data"===C?function(H){j.call(N,H.data,H.meta)}:function(){w.delay(j,arguments,N)}),this},resume:function(){return w.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(C){if(w.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new T(this,{objectMode:"nodebuffer"!==this._outputType},C)}},M.exports=P}).call(x,c(2).Buffer)},function(M,x,c){"use strict";x.base64=!1,x.binary=!1,x.dir=!1,x.createFolders=!0,x.date=null,x.compression=null,x.compressionOptions=null,x.comment=null,x.unixPermissions=null,x.dosPermissions=null},function(M,x,c){"use strict";function h(f){p.call(this,"DataWorker");var P=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,f.then(function(w){P.dataIsReady=!0,P.data=w,P.max=w&&w.length||0,P.type=u.getTypeOf(w),P.isPaused||P._tickAndRepeat()},function(w){P.error(w)})}var u=c(0),p=c(1);u.inherits(h,p),h.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,u.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(u.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var f=null,P=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":f=this.data.substring(this.index,P);break;case"uint8array":f=this.data.subarray(this.index,P);break;case"array":case"nodebuffer":f=this.data.slice(this.index,P)}return this.index=P,this.push({data:f,meta:{percent:this.max?this.index/this.max*100:0}})},M.exports=h},function(M,x,c){"use strict";function h(f){p.call(this,"DataLengthProbe for "+f),this.propName=f,this.withStreamInfo(f,0)}var u=c(0),p=c(1);u.inherits(h,p),h.prototype.processChunk=function(f){f&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+f.data.length),p.prototype.processChunk.call(this,f)},M.exports=h},function(M,x,c){"use strict";function h(){u.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}var u=c(1),p=c(22);c(0).inherits(h,u),h.prototype.processChunk=function(f){this.streamInfo.crc32=p(f.data,this.streamInfo.crc32||0),this.push(f)},M.exports=h},function(M,x,c){"use strict";var h=c(1);x.STORE={magic:"\0\0",compressWorker:function(u){return new h("STORE compression")},uncompressWorker:function(){return new h("STORE decompression")}},x.DEFLATE=c(86)},function(M,x,c){"use strict";M.exports=function h(u,p,f,P){for(var w=65535&u|0,b=u>>>16&65535|0,A=0;0!==f;){f-=A=f>2e3?2e3:f;do{b=b+(w=w+p[P++]|0)|0}while(--A);w%=65521,b%=65521}return w|b<<16|0}},function(M,x,c){"use strict";var u=function(){for(var p,f=[],P=0;P<256;P++){p=P;for(var w=0;w<8;w++)p=1&p?3988292384^p>>>1:p>>>1;f[P]=p}return f}();M.exports=function h(p,f,P,w){var b=u,A=w+P;p^=-1;for(var R=w;R<A;R++)p=p>>>8^b[255&(p^f[R])];return-1^p}},function(M,x,c){"use strict";function h(b,A){if(A<65537&&(b.subarray&&f||!b.subarray&&p))return String.fromCharCode.apply(null,u.shrinkBuf(b,A));for(var R="",_=0;_<A;_++)R+=String.fromCharCode(b[_]);return R}var u=c(4),p=!0,f=!0;try{String.fromCharCode.apply(null,[0])}catch(b){p=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(b){f=!1}for(var P=new u.Buf8(256),w=0;w<256;w++)P[w]=w>=252?6:w>=248?5:w>=240?4:w>=224?3:w>=192?2:1;P[254]=P[254]=1,x.string2buf=function(b){var A,R,_,k,T,C=b.length,j=0;for(k=0;k<C;k++)55296==(64512&(R=b.charCodeAt(k)))&&k+1<C&&56320==(64512&(_=b.charCodeAt(k+1)))&&(R=65536+(R-55296<<10)+(_-56320),k++),j+=R<128?1:R<2048?2:R<65536?3:4;for(A=new u.Buf8(j),T=0,k=0;T<j;k++)55296==(64512&(R=b.charCodeAt(k)))&&k+1<C&&56320==(64512&(_=b.charCodeAt(k+1)))&&(R=65536+(R-55296<<10)+(_-56320),k++),R<128?A[T++]=R:R<2048?(A[T++]=192|R>>>6,A[T++]=128|63&R):R<65536?(A[T++]=224|R>>>12,A[T++]=128|R>>>6&63,A[T++]=128|63&R):(A[T++]=240|R>>>18,A[T++]=128|R>>>12&63,A[T++]=128|R>>>6&63,A[T++]=128|63&R);return A},x.buf2binstring=function(b){return h(b,b.length)},x.binstring2buf=function(b){for(var A=new u.Buf8(b.length),R=0,_=A.length;R<_;R++)A[R]=b.charCodeAt(R);return A},x.buf2string=function(b,A){var R,_,k,T,C=A||b.length,j=new Array(2*C);for(_=0,R=0;R<C;)if((k=b[R++])<128)j[_++]=k;else if((T=P[k])>4)j[_++]=65533,R+=T-1;else{for(k&=2===T?31:3===T?15:7;T>1&&R<C;)k=k<<6|63&b[R++],T--;T>1?j[_++]=65533:k<65536?j[_++]=k:(j[_++]=55296|(k-=65536)>>10&1023,j[_++]=56320|1023&k)}return h(j,_)},x.utf8border=function(b,A){var R;for((A=A||b.length)>b.length&&(A=b.length),R=A-1;R>=0&&128==(192&b[R]);)R--;return R<0||0===R?A:R+P[b[R]]>A?R:A}},function(M,x,c){"use strict";M.exports=function h(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},function(M,x,c){"use strict";M.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(M,x,c){"use strict";x.LOCAL_FILE_HEADER="PK\x03\x04",x.CENTRAL_FILE_HEADER="PK\x01\x02",x.CENTRAL_DIRECTORY_END="PK\x05\x06",x.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",x.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",x.DATA_DESCRIPTOR="PK\x07\b"},function(M,x,c){"use strict";var h=c(0),u=c(3),p=c(47),f=c(100),P=c(101),w=c(49);M.exports=function(b){var A=h.getTypeOf(b);return h.checkSupport(A),"string"!==A||u.uint8array?"nodebuffer"===A?new P(b):u.uint8array?new w(h.transformTo("uint8array",b)):new p(h.transformTo("array",b)):new f(b)}},function(M,x,c){"use strict";function h(p){u.call(this,p);for(var f=0;f<this.data.length;f++)p[f]=255&p[f]}var u=c(48);c(0).inherits(h,u),h.prototype.byteAt=function(p){return this.data[this.zero+p]},h.prototype.lastIndexOfSignature=function(p){for(var f=p.charCodeAt(0),P=p.charCodeAt(1),w=p.charCodeAt(2),b=p.charCodeAt(3),A=this.length-4;A>=0;--A)if(this.data[A]===f&&this.data[A+1]===P&&this.data[A+2]===w&&this.data[A+3]===b)return A-this.zero;return-1},h.prototype.readAndCheckSignature=function(p){var f=p.charCodeAt(0),P=p.charCodeAt(1),w=p.charCodeAt(2),b=p.charCodeAt(3),A=this.readData(4);return f===A[0]&&P===A[1]&&w===A[2]&&b===A[3]},h.prototype.readData=function(p){if(this.checkOffset(p),0===p)return[];var f=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,f},M.exports=h},function(M,x,c){"use strict";function h(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}var u=c(0);h.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(p){},readInt:function(p){var f,P=0;for(this.checkOffset(p),f=this.index+p-1;f>=this.index;f--)P=(P<<8)+this.byteAt(f);return this.index+=p,P},readString:function(p){return u.transformTo("string",this.readData(p))},readData:function(p){},lastIndexOfSignature:function(p){},readAndCheckSignature:function(p){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},M.exports=h},function(M,x,c){"use strict";function h(p){u.call(this,p)}var u=c(47);c(0).inherits(h,u),h.prototype.readData=function(p){if(this.checkOffset(p),0===p)return new Uint8Array(0);var f=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,f},M.exports=h},function(M,x,c){"use strict";function h(A){return A&&A.__esModule?A:{default:A}}Object.defineProperty(x,"__esModule",{value:!0});var p=h(c(51)),P=h(c(52)),b=h(c(103));x.default=p.default.plugins.add("gjs-plugin-export",function(A,R){var _=R||{},T=A.getConfig().stylePrefix,C=document.createElement("BUTTON"),j={addExportBtn:1,btnLabel:"Export to ZIP",preHtml:'<!doctype html><html lang="en"><head><meta charset="utf-8"><link rel="stylesheet" href="./css/style.css"></head><body>',postHtml:"</body><html>",preCss:"",postCss:""};for(var N in j)N in _||(_[N]=j[N]);C.innerHTML=_.btnLabel,C.className=T+"btn-prim",A.Commands.add("gjs-export-zip",{run:function(){var H=new P.default,v=H.folder("css"),d="grapesjs_template_"+Date.now()+".zip";H.file("index.html",_.preHtml+A.getHtml()+_.postHtml),v.file("style.css",_.preCss+A.getCss()+_.postCss),H.generateAsync({type:"blob"}).then(function(l){b.default.saveAs(l,d)})}}),_.addExportBtn&&A.on("run:export-template",function(){A.Modal.getContentEl().appendChild(C),C.onclick=function(){A.runCommand("gjs-export-zip")}})})},function(M,x){M.exports=U},function(M,x,c){"use strict";function h(){if(!(this instanceof h))return new h;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var u=new h;for(var p in this)"function"!=typeof this[p]&&(u[p]=this[p]);return u}}(h.prototype=c(53)).loadAsync=c(98),h.support=c(3),h.defaults=c(35),h.version="3.1.5",h.loadAsync=function(u,p){return(new h).loadAsync(u,p)},h.external=c(9),M.exports=h},function(M,x,c){"use strict";function h(v){return"[object RegExp]"===Object.prototype.toString.call(v)}var u=c(6),p=c(0),f=c(1),P=c(34),w=c(35),b=c(21),A=c(84),R=c(85),_=c(14),k=c(97),T=function(v,d,l){var y,g=p.getTypeOf(d),L=p.extend(l||{},w);L.date=L.date||new Date,null!==L.compression&&(L.compression=L.compression.toUpperCase()),"string"==typeof L.unixPermissions&&(L.unixPermissions=parseInt(L.unixPermissions,8)),L.unixPermissions&&16384&L.unixPermissions&&(L.dir=!0),L.dosPermissions&&16&L.dosPermissions&&(L.dir=!0),L.dir&&(v=j(v)),L.createFolders&&(y=C(v))&&N.call(this,y,!0),l&&void 0!==l.binary||(L.binary=!("string"===g&&!1===L.binary&&!1===L.base64)),(d instanceof b&&0===d.uncompressedSize||L.dir||!d||0===d.length)&&(L.base64=!1,L.binary=!0,d="",L.compression="STORE",g="string");var ee;ee=d instanceof b||d instanceof f?d:_.isNode&&_.isStream(d)?new k(v,d):p.prepareContent(v,d,L.binary,L.optimizedBinaryString,L.base64);var De=new A(v,ee,L);this.files[v]=De},C=function(v){"/"===v.slice(-1)&&(v=v.substring(0,v.length-1));var d=v.lastIndexOf("/");return d>0?v.substring(0,d):""},j=function(v){return"/"!==v.slice(-1)&&(v+="/"),v},N=function(v,d){return d=void 0!==d?d:w.createFolders,v=j(v),this.files[v]||T.call(this,v,null,{dir:!0,createFolders:d}),this.files[v]},H={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(v){var d,l,y;for(d in this.files)this.files.hasOwnProperty(d)&&(y=this.files[d],(l=d.slice(this.root.length,d.length))&&d.slice(0,this.root.length)===this.root&&v(l,y))},filter:function(v){var d=[];return this.forEach(function(l,y){v(l,y)&&d.push(y)}),d},file:function(v,d,l){if(1===arguments.length){if(h(v)){var y=v;return this.filter(function(L,K){return!K.dir&&y.test(L)})}var g=this.files[this.root+v];return g&&!g.dir?g:null}return T.call(this,v=this.root+v,d,l),this},folder:function(v){if(!v)return this;if(h(v))return this.filter(function(g,L){return L.dir&&v.test(g)});var l=N.call(this,this.root+v),y=this.clone();return y.root=l.name,y},remove:function(v){var d=this.files[v=this.root+v];if(d||("/"!==v.slice(-1)&&(v+="/"),d=this.files[v]),d&&!d.dir)delete this.files[v];else for(var l=this.filter(function(g,L){return L.name.slice(0,v.length)===v}),y=0;y<l.length;y++)delete this.files[l[y].name];return this},generate:function(v){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(v){var d,l={};try{if((l=p.extend(v||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:u.utf8encode})).type=l.type.toLowerCase(),l.compression=l.compression.toUpperCase(),"binarystring"===l.type&&(l.type="string"),!l.type)throw new Error("No output type specified.");p.checkSupport(l.type),"darwin"!==l.platform&&"freebsd"!==l.platform&&"linux"!==l.platform&&"sunos"!==l.platform||(l.platform="UNIX"),"win32"===l.platform&&(l.platform="DOS"),d=R.generateWorker(this,l,l.comment||this.comment||"")}catch(g){(d=new f("error")).error(g)}return new P(d,l.type||"string",l.mimeType)},generateAsync:function(v,d){return this.generateInternalStream(v).accumulate(d)},generateNodeStream:function(v,d){return(v=v||{}).type||(v.type="nodebuffer"),this.generateInternalStream(v).toNodejsStream(d)}};M.exports=H},function(M,x,c){"use strict";function h(C){var j=C.length;if(j%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===C[j-2]?2:"="===C[j-1]?1:0}function f(C){return b[C>>18&63]+b[C>>12&63]+b[C>>6&63]+b[63&C]}function P(C,j,N){for(var v=[],d=j;d<N;d+=3)v.push(f((C[d]<<16)+(C[d+1]<<8)+C[d+2]));return v.join("")}x.byteLength=function u(C){return 3*C.length/4-h(C)},x.toByteArray=function p(C){var j,N,H,v,d,l=C.length;v=h(C),d=new R(3*l/4-v),N=v>0?l-4:l;var y=0;for(j=0;j<N;j+=4)H=A[C.charCodeAt(j)]<<18|A[C.charCodeAt(j+1)]<<12|A[C.charCodeAt(j+2)]<<6|A[C.charCodeAt(j+3)],d[y++]=H>>16&255,d[y++]=H>>8&255,d[y++]=255&H;return 2===v?(H=A[C.charCodeAt(j)]<<2|A[C.charCodeAt(j+1)]>>4,d[y++]=255&H):1===v&&(H=A[C.charCodeAt(j)]<<10|A[C.charCodeAt(j+1)]<<4|A[C.charCodeAt(j+2)]>>2,d[y++]=H>>8&255,d[y++]=255&H),d},x.fromByteArray=function w(C){for(var j,N=C.length,H=N%3,v="",d=[],l=0,y=N-H;l<y;l+=16383)d.push(P(C,l,l+16383>y?y:l+16383));return 1===H?(v+=b[(j=C[N-1])>>2],v+=b[j<<4&63],v+="=="):2===H&&(v+=b[(j=(C[N-2]<<8)+C[N-1])>>10],v+=b[j>>4&63],v+=b[j<<2&63],v+="="),d.push(v),d.join("")};for(var b=[],A=[],R="undefined"!=typeof Uint8Array?Uint8Array:Array,_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",k=0,T=_.length;k<T;++k)b[k]=_[k],A[_.charCodeAt(k)]=k;A["-".charCodeAt(0)]=62,A["_".charCodeAt(0)]=63},function(M,x){x.read=function(c,h,u,p,f){var P,w,b=8*f-p-1,A=(1<<b)-1,R=A>>1,_=-7,k=u?f-1:0,T=u?-1:1,C=c[h+k];for(k+=T,P=C&(1<<-_)-1,C>>=-_,_+=b;_>0;P=256*P+c[h+k],k+=T,_-=8);for(w=P&(1<<-_)-1,P>>=-_,_+=p;_>0;w=256*w+c[h+k],k+=T,_-=8);if(0===P)P=1-R;else{if(P===A)return w?NaN:1/0*(C?-1:1);w+=Math.pow(2,p),P-=R}return(C?-1:1)*w*Math.pow(2,P-p)},x.write=function(c,h,u,p,f,P){var w,b,A,R=8*P-f-1,_=(1<<R)-1,k=_>>1,T=23===f?Math.pow(2,-24)-Math.pow(2,-77):0,C=p?0:P-1,j=p?1:-1,N=h<0||0===h&&1/h<0?1:0;for(h=Math.abs(h),isNaN(h)||h===1/0?(b=isNaN(h)?1:0,w=_):(w=Math.floor(Math.log(h)/Math.LN2),h*(A=Math.pow(2,-w))<1&&(w--,A*=2),(h+=w+k>=1?T/A:T*Math.pow(2,1-k))*A>=2&&(w++,A/=2),w+k>=_?(b=0,w=_):w+k>=1?(b=(h*A-1)*Math.pow(2,f),w+=k):(b=h*Math.pow(2,k-1)*Math.pow(2,f),w=0));f>=8;c[u+C]=255&b,C+=j,b/=256,f-=8);for(w=w<<f|b,R+=f;R>0;c[u+C]=255&w,C+=j,w/=256,R-=8);c[u+C-j]|=128*N}},function(M,x,c){var h=function(){try{return c(11)}catch(u){}}();(x=M.exports=c(26)).Stream=h||x,x.Readable=x,x.Writable=c(17),x.Duplex=c(5),x.Transform=c(18),x.PassThrough=c(28)},function(M,x){},function(M,x,c){function h(p,f){this._id=p,this._clearFn=f}var u=Function.prototype.apply;x.setTimeout=function(){return new h(u.call(setTimeout,window,arguments),clearTimeout)},x.setInterval=function(){return new h(u.call(setInterval,window,arguments),clearInterval)},x.clearTimeout=x.clearInterval=function(p){p&&p.close()},h.prototype.unref=h.prototype.ref=function(){},h.prototype.close=function(){this._clearFn.call(window,this._id)},x.enroll=function(p,f){clearTimeout(p._idleTimeoutId),p._idleTimeout=f},x.unenroll=function(p){clearTimeout(p._idleTimeoutId),p._idleTimeout=-1},x._unrefActive=x.active=function(p){clearTimeout(p._idleTimeoutId);var f=p._idleTimeout;f>=0&&(p._idleTimeoutId=setTimeout(function(){p._onTimeout&&p._onTimeout()},f))},c(59),x.setImmediate=ne,x.clearImmediate=Y},function(M,x,c){(function(h,u){!function(p,f){"use strict";function w(N){delete k[N]}function A(N){if(T)setTimeout(A,0,N);else{var H=k[N];if(H){T=!0;try{!function b(N){var H=N.callback,v=N.args;switch(v.length){case 0:H();break;case 1:H(v[0]);break;case 2:H(v[0],v[1]);break;case 3:H(v[0],v[1],v[2]);break;default:H.apply(void 0,v)}}(H)}finally{w(N),T=!1}}}}if(!p.setImmediate){var R,_=1,k={},T=!1,C=p.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(p);j=j&&j.setTimeout?j:p,"[object process]"==={}.toString.call(p.process)?R=function(N){u.nextTick(function(){A(N)})}:function(){if(p.postMessage&&!p.importScripts){var N=!0,H=p.onmessage;return p.onmessage=function(){N=!1},p.postMessage("","*"),p.onmessage=H,N}}()?(N="setImmediate$"+Math.random()+"$",H=function(v){v.source===p&&"string"==typeof v.data&&0===v.data.indexOf(N)&&A(+v.data.slice(N.length))},p.addEventListener?p.addEventListener("message",H,!1):p.attachEvent("onmessage",H),R=function(v){p.postMessage(N+v,"*")}):p.MessageChannel?function(){var N=new MessageChannel;N.port1.onmessage=function(H){A(H.data)},R=function(H){N.port2.postMessage(H)}}():C&&"onreadystatechange"in C.createElement("script")?function(){var N=C.documentElement;R=function(H){var v=C.createElement("script");v.onreadystatechange=function(){A(H),v.onreadystatechange=null,N.removeChild(v),v=null},N.appendChild(v)}}():R=function(N){setTimeout(A,0,N)},j.setImmediate=function P(N){"function"!=typeof N&&(N=new Function(""+N));for(var H=new Array(arguments.length-1),v=0;v<H.length;v++)H[v]=arguments[v+1];return k[_]={callback:N,args:H},R(_),_++},j.clearImmediate=w}var N,H}("undefined"==typeof self?void 0===h?this:h:self)}).call(x,c(10),c(13))},function(M,x,c){(function(h){function p(f){try{if(!h.localStorage)return!1}catch(w){return!1}var P=h.localStorage[f];return null!=P&&"true"===String(P).toLowerCase()}M.exports=function u(f,P){if(p("noDeprecation"))return f;var b=!1;return function w(){if(!b){if(p("throwDeprecation"))throw new Error(P);p("traceDeprecation")?console.trace(P):console.warn(P),b=!0}return f.apply(this,arguments)}}}).call(x,c(10))},function(M,x,c){function h(P,w){for(var b in P)w[b]=P[b]}function u(P,w,b){return f(P,w,b)}var p=c(2),f=p.Buffer;f.from&&f.alloc&&f.allocUnsafe&&f.allocUnsafeSlow?M.exports=p:(h(p,x),x.Buffer=u),h(f,u),u.from=function(P,w,b){if("number"==typeof P)throw new TypeError("Argument must not be a number");return f(P,w,b)},u.alloc=function(P,w,b){if("number"!=typeof P)throw new TypeError("Argument must be a number");var A=f(P);return void 0!==w?"string"==typeof b?A.fill(w,b):A.fill(w):A.fill(0),A},u.allocUnsafe=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return f(P)},u.allocUnsafeSlow=function(P){if("number"!=typeof P)throw new TypeError("Argument must be a number");return p.SlowBuffer(P)}},function(M,x,c){M.exports=c(17)},function(M,x,c){M.exports=c(5)},function(M,x,c){M.exports=c(18)},function(M,x,c){M.exports=c(28)},function(M,x,c){c(67),M.exports=c(30).setImmediate},function(M,x,c){var h=c(68),u=c(76);h(h.G+h.B,{setImmediate:u.set,clearImmediate:u.clear})},function(M,x,c){var h=c(15),u=c(30),p=c(31),f=c(70),P=function(w,b,A){var R,_,k,T=w&P.F,C=w&P.G,j=w&P.S,N=w&P.P,H=w&P.B,v=w&P.W,d=C?u:u[b]||(u[b]={}),l=d.prototype,y=C?h:j?h[b]:(h[b]||{}).prototype;for(R in C&&(A=b),A)(_=!T&&y&&void 0!==y[R])&&R in d||(k=_?y[R]:A[R],d[R]=C&&"function"!=typeof y[R]?A[R]:H&&_?p(k,h):v&&y[R]==k?function(g){var L=function(K,ee,De){if(this instanceof g){switch(arguments.length){case 0:return new g;case 1:return new g(K);case 2:return new g(K,ee)}return new g(K,ee,De)}return g.apply(this,arguments)};return L.prototype=g.prototype,L}(k):N&&"function"==typeof k?p(Function.call,k):k,N&&((d.virtual||(d.virtual={}))[R]=k,w&P.R&&l&&!l[R]&&f(l,R,k)))};P.F=1,P.G=2,P.S=4,P.P=8,P.B=16,P.W=32,P.U=64,P.R=128,M.exports=P},function(M,x){M.exports=function(c){if("function"!=typeof c)throw TypeError(c+" is not a function!");return c}},function(M,x,c){var h=c(71),u=c(75);M.exports=c(20)?function(p,f,P){return h.f(p,f,u(1,P))}:function(p,f,P){return p[f]=P,p}},function(M,x,c){var h=c(72),u=c(73),p=c(74),f=Object.defineProperty;x.f=c(20)?Object.defineProperty:function(P,w,b){if(h(P),w=p(w,!0),h(b),u)try{return f(P,w,b)}catch(A){}if("get"in b||"set"in b)throw TypeError("Accessors not supported!");return"value"in b&&(P[w]=b.value),P}},function(M,x,c){var h=c(19);M.exports=function(u){if(!h(u))throw TypeError(u+" is not an object!");return u}},function(M,x,c){M.exports=!c(20)&&!c(32)(function(){return 7!=Object.defineProperty(c(33)("div"),"a",{get:function(){return 7}}).a})},function(M,x,c){var h=c(19);M.exports=function(u,p){if(!h(u))return u;var f,P;if(p&&"function"==typeof(f=u.toString)&&!h(P=f.call(u))||"function"==typeof(f=u.valueOf)&&!h(P=f.call(u))||!p&&"function"==typeof(f=u.toString)&&!h(P=f.call(u)))return P;throw TypeError("Can't convert object to primitive value")}},function(M,x){M.exports=function(c,h){return{enumerable:!(1&c),configurable:!(2&c),writable:!(4&c),value:h}}},function(M,x,c){var h,u,p,f=c(31),P=c(77),w=c(78),b=c(33),A=c(15),R=A.process,_=A.setImmediate,k=A.clearImmediate,T=A.MessageChannel,C=0,j={},N=function(){var v=+this;if(j.hasOwnProperty(v)){var d=j[v];delete j[v],d()}},H=function(v){N.call(v.data)};_&&k||(_=function(v){for(var d=[],l=1;arguments.length>l;)d.push(arguments[l++]);return j[++C]=function(){P("function"==typeof v?v:Function(v),d)},h(C),C},k=function(v){delete j[v]},"process"==c(79)(R)?h=function(v){R.nextTick(f(N,v,1))}:T?(p=(u=new T).port2,u.port1.onmessage=H,h=f(p.postMessage,p,1)):A.addEventListener&&"function"==typeof postMessage&&!A.importScripts?(h=function(v){A.postMessage(v+"","*")},A.addEventListener("message",H,!1)):h="onreadystatechange"in b("script")?function(v){w.appendChild(b("script")).onreadystatechange=function(){w.removeChild(this),N.call(v)}}:function(v){setTimeout(f(N,v,1),0)}),M.exports={set:_,clear:k}},function(M,x){M.exports=function(c,h,u){var p=void 0===u;switch(h.length){case 0:return p?c():c.call(u);case 1:return p?c(h[0]):c.call(u,h[0]);case 2:return p?c(h[0],h[1]):c.call(u,h[0],h[1]);case 3:return p?c(h[0],h[1],h[2]):c.call(u,h[0],h[1],h[2]);case 4:return p?c(h[0],h[1],h[2],h[3]):c.call(u,h[0],h[1],h[2],h[3])}return c.apply(u,h)}},function(M,x,c){M.exports=c(15).document&&document.documentElement},function(M,x){var c={}.toString;M.exports=function(h){return c.call(h).slice(8,-1)}},function(M,x,c){"use strict";function h(){}function u(v){if("function"!=typeof v)throw new TypeError("resolver must be a function");this.state=H,this.queue=[],this.outcome=void 0,v!==h&&w(this,v)}function p(v,d,l){this.promise=v,"function"==typeof d&&(this.onFulfilled=d,this.callFulfilled=this.otherCallFulfilled),"function"==typeof l&&(this.onRejected=l,this.callRejected=this.otherCallRejected)}function f(v,d,l){T(function(){var y;try{y=d(l)}catch(g){return C.reject(v,g)}y===v?C.reject(v,new TypeError("Cannot resolve promise with itself")):C.resolve(v,y)})}function P(v){var d=v&&v.then;if(v&&("object"==typeof v||"function"==typeof v)&&"function"==typeof d)return function(){d.apply(v,arguments)}}function w(v,d){function l(ee){L||(L=!0,C.reject(v,ee))}function y(ee){L||(L=!0,C.resolve(v,ee))}var L=!1,K=b(function g(){d(y,l)});"error"===K.status&&l(K.value)}function b(v,d){var l={};try{l.value=v(d),l.status="success"}catch(y){l.status="error",l.value=y}return l}var T=c(81),C={},j=["REJECTED"],N=["FULFILLED"],H=["PENDING"];M.exports=u,u.prototype.catch=function(v){return this.then(null,v)},u.prototype.then=function(v,d){if("function"!=typeof v&&this.state===N||"function"!=typeof d&&this.state===j)return this;var l=new this.constructor(h);return this.state!==H?f(l,this.state===N?v:d,this.outcome):this.queue.push(new p(l,v,d)),l},p.prototype.callFulfilled=function(v){C.resolve(this.promise,v)},p.prototype.otherCallFulfilled=function(v){f(this.promise,this.onFulfilled,v)},p.prototype.callRejected=function(v){C.reject(this.promise,v)},p.prototype.otherCallRejected=function(v){f(this.promise,this.onRejected,v)},C.resolve=function(v,d){var l=b(P,d);if("error"===l.status)return C.reject(v,l.value);var y=l.value;if(y)w(v,y);else{v.state=N,v.outcome=d;for(var g=-1,L=v.queue.length;++g<L;)v.queue[g].callFulfilled(d)}return v},C.reject=function(v,d){v.state=j,v.outcome=d;for(var l=-1,y=v.queue.length;++l<y;)v.queue[l].callRejected(d);return v},u.resolve=function A(v){return v instanceof this?v:C.resolve(new this(h),v)},u.reject=function R(v){var d=new this(h);return C.reject(d,v)},u.all=function _(v){var d=this;if("[object Array]"!==Object.prototype.toString.call(v))return this.reject(new TypeError("must be an array"));var l=v.length,y=!1;if(!l)return this.resolve([]);for(var g=new Array(l),L=0,K=-1,ee=new this(h);++K<l;)!function(De,fe){d.resolve(De).then(function ce(Ce){g[fe]=Ce,++L!==l||y||(y=!0,C.resolve(ee,g))},function(Ce){y||(y=!0,C.reject(ee,Ce))})}(v[K],K);return ee},u.race=function k(v){if("[object Array]"!==Object.prototype.toString.call(v))return this.reject(new TypeError("must be an array"));var l=v.length,y=!1;if(!l)return this.resolve([]);for(var g=-1,L=new this(h);++g<l;)this.resolve(v[g]).then(function(ee){y||(y=!0,C.resolve(L,ee))},function(ee){y||(y=!0,C.reject(L,ee))});return L}},function(M,x,c){"use strict";(function(h){function u(){_=!0;for(var T,C,j=k.length;j;){for(C=k,k=[],T=-1;++T<j;)C[T]();j=k.length}_=!1}var f,P=h.MutationObserver||h.WebKitMutationObserver;if(P){var w=0,b=new P(u),A=h.document.createTextNode("");b.observe(A,{characterData:!0}),f=function(){A.data=w=++w%2}}else if(h.setImmediate||void 0===h.MessageChannel)f="document"in h&&"onreadystatechange"in h.document.createElement("script")?function(){var T=h.document.createElement("script");T.onreadystatechange=function(){u(),T.onreadystatechange=null,T.parentNode.removeChild(T),T=null},h.document.documentElement.appendChild(T)}:function(){setTimeout(u,0)};else{var R=new h.MessageChannel;R.port1.onmessage=u,f=function(){R.port2.postMessage(0)}}var _,k=[];M.exports=function p(T){1!==k.push(T)||_||f()}}).call(x,c(10))},function(M,x,c){"use strict";function h(f){u.call(this,"ConvertWorker to "+f),this.destType=f}var u=c(1),p=c(0);p.inherits(h,u),h.prototype.processChunk=function(f){this.push({data:p.transformTo(this.destType,f.data),meta:f.meta})},M.exports=h},function(M,x,c){"use strict";function h(p,f,P){u.call(this,f),this._helper=p;var w=this;p.on("data",function(b,A){w.push(b)||w._helper.pause(),P&&P(A)}).on("error",function(b){w.emit("error",b)}).on("end",function(){w.push(null)})}var u=c(25).Readable;c(0).inherits(h,u),h.prototype._read=function(){this._helper.resume()},M.exports=h},function(M,x,c){"use strict";var h=c(34),u=c(36),p=c(6),f=c(21),P=c(1),w=function(_,k,T){this.name=_,this.dir=T.dir,this.date=T.date,this.comment=T.comment,this.unixPermissions=T.unixPermissions,this.dosPermissions=T.dosPermissions,this._data=k,this._dataBinary=T.binary,this.options={compression:T.compression,compressionOptions:T.compressionOptions}};w.prototype={internalStream:function(_){var k=null,T="string";try{if(!_)throw new Error("No output type specified.");var C="string"===(T=_.toLowerCase())||"text"===T;"binarystring"!==T&&"text"!==T||(T="string"),k=this._decompressWorker();var j=!this._dataBinary;j&&!C&&(k=k.pipe(new p.Utf8EncodeWorker)),!j&&C&&(k=k.pipe(new p.Utf8DecodeWorker))}catch(N){(k=new P("error")).error(N)}return new h(k,T,"")},async:function(_,k){return this.internalStream(_).accumulate(k)},nodeStream:function(_,k){return this.internalStream(_||"nodebuffer").toNodejsStream(k)},_compressWorker:function(_,k){if(this._data instanceof f&&this._data.compression.magic===_.magic)return this._data.getCompressedWorker();var T=this._decompressWorker();return this._dataBinary||(T=T.pipe(new p.Utf8EncodeWorker)),f.createWorkerFrom(T,_,k)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof P?this._data:new u(this._data)}};for(var b=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],A=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},R=0;R<b.length;R++)w.prototype[b[R]]=A;M.exports=w},function(M,x,c){"use strict";var h=c(39),u=c(96);x.generateWorker=function(f,P,w){var b=new u(P.streamFiles,w,P.platform,P.encodeFileName),A=0;try{f.forEach(function(R,_){A++;var k=function(f,P){var w=f||P,b=h[w];if(!b)throw new Error(w+" is not a valid compression method !");return b}(_.options.compression,P.compression),C=_.dir,j=_.date;_._compressWorker(k,_.options.compressionOptions||P.compressionOptions||{}).withStreamInfo("file",{name:R,dir:C,date:j,comment:_.comment||"",unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions}).pipe(b)}),b.entriesCount=A}catch(R){b.error(R)}return b}},function(M,x,c){"use strict";function h(b,A){P.call(this,"FlateWorker/"+b),this._pako=null,this._pakoAction=b,this._pakoOptions=A,this.meta={}}var u="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,p=c(87),f=c(0),P=c(1),w=u?"uint8array":"array";x.magic="\b\0",f.inherits(h,P),h.prototype.processChunk=function(b){this.meta=b.meta,null===this._pako&&this._createPako(),this._pako.push(f.transformTo(w,b.data),!1)},h.prototype.flush=function(){P.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){P.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new p[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var b=this;this._pako.onData=function(A){b.push({data:A,meta:b.meta})}},x.compressWorker=function(b){return new h("Deflate",b)},x.uncompressWorker=function(){return new h("Inflate",{})}},function(M,x,c){"use strict";var P={};(0,c(4).assign)(P,c(88),c(91),c(44)),M.exports=P},function(M,x,c){"use strict";function h(N){if(!(this instanceof h))return new h(N);this.options=w.assign({level:T,method:j,chunkSize:16384,windowBits:15,memLevel:8,strategy:C,to:""},N||{});var H=this.options;H.raw&&H.windowBits>0?H.windowBits=-H.windowBits:H.gzip&&H.windowBits>0&&H.windowBits<16&&(H.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R,this.strm.avail_out=0;var v=P.deflateInit2(this.strm,H.level,H.method,H.windowBits,H.memLevel,H.strategy);if(v!==k)throw new Error(A[v]);if(H.header&&P.deflateSetHeader(this.strm,H.header),H.dictionary){var d;if(d="string"==typeof H.dictionary?b.string2buf(H.dictionary):"[object ArrayBuffer]"===_.call(H.dictionary)?new Uint8Array(H.dictionary):H.dictionary,(v=P.deflateSetDictionary(this.strm,d))!==k)throw new Error(A[v]);this._dict_set=!0}}function u(N,H){var v=new h(H);if(v.push(N,!0),v.err)throw v.msg||A[v.err];return v.result}var P=c(89),w=c(4),b=c(42),A=c(23),R=c(43),_=Object.prototype.toString,k=0,T=-1,C=0,j=8;h.prototype.push=function(N,H){var v,d,l=this.strm,y=this.options.chunkSize;if(this.ended)return!1;d=H===~~H?H:!0===H?4:0,l.input="string"==typeof N?b.string2buf(N):"[object ArrayBuffer]"===_.call(N)?new Uint8Array(N):N,l.next_in=0,l.avail_in=l.input.length;do{if(0===l.avail_out&&(l.output=new w.Buf8(y),l.next_out=0,l.avail_out=y),1!==(v=P.deflate(l,d))&&v!==k)return this.onEnd(v),this.ended=!0,!1;0!==l.avail_out&&(0!==l.avail_in||4!==d&&2!==d)||this.onData("string"===this.options.to?b.buf2binstring(w.shrinkBuf(l.output,l.next_out)):w.shrinkBuf(l.output,l.next_out))}while((l.avail_in>0||0===l.avail_out)&&1!==v);return 4===d?(v=P.deflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===k):2!==d||(this.onEnd(k),l.avail_out=0,!0)},h.prototype.onData=function(N){this.chunks.push(N)},h.prototype.onEnd=function(N){N===k&&(this.result="string"===this.options.to?this.chunks.join(""):w.flattenChunks(this.chunks)),this.chunks=[],this.err=N,this.msg=this.strm.msg},x.Deflate=h,x.deflate=u,x.deflateRaw=function p(N,H){return(H=H||{}).raw=!0,u(N,H)},x.gzip=function f(N,H){return(H=H||{}).gzip=!0,u(N,H)}},function(M,x,c){"use strict";function h(te,Ge){return te.msg=xe[Ge],Ge}function u(te){return(te<<1)-(te>4?9:0)}function p(te){for(var Ge=te.length;--Ge>=0;)te[Ge]=0}function f(te){var Ge=te.state,B=Ge.pending;B>te.avail_out&&(B=te.avail_out),0!==B&&(Ce.arraySet(te.output,Ge.pending_buf,Ge.pending_out,B,te.next_out),te.next_out+=B,Ge.pending_out+=B,te.total_out+=B,te.avail_out-=B,Ge.pending-=B,0===Ge.pending&&(Ge.pending_out=0))}function P(te,Ge){Se._tr_flush_block(te,te.block_start>=0?te.block_start:-1,te.strstart-te.block_start,Ge),te.block_start=te.strstart,f(te.strm)}function w(te,Ge){te.pending_buf[te.pending++]=Ge}function b(te,Ge){te.pending_buf[te.pending++]=Ge>>>8&255,te.pending_buf[te.pending++]=255&Ge}function A(te,Ge,B,F){var me=te.avail_in;return me>F&&(me=F),0===me?0:(te.avail_in-=me,Ce.arraySet(Ge,te.input,te.next_in,me,B),1===te.state.wrap?te.adler=se(te.adler,Ge,me,B):2===te.state.wrap&&(te.adler=ue(te.adler,Ge,me,B)),te.next_in+=me,te.total_in+=me,me)}function R(te,Ge){var B,F,me=te.max_chain_length,le=te.strstart,Me=te.prev_length,Ze=te.nice_match,ct=te.strstart>te.w_size-X?te.strstart-(te.w_size-X):0,et=te.window,kt=te.w_mask,At=te.prev,St=te.strstart+ot,Dt=et[le+Me-1],Mt=et[le+Me];te.prev_length>=te.good_match&&(me>>=2),Ze>te.lookahead&&(Ze=te.lookahead);do{if(et[(B=Ge)+Me]===Mt&&et[B+Me-1]===Dt&&et[B]===et[le]&&et[++B]===et[le+1]){le+=2,B++;do{}while(et[++le]===et[++B]&&et[++le]===et[++B]&&et[++le]===et[++B]&&et[++le]===et[++B]&&et[++le]===et[++B]&&et[++le]===et[++B]&&et[++le]===et[++B]&&et[++le]===et[++B]&&le<St);if(F=ot-(St-le),le=St-ot,F>Me){if(te.match_start=Ge,Me=F,F>=Ze)break;Dt=et[le+Me-1],Mt=et[le+Me]}}}while((Ge=At[Ge&kt])>ct&&0!=--me);return Me<=te.lookahead?Me:te.lookahead}function _(te){var Ge,B,F,me,le,Me=te.w_size;do{if(me=te.window_size-te.lookahead-te.strstart,te.strstart>=Me+(Me-X)){Ce.arraySet(te.window,te.window,Me,Me,0),te.match_start-=Me,te.strstart-=Me,te.block_start-=Me,Ge=B=te.hash_size;do{F=te.head[--Ge],te.head[Ge]=F>=Me?F-Me:0}while(--B);Ge=B=Me;do{F=te.prev[--Ge],te.prev[Ge]=F>=Me?F-Me:0}while(--B);me+=Me}if(0===te.strm.avail_in)break;if(B=A(te.strm,te.window,te.strstart+te.lookahead,me),te.lookahead+=B,te.lookahead+te.insert>=Je)for(te.ins_h=te.window[le=te.strstart-te.insert],te.ins_h=(te.ins_h<<te.hash_shift^te.window[le+1])&te.hash_mask;te.insert&&(te.ins_h=(te.ins_h<<te.hash_shift^te.window[le+Je-1])&te.hash_mask,te.prev[le&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=le,le++,te.insert--,!(te.lookahead+te.insert<Je)););}while(te.lookahead<X&&0!==te.strm.avail_in)}function T(te,Ge){for(var B,F;;){if(te.lookahead<X){if(_(te),te.lookahead<X&&Ge===re)return vt;if(0===te.lookahead)break}if(B=0,te.lookahead>=Je&&(te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+Je-1])&te.hash_mask,B=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart),0!==B&&te.strstart-B<=te.w_size-X&&(te.match_length=R(te,B)),te.match_length>=Je)if(F=Se._tr_tally(te,te.strstart-te.match_start,te.match_length-Je),te.lookahead-=te.match_length,te.match_length<=te.max_lazy_match&&te.lookahead>=Je){te.match_length--;do{te.strstart++,te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+Je-1])&te.hash_mask,B=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart}while(0!=--te.match_length);te.strstart++}else te.strstart+=te.match_length,te.match_length=0,te.ins_h=te.window[te.strstart],te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+1])&te.hash_mask;else F=Se._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++;if(F&&(P(te,!1),0===te.strm.avail_out))return vt}return te.insert=te.strstart<Je-1?te.strstart:Je-1,Ge===V?(P(te,!0),0===te.strm.avail_out?ft:je):te.last_lit&&(P(te,!1),0===te.strm.avail_out)?vt:Xe}function C(te,Ge){for(var B,F,me;;){if(te.lookahead<X){if(_(te),te.lookahead<X&&Ge===re)return vt;if(0===te.lookahead)break}if(B=0,te.lookahead>=Je&&(te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+Je-1])&te.hash_mask,B=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart),te.prev_length=te.match_length,te.prev_match=te.match_start,te.match_length=Je-1,0!==B&&te.prev_length<te.max_lazy_match&&te.strstart-B<=te.w_size-X&&(te.match_length=R(te,B),te.match_length<=5&&(te.strategy===W||te.match_length===Je&&te.strstart-te.match_start>4096)&&(te.match_length=Je-1)),te.prev_length>=Je&&te.match_length<=te.prev_length){me=te.strstart+te.lookahead-Je,F=Se._tr_tally(te,te.strstart-1-te.prev_match,te.prev_length-Je),te.lookahead-=te.prev_length-1,te.prev_length-=2;do{++te.strstart<=me&&(te.ins_h=(te.ins_h<<te.hash_shift^te.window[te.strstart+Je-1])&te.hash_mask,B=te.prev[te.strstart&te.w_mask]=te.head[te.ins_h],te.head[te.ins_h]=te.strstart)}while(0!=--te.prev_length);if(te.match_available=0,te.match_length=Je-1,te.strstart++,F&&(P(te,!1),0===te.strm.avail_out))return vt}else if(te.match_available){if((F=Se._tr_tally(te,0,te.window[te.strstart-1]))&&P(te,!1),te.strstart++,te.lookahead--,0===te.strm.avail_out)return vt}else te.match_available=1,te.strstart++,te.lookahead--}return te.match_available&&(F=Se._tr_tally(te,0,te.window[te.strstart-1]),te.match_available=0),te.insert=te.strstart<Je-1?te.strstart:Je-1,Ge===V?(P(te,!0),0===te.strm.avail_out?ft:je):te.last_lit&&(P(te,!1),0===te.strm.avail_out)?vt:Xe}function H(te,Ge,B,F,me){this.good_length=te,this.max_lazy=Ge,this.nice_length=B,this.max_chain=F,this.func=me}function d(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Pe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Ce.Buf16(2*ze),this.dyn_dtree=new Ce.Buf16(2*(2*ae+1)),this.bl_tree=new Ce.Buf16(2*(2*Oe+1)),p(this.dyn_ltree),p(this.dyn_dtree),p(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Ce.Buf16(qe+1),this.heap=new Ce.Buf16(2*G+1),p(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Ce.Buf16(2*G+1),p(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function l(te){var Ge;return te&&te.state?(te.total_in=te.total_out=0,te.data_type=_e,(Ge=te.state).pending=0,Ge.pending_out=0,Ge.wrap<0&&(Ge.wrap=-Ge.wrap),Ge.status=Ge.wrap?Ae:tt,te.adler=2===Ge.wrap?0:1,Ge.last_flush=re,Se._tr_init(Ge),O):h(te,n)}function y(te){var Ge=l(te);return Ge===O&&function v(te){te.window_size=2*te.w_size,p(te.head),te.max_lazy_match=ce[te.level].max_lazy,te.good_match=ce[te.level].good_length,te.nice_match=ce[te.level].nice_length,te.max_chain_length=ce[te.level].max_chain,te.strstart=0,te.block_start=0,te.lookahead=0,te.insert=0,te.match_length=te.prev_length=Je-1,te.match_available=0,te.ins_h=0}(te.state),Ge}function L(te,Ge,B,F,me,le){if(!te)return n;var Me=1;if(Ge===E&&(Ge=6),F<0?(Me=0,F=-F):F>15&&(Me=2,F-=16),me<1||me>He||B!==Pe||F<8||F>15||Ge<0||Ge>9||le<0||le>be)return h(te,n);8===F&&(F=9);var Ze=new d;return te.state=Ze,Ze.strm=te,Ze.wrap=Me,Ze.gzhead=null,Ze.w_bits=F,Ze.w_size=1<<Ze.w_bits,Ze.w_mask=Ze.w_size-1,Ze.hash_bits=me+7,Ze.hash_size=1<<Ze.hash_bits,Ze.hash_mask=Ze.hash_size-1,Ze.hash_shift=~~((Ze.hash_bits+Je-1)/Je),Ze.window=new Ce.Buf8(2*Ze.w_size),Ze.head=new Ce.Buf16(Ze.hash_size),Ze.prev=new Ce.Buf16(Ze.w_size),Ze.lit_bufsize=1<<me+6,Ze.pending_buf_size=4*Ze.lit_bufsize,Ze.pending_buf=new Ce.Buf8(Ze.pending_buf_size),Ze.d_buf=1*Ze.lit_bufsize,Ze.l_buf=3*Ze.lit_bufsize,Ze.level=Ge,Ze.strategy=le,Ze.method=B,y(te)}var ce,Ce=c(4),Se=c(90),se=c(40),ue=c(41),xe=c(23),re=0,J=1,$=3,V=4,S=5,O=0,z=1,n=-2,m=-3,s=-5,E=-1,W=1,pe=2,Ee=3,be=4,de=0,_e=2,Pe=8,He=9,ut=15,rt=8,G=286,ae=30,Oe=19,ze=2*G+1,qe=15,Je=3,ot=258,X=ot+Je+1,ke=32,Ae=42,Ne=69,he=73,Be=91,Ve=103,tt=113,dt=666,vt=1,Xe=2,ft=3,je=4,st=3;ce=[new H(0,0,0,0,function k(te,Ge){var B=65535;for(B>te.pending_buf_size-5&&(B=te.pending_buf_size-5);;){if(te.lookahead<=1){if(_(te),0===te.lookahead&&Ge===re)return vt;if(0===te.lookahead)break}te.strstart+=te.lookahead,te.lookahead=0;var F=te.block_start+B;if((0===te.strstart||te.strstart>=F)&&(te.lookahead=te.strstart-F,te.strstart=F,P(te,!1),0===te.strm.avail_out)||te.strstart-te.block_start>=te.w_size-X&&(P(te,!1),0===te.strm.avail_out))return vt}return te.insert=0,Ge===V?(P(te,!0),0===te.strm.avail_out?ft:je):(te.strstart>te.block_start&&P(te,!1),vt)}),new H(4,4,8,4,T),new H(4,5,16,8,T),new H(4,6,32,32,T),new H(4,4,16,16,C),new H(8,16,32,32,C),new H(8,16,128,128,C),new H(8,32,128,256,C),new H(32,128,258,1024,C),new H(32,258,258,4096,C)],x.deflateInit=function K(te,Ge){return L(te,Ge,Pe,ut,rt,de)},x.deflateInit2=L,x.deflateReset=y,x.deflateResetKeep=l,x.deflateSetHeader=function g(te,Ge){return te&&te.state?2!==te.state.wrap?n:(te.state.gzhead=Ge,O):n},x.deflate=function ee(te,Ge){var B,F,me,le;if(!te||!te.state||Ge>S||Ge<0)return te?h(te,n):n;if(F=te.state,!te.output||!te.input&&0!==te.avail_in||F.status===dt&&Ge!==V)return h(te,0===te.avail_out?s:n);if(F.strm=te,B=F.last_flush,F.last_flush=Ge,F.status===Ae)if(2===F.wrap)te.adler=0,w(F,31),w(F,139),w(F,8),F.gzhead?(w(F,(F.gzhead.text?1:0)+(F.gzhead.hcrc?2:0)+(F.gzhead.extra?4:0)+(F.gzhead.name?8:0)+(F.gzhead.comment?16:0)),w(F,255&F.gzhead.time),w(F,F.gzhead.time>>8&255),w(F,F.gzhead.time>>16&255),w(F,F.gzhead.time>>24&255),w(F,9===F.level?2:F.strategy>=pe||F.level<2?4:0),w(F,255&F.gzhead.os),F.gzhead.extra&&F.gzhead.extra.length&&(w(F,255&F.gzhead.extra.length),w(F,F.gzhead.extra.length>>8&255)),F.gzhead.hcrc&&(te.adler=ue(te.adler,F.pending_buf,F.pending,0)),F.gzindex=0,F.status=Ne):(w(F,0),w(F,0),w(F,0),w(F,0),w(F,0),w(F,9===F.level?2:F.strategy>=pe||F.level<2?4:0),w(F,st),F.status=tt);else{var Me=Pe+(F.w_bits-8<<4)<<8;Me|=(F.strategy>=pe||F.level<2?0:F.level<6?1:6===F.level?2:3)<<6,0!==F.strstart&&(Me|=ke),Me+=31-Me%31,F.status=tt,b(F,Me),0!==F.strstart&&(b(F,te.adler>>>16),b(F,65535&te.adler)),te.adler=1}if(F.status===Ne)if(F.gzhead.extra){for(me=F.pending;F.gzindex<(65535&F.gzhead.extra.length)&&(F.pending!==F.pending_buf_size||(F.gzhead.hcrc&&F.pending>me&&(te.adler=ue(te.adler,F.pending_buf,F.pending-me,me)),f(te),me=F.pending,F.pending!==F.pending_buf_size));)w(F,255&F.gzhead.extra[F.gzindex]),F.gzindex++;F.gzhead.hcrc&&F.pending>me&&(te.adler=ue(te.adler,F.pending_buf,F.pending-me,me)),F.gzindex===F.gzhead.extra.length&&(F.gzindex=0,F.status=he)}else F.status=he;if(F.status===he)if(F.gzhead.name){me=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>me&&(te.adler=ue(te.adler,F.pending_buf,F.pending-me,me)),f(te),me=F.pending,F.pending===F.pending_buf_size)){le=1;break}le=F.gzindex<F.gzhead.name.length?255&F.gzhead.name.charCodeAt(F.gzindex++):0,w(F,le)}while(0!==le);F.gzhead.hcrc&&F.pending>me&&(te.adler=ue(te.adler,F.pending_buf,F.pending-me,me)),0===le&&(F.gzindex=0,F.status=Be)}else F.status=Be;if(F.status===Be)if(F.gzhead.comment){me=F.pending;do{if(F.pending===F.pending_buf_size&&(F.gzhead.hcrc&&F.pending>me&&(te.adler=ue(te.adler,F.pending_buf,F.pending-me,me)),f(te),me=F.pending,F.pending===F.pending_buf_size)){le=1;break}le=F.gzindex<F.gzhead.comment.length?255&F.gzhead.comment.charCodeAt(F.gzindex++):0,w(F,le)}while(0!==le);F.gzhead.hcrc&&F.pending>me&&(te.adler=ue(te.adler,F.pending_buf,F.pending-me,me)),0===le&&(F.status=Ve)}else F.status=Ve;if(F.status===Ve&&(F.gzhead.hcrc?(F.pending+2>F.pending_buf_size&&f(te),F.pending+2<=F.pending_buf_size&&(w(F,255&te.adler),w(F,te.adler>>8&255),te.adler=0,F.status=tt)):F.status=tt),0!==F.pending){if(f(te),0===te.avail_out)return F.last_flush=-1,O}else if(0===te.avail_in&&u(Ge)<=u(B)&&Ge!==V)return h(te,s);if(F.status===dt&&0!==te.avail_in)return h(te,s);if(0!==te.avail_in||0!==F.lookahead||Ge!==re&&F.status!==dt){var ct=F.strategy===pe?function N(te,Ge){for(var B;;){if(0===te.lookahead&&(_(te),0===te.lookahead)){if(Ge===re)return vt;break}if(te.match_length=0,B=Se._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++,B&&(P(te,!1),0===te.strm.avail_out))return vt}return te.insert=0,Ge===V?(P(te,!0),0===te.strm.avail_out?ft:je):te.last_lit&&(P(te,!1),0===te.strm.avail_out)?vt:Xe}(F,Ge):F.strategy===Ee?function j(te,Ge){for(var B,F,me,le,Me=te.window;;){if(te.lookahead<=ot){if(_(te),te.lookahead<=ot&&Ge===re)return vt;if(0===te.lookahead)break}if(te.match_length=0,te.lookahead>=Je&&te.strstart>0&&(F=Me[me=te.strstart-1])===Me[++me]&&F===Me[++me]&&F===Me[++me]){le=te.strstart+ot;do{}while(F===Me[++me]&&F===Me[++me]&&F===Me[++me]&&F===Me[++me]&&F===Me[++me]&&F===Me[++me]&&F===Me[++me]&&F===Me[++me]&&me<le);te.match_length=ot-(le-me),te.match_length>te.lookahead&&(te.match_length=te.lookahead)}if(te.match_length>=Je?(B=Se._tr_tally(te,1,te.match_length-Je),te.lookahead-=te.match_length,te.strstart+=te.match_length,te.match_length=0):(B=Se._tr_tally(te,0,te.window[te.strstart]),te.lookahead--,te.strstart++),B&&(P(te,!1),0===te.strm.avail_out))return vt}return te.insert=0,Ge===V?(P(te,!0),0===te.strm.avail_out?ft:je):te.last_lit&&(P(te,!1),0===te.strm.avail_out)?vt:Xe}(F,Ge):ce[F.level].func(F,Ge);if(ct!==ft&&ct!==je||(F.status=dt),ct===vt||ct===ft)return 0===te.avail_out&&(F.last_flush=-1),O;if(ct===Xe&&(Ge===J?Se._tr_align(F):Ge!==S&&(Se._tr_stored_block(F,0,0,!1),Ge===$&&(p(F.head),0===F.lookahead&&(F.strstart=0,F.block_start=0,F.insert=0))),f(te),0===te.avail_out))return F.last_flush=-1,O}return Ge!==V?O:F.wrap<=0?z:(2===F.wrap?(w(F,255&te.adler),w(F,te.adler>>8&255),w(F,te.adler>>16&255),w(F,te.adler>>24&255),w(F,255&te.total_in),w(F,te.total_in>>8&255),w(F,te.total_in>>16&255),w(F,te.total_in>>24&255)):(b(F,te.adler>>>16),b(F,65535&te.adler)),f(te),F.wrap>0&&(F.wrap=-F.wrap),0!==F.pending?O:z)},x.deflateEnd=function De(te){var Ge;return te&&te.state?(Ge=te.state.status)!==Ae&&Ge!==Ne&&Ge!==he&&Ge!==Be&&Ge!==Ve&&Ge!==tt&&Ge!==dt?h(te,n):(te.state=null,Ge===tt?h(te,m):O):n},x.deflateSetDictionary=function fe(te,Ge){var B,F,me,le,Me,Ze,ct,et,kt=Ge.length;if(!te||!te.state||2===(le=(B=te.state).wrap)||1===le&&B.status!==Ae||B.lookahead)return n;for(1===le&&(te.adler=se(te.adler,Ge,kt,0)),B.wrap=0,kt>=B.w_size&&(0===le&&(p(B.head),B.strstart=0,B.block_start=0,B.insert=0),et=new Ce.Buf8(B.w_size),Ce.arraySet(et,Ge,kt-B.w_size,B.w_size,0),Ge=et,kt=B.w_size),Me=te.avail_in,Ze=te.next_in,ct=te.input,te.avail_in=kt,te.next_in=0,te.input=Ge,_(B);B.lookahead>=Je;){F=B.strstart,me=B.lookahead-(Je-1);do{B.ins_h=(B.ins_h<<B.hash_shift^B.window[F+Je-1])&B.hash_mask,B.prev[F&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=F,F++}while(--me);B.strstart=F,B.lookahead=Je-1,_(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=Je-1,B.match_available=0,te.next_in=Ze,te.input=ct,te.avail_in=Me,B.wrap=le,O},x.deflateInfo="pako deflate (from Nodeca project)"},function(M,x,c){"use strict";function h(he){for(var Be=he.length;--Be>=0;)he[Be]=0}function u(he,Be,Ve,tt,dt){this.static_tree=he,this.extra_bits=Be,this.extra_base=Ve,this.elems=tt,this.max_length=dt,this.has_stree=he&&he.length}function p(he,Be){this.dyn_tree=he,this.max_code=0,this.stat_desc=Be}function f(he){return he<256?ze[he]:ze[256+(he>>>7)]}function P(he,Be){he.pending_buf[he.pending++]=255&Be,he.pending_buf[he.pending++]=Be>>>8&255}function w(he,Be,Ve){he.bi_valid>pe-Ve?(he.bi_buf|=Be<<he.bi_valid&65535,P(he,he.bi_buf),he.bi_buf=Be>>pe-he.bi_valid,he.bi_valid+=Ve-pe):(he.bi_buf|=Be<<he.bi_valid&65535,he.bi_valid+=Ve)}function b(he,Be,Ve){w(he,Ve[2*Be],Ve[2*Be+1])}function A(he,Be){var Ve=0;do{Ve|=1&he,he>>>=1,Ve<<=1}while(--Be>0);return Ve>>>1}function k(he,Be,Ve){var tt,dt,vt=new Array(W+1),Xe=0;for(tt=1;tt<=W;tt++)vt[tt]=Xe=Xe+Ve[tt-1]<<1;for(dt=0;dt<=Be;dt++){var ft=he[2*dt+1];0!==ft&&(he[2*dt]=A(vt[ft]++,ft))}}function C(he){var Be;for(Be=0;Be<n;Be++)he.dyn_ltree[2*Be]=0;for(Be=0;Be<m;Be++)he.dyn_dtree[2*Be]=0;for(Be=0;Be<s;Be++)he.bl_tree[2*Be]=0;he.dyn_ltree[2*be]=1,he.opt_len=he.static_len=0,he.last_lit=he.matches=0}function j(he){he.bi_valid>8?P(he,he.bi_buf):he.bi_valid>0&&(he.pending_buf[he.pending++]=he.bi_buf),he.bi_buf=0,he.bi_valid=0}function H(he,Be,Ve,tt){var dt=2*Be,vt=2*Ve;return he[dt]<he[vt]||he[dt]===he[vt]&&tt[Be]<=tt[Ve]}function v(he,Be,Ve){for(var tt=he.heap[Ve],dt=Ve<<1;dt<=he.heap_len&&(dt<he.heap_len&&H(Be,he.heap[dt+1],he.heap[dt],he.depth)&&dt++,!H(Be,tt,he.heap[dt],he.depth));)he.heap[Ve]=he.heap[dt],Ve=dt,dt<<=1;he.heap[Ve]=tt}function d(he,Be,Ve){var tt,dt,vt,Xe,ft=0;if(0!==he.last_lit)do{tt=he.pending_buf[he.d_buf+2*ft]<<8|he.pending_buf[he.d_buf+2*ft+1],dt=he.pending_buf[he.l_buf+ft],ft++,0===tt?b(he,dt,Be):(b(he,(vt=qe[dt])+z+1,Be),0!==(Xe=He[vt])&&w(he,dt-=Je[vt],Xe),b(he,vt=f(--tt),Ve),0!==(Xe=ut[vt])&&w(he,tt-=ot[vt],Xe))}while(ft<he.last_lit);b(he,be,Be)}function l(he,Be){var Ve,tt,dt,vt=Be.dyn_tree,Xe=Be.stat_desc.static_tree,ft=Be.stat_desc.has_stree,je=Be.stat_desc.elems,st=-1;for(he.heap_len=0,he.heap_max=E,Ve=0;Ve<je;Ve++)0!==vt[2*Ve]?(he.heap[++he.heap_len]=st=Ve,he.depth[Ve]=0):vt[2*Ve+1]=0;for(;he.heap_len<2;)vt[2*(dt=he.heap[++he.heap_len]=st<2?++st:0)]=1,he.depth[dt]=0,he.opt_len--,ft&&(he.static_len-=Xe[2*dt+1]);for(Be.max_code=st,Ve=he.heap_len>>1;Ve>=1;Ve--)v(he,vt,Ve);dt=je;do{Ve=he.heap[1],he.heap[1]=he.heap[he.heap_len--],v(he,vt,1),tt=he.heap[1],he.heap[--he.heap_max]=Ve,he.heap[--he.heap_max]=tt,vt[2*dt]=vt[2*Ve]+vt[2*tt],he.depth[dt]=(he.depth[Ve]>=he.depth[tt]?he.depth[Ve]:he.depth[tt])+1,vt[2*Ve+1]=vt[2*tt+1]=dt,he.heap[1]=dt++,v(he,vt,1)}while(he.heap_len>=2);he.heap[--he.heap_max]=he.heap[1],function _(he,Be){var Ve,tt,dt,vt,Xe,ft,je=Be.dyn_tree,st=Be.max_code,te=Be.stat_desc.static_tree,Ge=Be.stat_desc.has_stree,B=Be.stat_desc.extra_bits,F=Be.stat_desc.extra_base,me=Be.stat_desc.max_length,le=0;for(vt=0;vt<=W;vt++)he.bl_count[vt]=0;for(je[2*he.heap[he.heap_max]+1]=0,Ve=he.heap_max+1;Ve<E;Ve++)(vt=je[2*je[2*(tt=he.heap[Ve])+1]+1]+1)>me&&(vt=me,le++),je[2*tt+1]=vt,tt>st||(he.bl_count[vt]++,Xe=0,tt>=F&&(Xe=B[tt-F]),he.opt_len+=(ft=je[2*tt])*(vt+Xe),Ge&&(he.static_len+=ft*(te[2*tt+1]+Xe)));if(0!==le){do{for(vt=me-1;0===he.bl_count[vt];)vt--;he.bl_count[vt]--,he.bl_count[vt+1]+=2,he.bl_count[me]--,le-=2}while(le>0);for(vt=me;0!==vt;vt--)for(tt=he.bl_count[vt];0!==tt;)(dt=he.heap[--Ve])>st||(je[2*dt+1]!==vt&&(he.opt_len+=(vt-je[2*dt+1])*je[2*dt],je[2*dt+1]=vt),tt--)}}(he,Be),k(vt,st,he.bl_count)}function y(he,Be,Ve){var tt,dt,vt=-1,Xe=Be[1],ft=0,je=7,st=4;for(0===Xe&&(je=138,st=3),Be[2*(Ve+1)+1]=65535,tt=0;tt<=Ve;tt++)dt=Xe,Xe=Be[2*(tt+1)+1],++ft<je&&dt===Xe||(ft<st?he.bl_tree[2*dt]+=ft:0!==dt?(dt!==vt&&he.bl_tree[2*dt]++,he.bl_tree[2*de]++):ft<=10?he.bl_tree[2*_e]++:he.bl_tree[2*Pe]++,ft=0,vt=dt,0===Xe?(je=138,st=3):dt===Xe?(je=6,st=3):(je=7,st=4))}function g(he,Be,Ve){var tt,dt,vt=-1,Xe=Be[1],ft=0,je=7,st=4;for(0===Xe&&(je=138,st=3),tt=0;tt<=Ve;tt++)if(dt=Xe,Xe=Be[2*(tt+1)+1],!(++ft<je&&dt===Xe)){if(ft<st)do{b(he,dt,he.bl_tree)}while(0!=--ft);else 0!==dt?(dt!==vt&&(b(he,dt,he.bl_tree),ft--),b(he,de,he.bl_tree),w(he,ft-3,2)):ft<=10?(b(he,_e,he.bl_tree),w(he,ft-3,3)):(b(he,Pe,he.bl_tree),w(he,ft-11,7));ft=0,vt=dt,0===Xe?(je=138,st=3):dt===Xe?(je=6,st=3):(je=7,st=4)}}function fe(he,Be,Ve,tt){w(he,($<<1)+(tt?1:0),3),function N(he,Be,Ve,tt){j(he),tt&&(P(he,Ve),P(he,~Ve)),se.arraySet(he.pending_buf,he.window,Be,Ve,he.pending),he.pending+=Ve}(he,Be,Ve,!0)}var se=c(4),ue=4,xe=0,re=1,J=2,$=0,V=1,S=2,O=29,z=256,n=z+1+O,m=30,s=19,E=2*n+1,W=15,pe=16,Ee=7,be=256,de=16,_e=17,Pe=18,He=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ut=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ae=new Array(2*(n+2));h(ae);var Oe=new Array(2*m);h(Oe);var ze=new Array(512);h(ze);var qe=new Array(256);h(qe);var Je=new Array(O);h(Je);var ot=new Array(m);h(ot);var X,ke,Ae,Ne=!1;x._tr_init=function De(he){Ne||(function T(){var he,Be,Ve,tt,dt,vt=new Array(W+1);for(Ve=0,tt=0;tt<O-1;tt++)for(Je[tt]=Ve,he=0;he<1<<He[tt];he++)qe[Ve++]=tt;for(qe[Ve-1]=tt,dt=0,tt=0;tt<16;tt++)for(ot[tt]=dt,he=0;he<1<<ut[tt];he++)ze[dt++]=tt;for(dt>>=7;tt<m;tt++)for(ot[tt]=dt<<7,he=0;he<1<<ut[tt]-7;he++)ze[256+dt++]=tt;for(Be=0;Be<=W;Be++)vt[Be]=0;for(he=0;he<=143;)ae[2*he+1]=8,he++,vt[8]++;for(;he<=255;)ae[2*he+1]=9,he++,vt[9]++;for(;he<=279;)ae[2*he+1]=7,he++,vt[7]++;for(;he<=287;)ae[2*he+1]=8,he++,vt[8]++;for(k(ae,n+1,vt),he=0;he<m;he++)Oe[2*he+1]=5,Oe[2*he]=A(he,5);X=new u(ae,He,z+1,n,W),ke=new u(Oe,ut,0,m,W),Ae=new u(new Array(0),rt,0,s,Ee)}(),Ne=!0),he.l_desc=new p(he.dyn_ltree,X),he.d_desc=new p(he.dyn_dtree,ke),he.bl_desc=new p(he.bl_tree,Ae),he.bi_buf=0,he.bi_valid=0,C(he)},x._tr_stored_block=fe,x._tr_flush_block=function Ce(he,Be,Ve,tt){var dt,vt,Xe=0;he.level>0?(he.strm.data_type===J&&(he.strm.data_type=function ee(he){var Be,Ve=4093624447;for(Be=0;Be<=31;Be++,Ve>>>=1)if(1&Ve&&0!==he.dyn_ltree[2*Be])return xe;if(0!==he.dyn_ltree[18]||0!==he.dyn_ltree[20]||0!==he.dyn_ltree[26])return re;for(Be=32;Be<z;Be++)if(0!==he.dyn_ltree[2*Be])return re;return xe}(he)),l(he,he.l_desc),l(he,he.d_desc),Xe=function L(he){var Be;for(y(he,he.dyn_ltree,he.l_desc.max_code),y(he,he.dyn_dtree,he.d_desc.max_code),l(he,he.bl_desc),Be=s-1;Be>=3&&0===he.bl_tree[2*G[Be]+1];Be--);return he.opt_len+=3*(Be+1)+5+5+4,Be}(he),(vt=he.static_len+3+7>>>3)<=(dt=he.opt_len+3+7>>>3)&&(dt=vt)):dt=vt=Ve+5,Ve+4<=dt&&-1!==Be?fe(he,Be,Ve,tt):he.strategy===ue||vt===dt?(w(he,(V<<1)+(tt?1:0),3),d(he,ae,Oe)):(w(he,(S<<1)+(tt?1:0),3),function K(he,Be,Ve,tt){var dt;for(w(he,Be-257,5),w(he,Ve-1,5),w(he,tt-4,4),dt=0;dt<tt;dt++)w(he,he.bl_tree[2*G[dt]+1],3);g(he,he.dyn_ltree,Be-1),g(he,he.dyn_dtree,Ve-1)}(he,he.l_desc.max_code+1,he.d_desc.max_code+1,Xe+1),d(he,he.dyn_ltree,he.dyn_dtree)),C(he),tt&&j(he)},x._tr_tally=function Se(he,Be,Ve){return he.pending_buf[he.d_buf+2*he.last_lit]=Be>>>8&255,he.pending_buf[he.d_buf+2*he.last_lit+1]=255&Be,he.pending_buf[he.l_buf+he.last_lit]=255&Ve,he.last_lit++,0===Be?he.dyn_ltree[2*Ve]++:(he.matches++,Be--,he.dyn_ltree[2*(qe[Ve]+z+1)]++,he.dyn_dtree[2*f(Be)]++),he.last_lit===he.lit_bufsize-1},x._tr_align=function ce(he){w(he,V<<1,3),b(he,be,ae),function R(he){16===he.bi_valid?(P(he,he.bi_buf),he.bi_buf=0,he.bi_valid=0):he.bi_valid>=8&&(he.pending_buf[he.pending++]=255&he.bi_buf,he.bi_buf>>=8,he.bi_valid-=8)}(he)}},function(M,x,c){"use strict";function h(T){if(!(this instanceof h))return new h(T);this.options=P.assign({chunkSize:16384,windowBits:0,to:""},T||{});var C=this.options;C.raw&&C.windowBits>=0&&C.windowBits<16&&(C.windowBits=-C.windowBits,0===C.windowBits&&(C.windowBits=-15)),!(C.windowBits>=0&&C.windowBits<16)||T&&T.windowBits||(C.windowBits+=32),C.windowBits>15&&C.windowBits<48&&0==(15&C.windowBits)&&(C.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new R,this.strm.avail_out=0;var j=f.inflateInit2(this.strm,C.windowBits);if(j!==b.Z_OK)throw new Error(A[j]);this.header=new _,f.inflateGetHeader(this.strm,this.header)}function u(T,C){var j=new h(C);if(j.push(T,!0),j.err)throw j.msg||A[j.err];return j.result}var f=c(92),P=c(4),w=c(42),b=c(44),A=c(23),R=c(43),_=c(95),k=Object.prototype.toString;h.prototype.push=function(T,C){var j,N,H,v,d,l,y=this.strm,g=this.options.chunkSize,L=this.options.dictionary,K=!1;if(this.ended)return!1;N=C===~~C?C:!0===C?b.Z_FINISH:b.Z_NO_FLUSH,y.input="string"==typeof T?w.binstring2buf(T):"[object ArrayBuffer]"===k.call(T)?new Uint8Array(T):T,y.next_in=0,y.avail_in=y.input.length;do{if(0===y.avail_out&&(y.output=new P.Buf8(g),y.next_out=0,y.avail_out=g),(j=f.inflate(y,b.Z_NO_FLUSH))===b.Z_NEED_DICT&&L&&(l="string"==typeof L?w.string2buf(L):"[object ArrayBuffer]"===k.call(L)?new Uint8Array(L):L,j=f.inflateSetDictionary(this.strm,l)),j===b.Z_BUF_ERROR&&!0===K&&(j=b.Z_OK,K=!1),j!==b.Z_STREAM_END&&j!==b.Z_OK)return this.onEnd(j),this.ended=!0,!1;y.next_out&&(0!==y.avail_out&&j!==b.Z_STREAM_END&&(0!==y.avail_in||N!==b.Z_FINISH&&N!==b.Z_SYNC_FLUSH)||("string"===this.options.to?(H=w.utf8border(y.output,y.next_out),v=y.next_out-H,d=w.buf2string(y.output,H),y.next_out=v,y.avail_out=g-v,v&&P.arraySet(y.output,y.output,H,v,0),this.onData(d)):this.onData(P.shrinkBuf(y.output,y.next_out)))),0===y.avail_in&&0===y.avail_out&&(K=!0)}while((y.avail_in>0||0===y.avail_out)&&j!==b.Z_STREAM_END);return j===b.Z_STREAM_END&&(N=b.Z_FINISH),N===b.Z_FINISH?(j=f.inflateEnd(this.strm),this.onEnd(j),this.ended=!0,j===b.Z_OK):N!==b.Z_SYNC_FLUSH||(this.onEnd(b.Z_OK),y.avail_out=0,!0)},h.prototype.onData=function(T){this.chunks.push(T)},h.prototype.onEnd=function(T){T===b.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):P.flattenChunks(this.chunks)),this.chunks=[],this.err=T,this.msg=this.strm.msg},x.Inflate=h,x.inflate=u,x.inflateRaw=function p(T,C){return(C=C||{}).raw=!0,u(T,C)},x.ungzip=u},function(M,x,c){"use strict";function h(Xe){return(Xe>>>24&255)+(Xe>>>8&65280)+((65280&Xe)<<8)+((255&Xe)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new H.Buf16(320),this.work=new H.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function p(Xe){var ft;return Xe&&Xe.state?(Xe.total_in=Xe.total_out=(ft=Xe.state).total=0,Xe.msg="",ft.wrap&&(Xe.adler=1&ft.wrap),ft.mode=$,ft.last=0,ft.havedict=0,ft.dmax=32768,ft.head=null,ft.hold=0,ft.bits=0,ft.lencode=ft.lendyn=new H.Buf32(Ve),ft.distcode=ft.distdyn=new H.Buf32(tt),ft.sane=1,ft.back=-1,ce):se}function f(Xe){var ft;return Xe&&Xe.state?((ft=Xe.state).wsize=0,ft.whave=0,ft.wnext=0,p(Xe)):se}function P(Xe,ft){var je,st;return Xe&&Xe.state?(st=Xe.state,ft<0?(je=0,ft=-ft):(je=1+(ft>>4),ft<48&&(ft&=15)),ft&&(ft<8||ft>15)?se:(null!==st.window&&st.wbits!==ft&&(st.window=null),st.wrap=je,st.wbits=ft,f(Xe))):se}function w(Xe,ft){var je,st;return Xe?(st=new u,Xe.state=st,st.window=null,(je=P(Xe,ft))!==ce&&(Xe.state=null),je):se}function A(Xe){if(vt){var ft;for(j=new H.Buf32(512),N=new H.Buf32(32),ft=0;ft<144;)Xe.lens[ft++]=8;for(;ft<256;)Xe.lens[ft++]=9;for(;ft<280;)Xe.lens[ft++]=7;for(;ft<288;)Xe.lens[ft++]=8;for(y(L,Xe.lens,0,288,j,0,Xe.work,{bits:9}),ft=0;ft<32;)Xe.lens[ft++]=5;y(K,Xe.lens,0,32,N,0,Xe.work,{bits:5}),vt=!1}Xe.lencode=j,Xe.lenbits=9,Xe.distcode=N,Xe.distbits=5}function R(Xe,ft,je,st){var te,Ge=Xe.state;return null===Ge.window&&(Ge.wsize=1<<Ge.wbits,Ge.wnext=0,Ge.whave=0,Ge.window=new H.Buf8(Ge.wsize)),st>=Ge.wsize?(H.arraySet(Ge.window,ft,je-Ge.wsize,Ge.wsize,0),Ge.wnext=0,Ge.whave=Ge.wsize):((te=Ge.wsize-Ge.wnext)>st&&(te=st),H.arraySet(Ge.window,ft,je-st,te,Ge.wnext),(st-=te)?(H.arraySet(Ge.window,ft,je-st,st,0),Ge.wnext=st,Ge.whave=Ge.wsize):(Ge.wnext+=te,Ge.wnext===Ge.wsize&&(Ge.wnext=0),Ge.whave<Ge.wsize&&(Ge.whave+=te))),0}var j,N,H=c(4),v=c(40),d=c(41),l=c(93),y=c(94),g=0,L=1,K=2,ee=4,De=5,fe=6,ce=0,Ce=1,Se=2,se=-2,ue=-3,xe=-4,re=-5,J=8,$=1,V=2,S=3,O=4,z=5,n=6,m=7,s=8,E=9,W=10,pe=11,Ee=12,be=13,de=14,_e=15,Pe=16,He=17,ut=18,rt=19,G=20,ae=21,Oe=22,ze=23,qe=24,Je=25,ot=26,X=27,ke=28,Ae=29,Ne=30,he=31,Ve=852,tt=592,dt=15,vt=!0;x.inflateReset=f,x.inflateReset2=P,x.inflateResetKeep=p,x.inflateInit=function b(Xe){return w(Xe,dt)},x.inflateInit2=w,x.inflate=function _(Xe,ft){var je,st,te,Ge,B,F,me,le,Me,Ze,ct,et,kt,At,St,Dt,Mt,Gt,Xt,ln,Qt,It,Tt,Ut,Kt=0,Et=new H.Buf8(4),qt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Xe||!Xe.state||!Xe.output||!Xe.input&&0!==Xe.avail_in)return se;(je=Xe.state).mode===Ee&&(je.mode=be),B=Xe.next_out,te=Xe.output,Ge=Xe.next_in,st=Xe.input,le=je.hold,Me=je.bits,Ze=F=Xe.avail_in,ct=me=Xe.avail_out,It=ce;e:for(;;)switch(je.mode){case $:if(0===je.wrap){je.mode=be;break}for(;Me<16;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}if(2&je.wrap&&35615===le){je.check=0,Et[0]=255&le,Et[1]=le>>>8&255,je.check=d(je.check,Et,2,0),le=0,Me=0,je.mode=V;break}if(je.flags=0,je.head&&(je.head.done=!1),!(1&je.wrap)||(((255&le)<<8)+(le>>8))%31){Xe.msg="incorrect header check",je.mode=Ne;break}if((15&le)!==J){Xe.msg="unknown compression method",je.mode=Ne;break}if(Me-=4,Qt=8+(15&(le>>>=4)),0===je.wbits)je.wbits=Qt;else if(Qt>je.wbits){Xe.msg="invalid window size",je.mode=Ne;break}je.dmax=1<<Qt,Xe.adler=je.check=1,je.mode=512&le?W:Ee,le=0,Me=0;break;case V:for(;Me<16;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}if(je.flags=le,(255&je.flags)!==J){Xe.msg="unknown compression method",je.mode=Ne;break}if(57344&je.flags){Xe.msg="unknown header flags set",je.mode=Ne;break}je.head&&(je.head.text=le>>8&1),512&je.flags&&(Et[0]=255&le,Et[1]=le>>>8&255,je.check=d(je.check,Et,2,0)),le=0,Me=0,je.mode=S;case S:for(;Me<32;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}je.head&&(je.head.time=le),512&je.flags&&(Et[0]=255&le,Et[1]=le>>>8&255,Et[2]=le>>>16&255,Et[3]=le>>>24&255,je.check=d(je.check,Et,4,0)),le=0,Me=0,je.mode=O;case O:for(;Me<16;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}je.head&&(je.head.xflags=255&le,je.head.os=le>>8),512&je.flags&&(Et[0]=255&le,Et[1]=le>>>8&255,je.check=d(je.check,Et,2,0)),le=0,Me=0,je.mode=z;case z:if(1024&je.flags){for(;Me<16;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}je.length=le,je.head&&(je.head.extra_len=le),512&je.flags&&(Et[0]=255&le,Et[1]=le>>>8&255,je.check=d(je.check,Et,2,0)),le=0,Me=0}else je.head&&(je.head.extra=null);je.mode=n;case n:if(1024&je.flags&&((et=je.length)>F&&(et=F),et&&(je.head&&(Qt=je.head.extra_len-je.length,je.head.extra||(je.head.extra=new Array(je.head.extra_len)),H.arraySet(je.head.extra,st,Ge,et,Qt)),512&je.flags&&(je.check=d(je.check,st,et,Ge)),F-=et,Ge+=et,je.length-=et),je.length))break e;je.length=0,je.mode=m;case m:if(2048&je.flags){if(0===F)break e;et=0;do{Qt=st[Ge+et++],je.head&&Qt&&je.length<65536&&(je.head.name+=String.fromCharCode(Qt))}while(Qt&&et<F);if(512&je.flags&&(je.check=d(je.check,st,et,Ge)),F-=et,Ge+=et,Qt)break e}else je.head&&(je.head.name=null);je.length=0,je.mode=s;case s:if(4096&je.flags){if(0===F)break e;et=0;do{Qt=st[Ge+et++],je.head&&Qt&&je.length<65536&&(je.head.comment+=String.fromCharCode(Qt))}while(Qt&&et<F);if(512&je.flags&&(je.check=d(je.check,st,et,Ge)),F-=et,Ge+=et,Qt)break e}else je.head&&(je.head.comment=null);je.mode=E;case E:if(512&je.flags){for(;Me<16;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}if(le!==(65535&je.check)){Xe.msg="header crc mismatch",je.mode=Ne;break}le=0,Me=0}je.head&&(je.head.hcrc=je.flags>>9&1,je.head.done=!0),Xe.adler=je.check=0,je.mode=Ee;break;case W:for(;Me<32;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}Xe.adler=je.check=h(le),le=0,Me=0,je.mode=pe;case pe:if(0===je.havedict)return Xe.next_out=B,Xe.avail_out=me,Xe.next_in=Ge,Xe.avail_in=F,je.hold=le,je.bits=Me,Se;Xe.adler=je.check=1,je.mode=Ee;case Ee:if(ft===De||ft===fe)break e;case be:if(je.last){le>>>=7&Me,Me-=7&Me,je.mode=X;break}for(;Me<3;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}switch(je.last=1&le,Me-=1,3&(le>>>=1)){case 0:je.mode=de;break;case 1:if(A(je),je.mode=G,ft===fe){le>>>=2,Me-=2;break e}break;case 2:je.mode=He;break;case 3:Xe.msg="invalid block type",je.mode=Ne}le>>>=2,Me-=2;break;case de:for(le>>>=7&Me,Me-=7&Me;Me<32;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}if((65535&le)!=(le>>>16^65535)){Xe.msg="invalid stored block lengths",je.mode=Ne;break}if(je.length=65535&le,le=0,Me=0,je.mode=_e,ft===fe)break e;case _e:je.mode=Pe;case Pe:if(et=je.length){if(et>F&&(et=F),et>me&&(et=me),0===et)break e;H.arraySet(te,st,Ge,et,B),F-=et,Ge+=et,me-=et,B+=et,je.length-=et;break}je.mode=Ee;break;case He:for(;Me<14;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}if(je.nlen=257+(31&le),Me-=5,je.ndist=1+(31&(le>>>=5)),Me-=5,je.ncode=4+(15&(le>>>=5)),le>>>=4,Me-=4,je.nlen>286||je.ndist>30){Xe.msg="too many length or distance symbols",je.mode=Ne;break}je.have=0,je.mode=ut;case ut:for(;je.have<je.ncode;){for(;Me<3;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}je.lens[qt[je.have++]]=7&le,le>>>=3,Me-=3}for(;je.have<19;)je.lens[qt[je.have++]]=0;if(je.lencode=je.lendyn,je.lenbits=7,It=y(g,je.lens,0,19,je.lencode,0,je.work,Tt={bits:je.lenbits}),je.lenbits=Tt.bits,It){Xe.msg="invalid code lengths set",je.mode=Ne;break}je.have=0,je.mode=rt;case rt:for(;je.have<je.nlen+je.ndist;){for(;Dt=(Kt=je.lencode[le&(1<<je.lenbits)-1])>>>16&255,Mt=65535&Kt,!((St=Kt>>>24)<=Me);){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}if(Mt<16)le>>>=St,Me-=St,je.lens[je.have++]=Mt;else{if(16===Mt){for(Ut=St+2;Me<Ut;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}if(le>>>=St,Me-=St,0===je.have){Xe.msg="invalid bit length repeat",je.mode=Ne;break}Qt=je.lens[je.have-1],et=3+(3&le),le>>>=2,Me-=2}else if(17===Mt){for(Ut=St+3;Me<Ut;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}Me-=St,Qt=0,et=3+(7&(le>>>=St)),le>>>=3,Me-=3}else{for(Ut=St+7;Me<Ut;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}Me-=St,Qt=0,et=11+(127&(le>>>=St)),le>>>=7,Me-=7}if(je.have+et>je.nlen+je.ndist){Xe.msg="invalid bit length repeat",je.mode=Ne;break}for(;et--;)je.lens[je.have++]=Qt}}if(je.mode===Ne)break;if(0===je.lens[256]){Xe.msg="invalid code -- missing end-of-block",je.mode=Ne;break}if(je.lenbits=9,It=y(L,je.lens,0,je.nlen,je.lencode,0,je.work,Tt={bits:je.lenbits}),je.lenbits=Tt.bits,It){Xe.msg="invalid literal/lengths set",je.mode=Ne;break}if(je.distbits=6,je.distcode=je.distdyn,It=y(K,je.lens,je.nlen,je.ndist,je.distcode,0,je.work,Tt={bits:je.distbits}),je.distbits=Tt.bits,It){Xe.msg="invalid distances set",je.mode=Ne;break}if(je.mode=G,ft===fe)break e;case G:je.mode=ae;case ae:if(F>=6&&me>=258){Xe.next_out=B,Xe.avail_out=me,Xe.next_in=Ge,Xe.avail_in=F,je.hold=le,je.bits=Me,l(Xe,ct),B=Xe.next_out,te=Xe.output,me=Xe.avail_out,Ge=Xe.next_in,st=Xe.input,F=Xe.avail_in,le=je.hold,Me=je.bits,je.mode===Ee&&(je.back=-1);break}for(je.back=0;Dt=(Kt=je.lencode[le&(1<<je.lenbits)-1])>>>16&255,Mt=65535&Kt,!((St=Kt>>>24)<=Me);){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}if(Dt&&0==(240&Dt)){for(Gt=St,Xt=Dt,ln=Mt;Dt=(Kt=je.lencode[ln+((le&(1<<Gt+Xt)-1)>>Gt)])>>>16&255,Mt=65535&Kt,!(Gt+(St=Kt>>>24)<=Me);){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}le>>>=Gt,Me-=Gt,je.back+=Gt}if(le>>>=St,Me-=St,je.back+=St,je.length=Mt,0===Dt){je.mode=ot;break}if(32&Dt){je.back=-1,je.mode=Ee;break}if(64&Dt){Xe.msg="invalid literal/length code",je.mode=Ne;break}je.extra=15&Dt,je.mode=Oe;case Oe:if(je.extra){for(Ut=je.extra;Me<Ut;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}je.length+=le&(1<<je.extra)-1,le>>>=je.extra,Me-=je.extra,je.back+=je.extra}je.was=je.length,je.mode=ze;case ze:for(;Dt=(Kt=je.distcode[le&(1<<je.distbits)-1])>>>16&255,Mt=65535&Kt,!((St=Kt>>>24)<=Me);){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}if(0==(240&Dt)){for(Gt=St,Xt=Dt,ln=Mt;Dt=(Kt=je.distcode[ln+((le&(1<<Gt+Xt)-1)>>Gt)])>>>16&255,Mt=65535&Kt,!(Gt+(St=Kt>>>24)<=Me);){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}le>>>=Gt,Me-=Gt,je.back+=Gt}if(le>>>=St,Me-=St,je.back+=St,64&Dt){Xe.msg="invalid distance code",je.mode=Ne;break}je.offset=Mt,je.extra=15&Dt,je.mode=qe;case qe:if(je.extra){for(Ut=je.extra;Me<Ut;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}je.offset+=le&(1<<je.extra)-1,le>>>=je.extra,Me-=je.extra,je.back+=je.extra}if(je.offset>je.dmax){Xe.msg="invalid distance too far back",je.mode=Ne;break}je.mode=Je;case Je:if(0===me)break e;if(je.offset>(et=ct-me)){if((et=je.offset-et)>je.whave&&je.sane){Xe.msg="invalid distance too far back",je.mode=Ne;break}kt=et>je.wnext?je.wsize-(et-=je.wnext):je.wnext-et,et>je.length&&(et=je.length),At=je.window}else At=te,kt=B-je.offset,et=je.length;et>me&&(et=me),me-=et,je.length-=et;do{te[B++]=At[kt++]}while(--et);0===je.length&&(je.mode=ae);break;case ot:if(0===me)break e;te[B++]=je.length,me--,je.mode=ae;break;case X:if(je.wrap){for(;Me<32;){if(0===F)break e;F--,le|=st[Ge++]<<Me,Me+=8}if(Xe.total_out+=ct-=me,je.total+=ct,ct&&(Xe.adler=je.check=je.flags?d(je.check,te,ct,B-ct):v(je.check,te,ct,B-ct)),ct=me,(je.flags?le:h(le))!==je.check){Xe.msg="incorrect data check",je.mode=Ne;break}le=0,Me=0}je.mode=ke;case ke:if(je.wrap&&je.flags){for(;Me<32;){if(0===F)break e;F--,le+=st[Ge++]<<Me,Me+=8}if(le!==(4294967295&je.total)){Xe.msg="incorrect length check",je.mode=Ne;break}le=0,Me=0}je.mode=Ae;case Ae:It=Ce;break e;case Ne:It=ue;break e;case he:return xe;default:return se}return Xe.next_out=B,Xe.avail_out=me,Xe.next_in=Ge,Xe.avail_in=F,je.hold=le,je.bits=Me,(je.wsize||ct!==Xe.avail_out&&je.mode<Ne&&(je.mode<X||ft!==ee))&&R(Xe,Xe.output,Xe.next_out,ct-Xe.avail_out)?(je.mode=he,xe):(ct-=Xe.avail_out,Xe.total_in+=Ze-=Xe.avail_in,Xe.total_out+=ct,je.total+=ct,je.wrap&&ct&&(Xe.adler=je.check=je.flags?d(je.check,te,ct,Xe.next_out-ct):v(je.check,te,ct,Xe.next_out-ct)),Xe.data_type=je.bits+(je.last?64:0)+(je.mode===Ee?128:0)+(je.mode===G||je.mode===_e?256:0),(0===Ze&&0===ct||ft===ee)&&It===ce&&(It=re),It)},x.inflateEnd=function k(Xe){if(!Xe||!Xe.state)return se;var ft=Xe.state;return ft.window&&(ft.window=null),Xe.state=null,ce},x.inflateGetHeader=function T(Xe,ft){var je;return Xe&&Xe.state?0==(2&(je=Xe.state).wrap)?se:(je.head=ft,ft.done=!1,ce):se},x.inflateSetDictionary=function C(Xe,ft){var je,te=ft.length;return Xe&&Xe.state?0!==(je=Xe.state).wrap&&je.mode!==pe?se:je.mode===pe&&v(1,ft,te,0)!==je.check?ue:R(Xe,ft,te,te)?(je.mode=he,xe):(je.havedict=1,ce):se},x.inflateInfo="pako inflate (from Nodeca project)"},function(M,x,c){"use strict";M.exports=function(h,u){var p,f,P,w,b,A,R,_,k,T,C,j,N,H,v,d,l,y,g,L,K,ee,De,fe,ce;fe=h.input,P=(f=h.next_in)+(h.avail_in-5),ce=h.output,b=(w=h.next_out)-(u-h.avail_out),A=w+(h.avail_out-257),R=(p=h.state).dmax,_=p.wsize,k=p.whave,T=p.wnext,C=p.window,j=p.hold,N=p.bits,H=p.lencode,v=p.distcode,d=(1<<p.lenbits)-1,l=(1<<p.distbits)-1;e:do{N<15&&(j+=fe[f++]<<N,j+=fe[f++]<<(N+=8),N+=8),y=H[j&d];t:for(;;){if(j>>>=g=y>>>24,N-=g,0==(g=y>>>16&255))ce[w++]=65535&y;else{if(!(16&g)){if(0==(64&g)){y=H[(65535&y)+(j&(1<<g)-1)];continue t}if(32&g){p.mode=12;break e}h.msg="invalid literal/length code",p.mode=30;break e}L=65535&y,(g&=15)&&(N<g&&(j+=fe[f++]<<N,N+=8),L+=j&(1<<g)-1,j>>>=g,N-=g),N<15&&(j+=fe[f++]<<N,j+=fe[f++]<<(N+=8),N+=8),y=v[j&l];n:for(;;){if(j>>>=g=y>>>24,N-=g,!(16&(g=y>>>16&255))){if(0==(64&g)){y=v[(65535&y)+(j&(1<<g)-1)];continue n}h.msg="invalid distance code",p.mode=30;break e}if(K=65535&y,N<(g&=15)&&(j+=fe[f++]<<N,(N+=8)<g&&(j+=fe[f++]<<N,N+=8)),(K+=j&(1<<g)-1)>R){h.msg="invalid distance too far back",p.mode=30;break e}if(j>>>=g,N-=g,K>(g=w-b)){if((g=K-g)>k&&p.sane){h.msg="invalid distance too far back",p.mode=30;break e}if(ee=0,De=C,0===T){if(ee+=_-g,g<L){L-=g;do{ce[w++]=C[ee++]}while(--g);ee=w-K,De=ce}}else if(T<g){if(ee+=_+T-g,(g-=T)<L){L-=g;do{ce[w++]=C[ee++]}while(--g);if(ee=0,T<L){L-=g=T;do{ce[w++]=C[ee++]}while(--g);ee=w-K,De=ce}}}else if(ee+=T-g,g<L){L-=g;do{ce[w++]=C[ee++]}while(--g);ee=w-K,De=ce}for(;L>2;)ce[w++]=De[ee++],ce[w++]=De[ee++],ce[w++]=De[ee++],L-=3;L&&(ce[w++]=De[ee++],L>1&&(ce[w++]=De[ee++]))}else{ee=w-K;do{ce[w++]=ce[ee++],ce[w++]=ce[ee++],ce[w++]=ce[ee++],L-=3}while(L>2);L&&(ce[w++]=ce[ee++],L>1&&(ce[w++]=ce[ee++]))}break}}break}}while(f<P&&w<A);j&=(1<<(N-=(L=N>>3)<<3))-1,h.next_in=f-=L,h.next_out=w,h.avail_in=f<P?P-f+5:5-(f-P),h.avail_out=w<A?A-w+257:257-(w-A),p.hold=j,p.bits=N}},function(M,x,c){"use strict";var h=c(4),u=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],f=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],P=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];M.exports=function(w,b,A,R,_,k,T,C){var j,N,H,v,d,l,y,g,L,K=C.bits,ee=0,De=0,fe=0,ce=0,Ce=0,Se=0,se=0,ue=0,xe=0,re=0,J=null,$=0,V=new h.Buf16(16),S=new h.Buf16(16),O=null,z=0;for(ee=0;ee<=15;ee++)V[ee]=0;for(De=0;De<R;De++)V[b[A+De]]++;for(Ce=K,ce=15;ce>=1&&0===V[ce];ce--);if(Ce>ce&&(Ce=ce),0===ce)return _[k++]=20971520,_[k++]=20971520,C.bits=1,0;for(fe=1;fe<ce&&0===V[fe];fe++);for(Ce<fe&&(Ce=fe),ue=1,ee=1;ee<=15;ee++)if(ue<<=1,(ue-=V[ee])<0)return-1;if(ue>0&&(0===w||1!==ce))return-1;for(S[1]=0,ee=1;ee<15;ee++)S[ee+1]=S[ee]+V[ee];for(De=0;De<R;De++)0!==b[A+De]&&(T[S[b[A+De]]++]=De);if(0===w?(J=O=T,l=19):1===w?(J=u,$-=257,O=p,z-=257,l=256):(J=f,O=P,l=-1),re=0,De=0,ee=fe,d=k,Se=Ce,se=0,H=-1,v=(xe=1<<Ce)-1,1===w&&xe>852||2===w&&xe>592)return 1;for(;;){y=ee-se,T[De]<l?(g=0,L=T[De]):T[De]>l?(g=O[z+T[De]],L=J[$+T[De]]):(g=96,L=0),j=1<<ee-se,fe=N=1<<Se;do{_[d+(re>>se)+(N-=j)]=y<<24|g<<16|L|0}while(0!==N);for(j=1<<ee-1;re&j;)j>>=1;if(0!==j?(re&=j-1,re+=j):re=0,De++,0==--V[ee]){if(ee===ce)break;ee=b[A+T[De]]}if(ee>Ce&&(re&v)!==H){for(0===se&&(se=Ce),d+=fe,ue=1<<(Se=ee-se);Se+se<ce&&!((ue-=V[Se+se])<=0);)Se++,ue<<=1;if(xe+=1<<Se,1===w&&xe>852||2===w&&xe>592)return 1;_[H=re&v]=Ce<<24|Se<<16|d-k|0}}return 0!==re&&(_[d+re]=ee-se<<24|64<<16|0),C.bits=Ce,0}},function(M,x,c){"use strict";M.exports=function h(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},function(M,x,c){"use strict";function h(C,j,N,H){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=j,this.zipPlatform=N,this.encodeFileName=H,this.streamFiles=C,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}var u=c(0),p=c(1),f=c(6),P=c(22),w=c(45),b=function(C,j){var N,H="";for(N=0;N<j;N++)H+=String.fromCharCode(255&C),C>>>=8;return H},_=function(C,j,N,H,v,d){var l,y,g=C.file,L=C.compression,K=d!==f.utf8encode,ee=u.transformTo("string",d(g.name)),De=u.transformTo("string",f.utf8encode(g.name)),fe=g.comment,ce=u.transformTo("string",d(fe)),Ce=u.transformTo("string",f.utf8encode(fe)),Se=De.length!==g.name.length,se=Ce.length!==fe.length,ue="",xe="",re="",J=g.dir,$=g.date,V={crc32:0,compressedSize:0,uncompressedSize:0};j&&!N||(V.crc32=C.crc32,V.compressedSize=C.compressedSize,V.uncompressedSize=C.uncompressedSize);var S=0;j&&(S|=8),K||!Se&&!se||(S|=2048);var O=0,z=0;J&&(O|=16),"UNIX"===v?(z=798,O|=function(C,j){var N=C;return C||(N=j?16893:33204),(65535&N)<<16}(g.unixPermissions,J)):(z=20,O|=function(C,j){return 63&(C||0)}(g.dosPermissions)),l=$.getUTCHours(),l<<=6,l|=$.getUTCMinutes(),l<<=5,l|=$.getUTCSeconds()/2,y=$.getUTCFullYear()-1980,y<<=4,y|=$.getUTCMonth()+1,y<<=5,y|=$.getUTCDate(),Se&&(xe=b(1,1)+b(P(ee),4)+De,ue+="up"+b(xe.length,2)+xe),se&&(re=b(1,1)+b(P(ce),4)+Ce,ue+="uc"+b(re.length,2)+re);var n="";return n+="\n\0",n+=b(S,2),n+=L.magic,n+=b(l,2),n+=b(y,2),n+=b(V.crc32,4),n+=b(V.compressedSize,4),n+=b(V.uncompressedSize,4),n+=b(ee.length,2),n+=b(ue.length,2),{fileRecord:w.LOCAL_FILE_HEADER+n+ee+ue,dirRecord:w.CENTRAL_FILE_HEADER+b(z,2)+n+b(ce.length,2)+"\0\0\0\0"+b(O,4)+b(H,4)+ee+ue+ce}},T=function(C){return w.DATA_DESCRIPTOR+b(C.crc32,4)+b(C.compressedSize,4)+b(C.uncompressedSize,4)};u.inherits(h,p),h.prototype.push=function(C){var j=C.meta.percent||0,N=this.entriesCount,H=this._sources.length;this.accumulate?this.contentBuffer.push(C):(this.bytesWritten+=C.data.length,p.prototype.push.call(this,{data:C.data,meta:{currentFile:this.currentFile,percent:N?(j+100*(N-H-1))/N:100}}))},h.prototype.openedSource=function(C){this.currentSourceOffset=this.bytesWritten,this.currentFile=C.file.name;var j=this.streamFiles&&!C.file.dir;if(j){var N=_(C,j,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:N.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(C){this.accumulate=!1;var j=this.streamFiles&&!C.file.dir,N=_(C,j,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(N.dirRecord),j)this.push({data:T(C),meta:{percent:100}});else for(this.push({data:N.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var C=this.bytesWritten,j=0;j<this.dirRecords.length;j++)this.push({data:this.dirRecords[j],meta:{percent:100}});var H=function(C,j,N,H,v){var d=u.transformTo("string",v(H));return w.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(C,2)+b(C,2)+b(j,4)+b(N,4)+b(d.length,2)+d}(this.dirRecords.length,this.bytesWritten-C,C,this.zipComment,this.encodeFileName);this.push({data:H,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(C){this._sources.push(C);var j=this;return C.on("data",function(N){j.processChunk(N)}),C.on("end",function(){j.closedSource(j.previous.streamInfo),j._sources.length?j.prepareNextSource():j.end()}),C.on("error",function(N){j.error(N)}),this},h.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(C){var j=this._sources;if(!p.prototype.error.call(this,C))return!1;for(var N=0;N<j.length;N++)try{j[N].error(C)}catch(H){}return!0},h.prototype.lock=function(){p.prototype.lock.call(this);for(var C=this._sources,j=0;j<C.length;j++)C[j].lock()},M.exports=h},function(M,x,c){"use strict";function h(f,P){p.call(this,"Nodejs stream input adapter for "+f),this._upstreamEnded=!1,this._bindStream(P)}var u=c(0),p=c(1);u.inherits(h,p),h.prototype._bindStream=function(f){var P=this;this._stream=f,f.pause(),f.on("data",function(w){P.push({data:w,meta:{percent:0}})}).on("error",function(w){P.isPaused?this.generatedError=w:P.error(w)}).on("end",function(){P.isPaused?P._upstreamEnded=!0:P.end()})},h.prototype.pause=function(){return!!p.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},M.exports=h},function(M,x,c){"use strict";function h(A){return new u.Promise(function(R,_){var k=A.decompressed.getContentWorker().pipe(new w);k.on("error",function(T){_(T)}).on("end",function(){k.streamInfo.crc32!==A.decompressed.crc32?_(new Error("Corrupted zip : CRC32 mismatch")):R()}).resume()})}var f=c(0),u=c(9),p=c(6),P=(f=c(0),c(99)),w=c(38),b=c(14);M.exports=function(A,R){var _=this;return R=f.extend(R||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),b.isNode&&b.isStream(A)?u.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):f.prepareContent("the loaded zip file",A,!0,R.optimizedBinaryString,R.base64).then(function(k){var T=new P(R);return T.load(k),T}).then(function(k){var T=[u.Promise.resolve(k)],C=k.files;if(R.checkCRC32)for(var j=0;j<C.length;j++)T.push(h(C[j]));return u.Promise.all(T)}).then(function(k){for(var T=k.shift(),C=T.files,j=0;j<C.length;j++){var N=C[j];_.file(N.fileNameStr,N.decompressed,{binary:!0,optimizedBinaryString:!0,date:N.date,dir:N.dir,comment:N.fileCommentStr.length?N.fileCommentStr:null,unixPermissions:N.unixPermissions,dosPermissions:N.dosPermissions,createFolders:R.createFolders})}return T.zipComment.length&&(_.comment=T.zipComment),_})}},function(M,x,c){"use strict";function h(b){this.files=[],this.loadOptions=b}var u=c(46),p=c(0),f=c(45),P=c(102),w=(c(6),c(3));h.prototype={checkSignature:function(b){if(!this.reader.readAndCheckSignature(b)){this.reader.index-=4;var A=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+p.pretty(A)+", expected "+p.pretty(b)+")")}},isSignature:function(b,A){var R=this.reader.index;this.reader.setIndex(b);var k=this.reader.readString(4)===A;return this.reader.setIndex(R),k},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var b=this.reader.readData(this.zipCommentLength),R=p.transformTo(w.uint8array?"uint8array":"array",b);this.zipComment=this.loadOptions.decodeFileName(R)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var b,A,R,_=this.zip64EndOfCentralSize-44;0<_;)b=this.reader.readInt(2),A=this.reader.readInt(4),R=this.reader.readData(A),this.zip64ExtensibleData[b]={id:b,length:A,value:R}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var b,A;for(b=0;b<this.files.length;b++)this.reader.setIndex((A=this.files[b]).localHeaderOffset),this.checkSignature(f.LOCAL_FILE_HEADER),A.readLocalPart(this.reader),A.handleUTF8(),A.processAttributes()},readCentralDir:function(){var b;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(f.CENTRAL_FILE_HEADER);)(b=new P({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(b);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var b=this.reader.lastIndexOfSignature(f.CENTRAL_DIRECTORY_END);if(b<0)throw this.isSignature(0,f.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(b);var A=b;if(this.checkSignature(f.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===p.MAX_VALUE_16BITS||this.diskWithCentralDirStart===p.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===p.MAX_VALUE_16BITS||this.centralDirRecords===p.MAX_VALUE_16BITS||this.centralDirSize===p.MAX_VALUE_32BITS||this.centralDirOffset===p.MAX_VALUE_32BITS){if(this.zip64=!0,(b=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(b),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,f.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(f.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var R=this.centralDirOffset+this.centralDirSize;this.zip64&&(R+=20,R+=12+this.zip64EndOfCentralSize);var _=A-R;if(_>0)this.isSignature(A,f.CENTRAL_FILE_HEADER)||(this.reader.zero=_);else if(_<0)throw new Error("Corrupted zip: missing "+Math.abs(_)+" bytes.")},prepareReader:function(b){this.reader=u(b)},load:function(b){this.prepareReader(b),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},M.exports=h},function(M,x,c){"use strict";function h(p){u.call(this,p)}var u=c(48);c(0).inherits(h,u),h.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},h.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},h.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},h.prototype.readData=function(p){this.checkOffset(p);var f=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,f},M.exports=h},function(M,x,c){"use strict";function h(p){u.call(this,p)}var u=c(49);c(0).inherits(h,u),h.prototype.readData=function(p){this.checkOffset(p);var f=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,f},M.exports=h},function(M,x,c){"use strict";function h(_,k){this.options=_,this.loadOptions=k}var u=c(46),p=c(0),f=c(21),P=c(22),w=c(6),b=c(39),A=c(3);h.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(_){var k,T;if(_.skip(22),this.fileNameLength=_.readInt(2),T=_.readInt(2),this.fileName=_.readData(this.fileNameLength),_.skip(T),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(k=function(_){for(var k in b)if(b.hasOwnProperty(k)&&b[k].magic===_)return b[k];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+p.pretty(this.compressionMethod)+" unknown (inner file : "+p.transformTo("string",this.fileName)+")");this.decompressed=new f(this.compressedSize,this.uncompressedSize,this.crc32,k,_.readData(this.compressedSize))},readCentralPart:function(_){this.versionMadeBy=_.readInt(2),_.skip(2),this.bitFlag=_.readInt(2),this.compressionMethod=_.readString(2),this.date=_.readDate(),this.crc32=_.readInt(4),this.compressedSize=_.readInt(4),this.uncompressedSize=_.readInt(4);var k=_.readInt(2);if(this.extraFieldsLength=_.readInt(2),this.fileCommentLength=_.readInt(2),this.diskNumberStart=_.readInt(2),this.internalFileAttributes=_.readInt(2),this.externalFileAttributes=_.readInt(4),this.localHeaderOffset=_.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");_.skip(k),this.readExtraFields(_),this.parseZIP64ExtraField(_),this.fileComment=_.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var _=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===_&&(this.dosPermissions=63&this.externalFileAttributes),3===_&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(_){if(this.extraFields[1]){var k=u(this.extraFields[1].value);this.uncompressedSize===p.MAX_VALUE_32BITS&&(this.uncompressedSize=k.readInt(8)),this.compressedSize===p.MAX_VALUE_32BITS&&(this.compressedSize=k.readInt(8)),this.localHeaderOffset===p.MAX_VALUE_32BITS&&(this.localHeaderOffset=k.readInt(8)),this.diskNumberStart===p.MAX_VALUE_32BITS&&(this.diskNumberStart=k.readInt(4))}},readExtraFields:function(_){var k,T,C,j=_.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});_.index<j;)k=_.readInt(2),T=_.readInt(2),C=_.readData(T),this.extraFields[k]={id:k,length:T,value:C}},handleUTF8:function(){var _=A.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=w.utf8decode(this.fileName),this.fileCommentStr=w.utf8decode(this.fileComment);else{var k=this.findExtraFieldUnicodePath();if(null!==k)this.fileNameStr=k;else{var T=p.transformTo(_,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(T)}var C=this.findExtraFieldUnicodeComment();if(null!==C)this.fileCommentStr=C;else{var j=p.transformTo(_,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(j)}}},findExtraFieldUnicodePath:function(){var _=this.extraFields[28789];if(_){var k=u(_.value);return 1!==k.readInt(1)||P(this.fileName)!==k.readInt(4)?null:w.utf8decode(k.readData(_.length-5))}return null},findExtraFieldUnicodeComment:function(){var _=this.extraFields[25461];if(_){var k=u(_.value);return 1!==k.readInt(1)||P(this.fileComment)!==k.readInt(4)?null:w.utf8decode(k.readData(_.length-5))}return null}},M.exports=h},function(M,x,c){var h,u=u||function(p){"use strict";if(!(void 0===p||"undefined"!=typeof navigator&&/MSIE [1-9]\./.test(navigator.userAgent))){var P=function(){return p.URL||p.webkitURL||p},w=p.document.createElementNS("http://www.w3.org/1999/xhtml","a"),b="download"in w,R=/constructor/i.test(p.HTMLElement)||p.safari,_=/CriOS\/[\d]+/.test(navigator.userAgent),k=function(d){(p.setImmediate||p.setTimeout)(function(){throw d},0)},T=function(d){setTimeout(function(){"string"==typeof d?P().revokeObjectURL(d):d.remove()},4e4)},j=function(d){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(d.type)?new Blob([String.fromCharCode(65279),d],{type:d.type}):d},N=function(d,l,y){y||(d=j(d));var g,L=this,ee="application/octet-stream"===d.type,De=function(){!function(d,l,y){for(var g=(l=[].concat(l)).length;g--;){var L=d["on"+l[g]];if("function"==typeof L)try{L.call(d,y||d)}catch(K){k(K)}}}(L,"writestart progress write writeend".split(" "))};if(L.readyState=L.INIT,b)return g=P().createObjectURL(d),void setTimeout(function(){w.href=g,w.download=l,function(d){var l=new MouseEvent("click");d.dispatchEvent(l)}(w),De(),T(g),L.readyState=L.DONE});!function(){if((_||ee&&R)&&p.FileReader){var fe=new FileReader;return fe.onloadend=function(){var ce=_?fe.result:fe.result.replace(/^data:[^;]*;/,"data:attachment/file;");p.open(ce,"_blank")||(p.location.href=ce),ce=void 0,L.readyState=L.DONE,De()},fe.readAsDataURL(d),void(L.readyState=L.INIT)}g||(g=P().createObjectURL(d)),ee?p.location.href=g:p.open(g,"_blank")||(p.location.href=g),L.readyState=L.DONE,De(),T(g)}()},H=N.prototype;return"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob?function(d,l,y){return l=l||d.name||"download",y||(d=j(d)),navigator.msSaveOrOpenBlob(d,l)}:(H.abort=function(){},H.readyState=H.INIT=0,H.WRITING=1,H.DONE=2,H.error=H.onwritestart=H.onprogress=H.onwrite=H.onabort=H.onerror=H.onwriteend=null,function(d,l,y){return new N(d,l||d.name||"download",y)})}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);void 0!==M&&M.exports?M.exports.saveAs=u:null!==c(104)&&null!==c(105)&&void 0!==(h=function(){return u}.call(x,c,x,M))&&(M.exports=h)},function(M,x){M.exports=function(){throw new Error("define cannot be used indirect")}},function(M,x){(function(c){M.exports=c}).call(x,{})}]))}).call(i,Z(1).setImmediate,Z(1).clearImmediate)},function(oe,i,Z){(function(ne,Y){!function(U,M){"use strict";function c(R){delete P[R]}function u(R){if(w)setTimeout(u,0,R);else{var _=P[R];if(_){w=!0;try{!function h(R){var _=R.callback,k=R.args;switch(k.length){case 0:_();break;case 1:_(k[0]);break;case 2:_(k[0],k[1]);break;case 3:_(k[0],k[1],k[2]);break;default:_.apply(void 0,k)}}(_)}finally{c(R),w=!1}}}}if(!U.setImmediate){var p,f=1,P={},w=!1,b=U.document,A=Object.getPrototypeOf&&Object.getPrototypeOf(U);A=A&&A.setTimeout?A:U,"[object process]"==={}.toString.call(U.process)?p=function(R){Y.nextTick(function(){u(R)})}:function(){if(U.postMessage&&!U.importScripts){var R=!0,_=U.onmessage;return U.onmessage=function(){R=!1},U.postMessage("","*"),U.onmessage=_,R}}()?(R="setImmediate$"+Math.random()+"$",_=function(k){k.source===U&&"string"==typeof k.data&&0===k.data.indexOf(R)&&u(+k.data.slice(R.length))},U.addEventListener?U.addEventListener("message",_,!1):U.attachEvent("onmessage",_),p=function(k){U.postMessage(R+k,"*")}):U.MessageChannel?function(){var R=new MessageChannel;R.port1.onmessage=function(_){u(_.data)},p=function(_){R.port2.postMessage(_)}}():b&&"onreadystatechange"in b.createElement("script")?function(){var R=b.documentElement;p=function(_){var k=b.createElement("script");k.onreadystatechange=function(){u(_),k.onreadystatechange=null,R.removeChild(k),k=null},R.appendChild(k)}}():p=function(R){setTimeout(u,0,R)},A.setImmediate=function x(R){"function"!=typeof R&&(R=new Function(""+R));for(var _=new Array(arguments.length-1),k=0;k<_.length;k++)_[k]=arguments[k+1];return P[f]={callback:R,args:_},p(f),f++},A.clearImmediate=c}var R,_}("undefined"==typeof self?void 0===ne?this:ne:self)}).call(i,Z(2),Z(11))},function(oe,i){function Z(){throw new Error("setTimeout has not been defined")}function ne(){throw new Error("clearTimeout has not been defined")}function Y(R){if(u===setTimeout)return setTimeout(R,0);if((u===Z||!u)&&setTimeout)return u=setTimeout,setTimeout(R,0);try{return u(R,0)}catch(_){try{return u.call(null,R,0)}catch(k){return u.call(this,R,0)}}}function M(){b&&P&&(b=!1,P.length?w=P.concat(w):A=-1,w.length&&x())}function x(){if(!b){var R=Y(M);b=!0;for(var _=w.length;_;){for(P=w,w=[];++A<_;)P&&P[A].run();A=-1,_=w.length}P=null,b=!1,function U(R){if(p===clearTimeout)return clearTimeout(R);if((p===ne||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(R);try{p(R)}catch(_){try{return p.call(null,R)}catch(k){return p.call(this,R)}}}(R)}}function c(R,_){this.fun=R,this.array=_}function h(){}var u,p,f=oe.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:Z}catch(R){u=Z}try{p="function"==typeof clearTimeout?clearTimeout:ne}catch(R){p=ne}}();var P,w=[],b=!1,A=-1;f.nextTick=function(R){var _=new Array(arguments.length-1);if(arguments.length>1)for(var k=1;k<arguments.length;k++)_[k-1]=arguments[k];w.push(new c(R,_)),1!==w.length||b||Y(x)},c.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=h,f.addListener=h,f.once=h,f.off=h,f.removeListener=h,f.removeAllListeners=h,f.emit=h,f.prependListener=h,f.prependOnceListener=h,f.listeners=function(R){return[]},f.binding=function(R){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(R){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(oe,i,Z){var ne;oe.exports=(ne=Z(0),function(Y){function U(x){if(M[x])return M[x].exports;var c=M[x]={i:x,l:!1,exports:{}};return Y[x].call(c.exports,c,c.exports,U),c.l=!0,c.exports}var M={};return U.m=Y,U.c=M,U.d=function(x,c,h){U.o(x,c)||Object.defineProperty(x,c,{configurable:!1,enumerable:!0,get:h})},U.n=function(x){var c=x&&x.__esModule?function(){return x.default}:function(){return x};return U.d(c,"a",c),c},U.o=function(x,c){return Object.prototype.hasOwnProperty.call(x,c)},U.p="",U(U.s=0)}([function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var h,c=(h=M(1))&&h.__esModule?h:{default:h};U.default=c.default.plugins.add("gjs-aviary",function(h){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},f=h.getModel(),P=void 0,w={key:"1",onApply:null,getFilename:null,closeOnApply:!0,config:{}};for(var b in w)b in p||(p[b]=w[b]);var A=p.config;A.apiKey=p.key,A.onSave=function(j,N){P.set("src",N);var v=("function"==typeof p.getFilename?p.getFilename:k)(P);("function"==typeof p.onApply?p.onApply:T)(N,v,P),p.closeOnApply&&R.close()};var R=new Aviary.Feather(A),_=h.Commands,k=function(j){var N=j.get("src").split("/").pop();return Date.now()+"_"+N.slice(-15)},T=function(j,N){h.AssetManager.add({src:j,name:N})},C=document.createElement("img");_.add("image-editor",{run:function(j,N,H){var d=(H||{}).model||j.getSelected();P=d,C.src=d.get("src"),R.launch({image:C}),f.trigger("gjs-aviary:launch",d,R)}})})},function(Y,U){Y.exports=ne}]))},function(oe,i,Z){var ne;oe.exports=(ne=Z(0),function(Y){function U(x){if(M[x])return M[x].exports;var c=M[x]={i:x,l:!1,exports:{}};return Y[x].call(c.exports,c,c.exports,U),c.l=!0,c.exports}var M={};return U.m=Y,U.c=M,U.d=function(x,c,h){U.o(x,c)||Object.defineProperty(x,c,{configurable:!1,enumerable:!0,get:h})},U.n=function(x){var c=x&&x.__esModule?function(){return x.default}:function(){return x};return U.d(c,"a",c),c},U.o=function(x,c){return Object.prototype.hasOwnProperty.call(x,c)},U.p="",U(U.s=0)}([function(Y,U,M){"use strict";Object.defineProperty(U,"__esModule",{value:!0});var h,c=(h=M(1))&&h.__esModule?h:{default:h};U.default=c.default.plugins.add("gjs-plugin-filestack",function(h){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},P=h.getConfig().stylePrefix||"",w=void 0,b={key:"",btnEl:"",btnText:"Add images",filestackOpts:{accept:"image/*",maxFiles:10},onComplete:function(k,T){}};for(var A in b)A in p||(p[A]=b[A]);if(!filestack)throw new Error("Filestack instance not found");if(!p.key)throw new Error("Filestack's API key not found");var R=filestack.init(p.key);h.on("run:open-assets",function(){var T=h.Modal.getContentEl(),C=T.querySelector("."+P+"am-file-uploader"),j=T.querySelector("."+P+"am-assets-header"),N=T.querySelector("."+P+"am-assets-cont");C&&(C.style.display="none"),j&&(j.style.display="none"),N.style.width="100%",w||((w=p.btnEl)||((w=document.createElement("button")).className=P+"btn-prim "+P+"btn-filestack",w.innerHTML=p.btnText),w.onclick=function(){R.pick(p.filestackOpts).then(function(H){var v=H.filesUploaded,d=v instanceof Array?v:[v],l=_(d);p.onComplete(d,l)})}),N.insertBefore(w,j)});var _=function(k){var T=k.map(function(C){return C.src=C.url,C});return h.AssetManager.add(T)}})},function(Y,U){Y.exports=ne}]))},function(oe,i,Z){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var M,Y=(M=Z(15))&&M.__esModule?M:{default:M},U=Z(3);i.default=function(M,x){var c=M.Commands,h=x.textCleanCanvas;c.add(U.cmdImport,(0,Y.default)(M,x)),c.add(U.cmdDeviceDesktop,function(u){return u.setDevice("Desktop")}),c.add(U.cmdDeviceTablet,function(u){return u.setDevice("Tablet")}),c.add(U.cmdDeviceMobile,function(u){return u.setDevice("Mobile portrait")}),c.add(U.cmdClear,function(u){return confirm(h)&&u.runCommand("core:canvas-clear")})}},function(oe,i,Z){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var ne=Object.assign||function(Y){for(var U=1;U<arguments.length;U++){var M=arguments[U];for(var x in M)Object.prototype.hasOwnProperty.call(M,x)&&(Y[x]=M[x])}return Y};i.default=function(Y,U){var M=Y.getConfig("stylePrefix"),x=Y.Modal,c=Y.CodeManager.getViewer("CodeMirror").clone(),h=document.createElement("div"),u=U.modalImportLabel,p=U.modalImportContent,f=c.editor,P=document.createElement("button");return P.type="button",P.innerHTML=U.modalImportButton,P.className=M+"btn-prim "+M+"btn-import",P.onclick=function(w){Y.setComponents(f.getValue().trim()),x.close()},c.set(ne({codeName:"htmlmixed",theme:"hopscotch",readOnly:0},U.importViewerOptions)),{run:function(w){var b=this;if(!f){var A=document.createElement("textarea");if(u){var R=document.createElement("div");R.className=M+"import-label",R.innerHTML=u,h.appendChild(R)}h.appendChild(A),h.appendChild(P),c.init(A),f=c.editor}x.setTitle(U.modalImportTitle),x.setContent(h);var _="function"==typeof p?p(w):p;c.setContent(_||""),x.open().getModel().once("change:open",function(){return w.stopCommand(b.id)}),f.refresh()},stop:function(){x.close()}}}},function(oe,i,Z){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(ne,Y){var U=ne.BlockManager,M=function(x){return Y.blocks.indexOf(x)>=0};M("link-block")&&U.add("link-block",{category:"Basic",label:"Link Block",attributes:{class:"fa fa-link"},content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}}),M("quote")&&U.add("quote",{label:"Quote",category:"Basic",attributes:{class:"fa fa-quote-right"},content:'<blockquote class="quote">\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit\n      </blockquote>'}),M("text-basic")&&U.add("text-basic",{category:"Basic",label:"Text section",attributes:{class:"gjs-fonts gjs-f-h1p"},content:'<section class="bdg-sect">\n      <h1 class="heading">Insert title here</h1>\n      <p class="paragraph">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua</p>\n      </section>'})}},function(oe,i,Z){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(ne){ne.DomComponents.getType("default")}},function(oe,i,Z){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var ne=Z(3);i.default=function(Y,U){var M=Y.Panels,x=Y.getConfig(),c="sw-visibility",h="export-template",u="open-sm",p="open-layers",f="open-blocks",P="fullscreen",w="preview";x.showDevices=0,M.getPanels().reset([{id:"commands",buttons:[{}]},{id:"options",buttons:[{id:c,command:c,context:c,className:"fa fa-square-o"},{id:w,context:w,command:function(A){return A.runCommand(w)},className:"fa fa-eye"},{id:P,command:P,context:P,className:"fa fa-arrows-alt"},{id:h,className:"fa fa-code",command:function(A){return A.runCommand(h)}},{id:"undo",className:"fa fa-undo",command:function(A){return A.runCommand("core:undo")}},{id:"redo",className:"fa fa-repeat",command:function(A){return A.runCommand("core:redo")}},{id:ne.cmdImport,className:"fa fa-download",command:function(A){return A.runCommand(ne.cmdImport)}},{id:ne.cmdClear,className:"fa fa-trash",command:function(A){return A.runCommand(ne.cmdClear)}}]},{id:"views",buttons:[{id:u,command:u,active:!0,className:"fa fa-paint-brush"},{id:"open-tm",command:"open-tm",className:"fa fa-cog"},{id:p,command:p,className:"fa fa-bars"},{id:f,command:f,className:"fa fa-th-large"}]}]),M.addPanel({id:"devices-c"}).get("buttons").add([{id:ne.cmdDeviceDesktop,command:ne.cmdDeviceDesktop,className:"fa fa-desktop",active:1},{id:ne.cmdDeviceTablet,command:ne.cmdDeviceTablet,className:"fa fa-tablet"},{id:ne.cmdDeviceMobile,command:ne.cmdDeviceMobile,className:"fa fa-mobile"}]);var b=M.getButton("views",f);Y.on("load",function(){return b&&b.set("active",1)}),U.showStylesOnChange&&Y.on("component:selected",function(){var A=M.getButton("views",u),R=M.getButton("views",p);R&&R.get("active")||!Y.getSelected()||A&&A.set("active",1)})}},function(oe,i,Z){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=function(ne,Y){var M=Y.customStyleManager;ne.StyleManager.getSectors().reset(M&&M.length?M:[{name:Y.textGeneral,open:!1,buildProps:["float","display","position","top","right","left","bottom"]},{name:Y.textLayout,open:!1,buildProps:["width","height","max-width","min-height","margin","padding"]},{name:Y.textTypography,open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"],properties:[{property:"text-align",list:[{value:"left",className:"fa fa-align-left"},{value:"center",className:"fa fa-align-center"},{value:"right",className:"fa fa-align-right"},{value:"justify",className:"fa fa-align-justify"}]}]},{name:Y.textDecorations,open:!1,buildProps:["border-radius-c","background-color","border-radius","border","box-shadow","background"]},{name:Y.textExtra,open:!1,buildProps:["transition","perspective","transform"]}])}}])});